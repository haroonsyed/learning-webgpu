var j = 1e-6, U = typeof Float32Array < "u" ? Float32Array : Array;
Math.hypot || (Math.hypot = function() {
  for (var e = 0, t = arguments.length; t--; )
    e += arguments[t] * arguments[t];
  return Math.sqrt(e);
});
function L() {
  var e = new U(16);
  return U != Float32Array && (e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0), e[0] = 1, e[5] = 1, e[10] = 1, e[15] = 1, e;
}
function ie(e) {
  return e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 1, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[10] = 1, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, e;
}
function I(e, t, r) {
  var s = r[0], i = r[1], n = r[2], a, o, c, h, _, l, p, f, g, d, y, m;
  return t === e ? (e[12] = t[0] * s + t[4] * i + t[8] * n + t[12], e[13] = t[1] * s + t[5] * i + t[9] * n + t[13], e[14] = t[2] * s + t[6] * i + t[10] * n + t[14], e[15] = t[3] * s + t[7] * i + t[11] * n + t[15]) : (a = t[0], o = t[1], c = t[2], h = t[3], _ = t[4], l = t[5], p = t[6], f = t[7], g = t[8], d = t[9], y = t[10], m = t[11], e[0] = a, e[1] = o, e[2] = c, e[3] = h, e[4] = _, e[5] = l, e[6] = p, e[7] = f, e[8] = g, e[9] = d, e[10] = y, e[11] = m, e[12] = a * s + _ * i + g * n + t[12], e[13] = o * s + l * i + d * n + t[13], e[14] = c * s + p * i + y * n + t[14], e[15] = h * s + f * i + m * n + t[15]), e;
}
function re(e, t, r) {
  var s = r[0], i = r[1], n = r[2];
  return e[0] = t[0] * s, e[1] = t[1] * s, e[2] = t[2] * s, e[3] = t[3] * s, e[4] = t[4] * i, e[5] = t[5] * i, e[6] = t[6] * i, e[7] = t[7] * i, e[8] = t[8] * n, e[9] = t[9] * n, e[10] = t[10] * n, e[11] = t[11] * n, e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], e;
}
function Z(e, t, r, s) {
  var i = s[0], n = s[1], a = s[2], o = Math.hypot(i, n, a), c, h, _, l, p, f, g, d, y, m, u, w, v, b, T, S, G, N, P, k, R, C, z, D;
  return o < j ? null : (o = 1 / o, i *= o, n *= o, a *= o, c = Math.sin(r), h = Math.cos(r), _ = 1 - h, l = t[0], p = t[1], f = t[2], g = t[3], d = t[4], y = t[5], m = t[6], u = t[7], w = t[8], v = t[9], b = t[10], T = t[11], S = i * i * _ + h, G = n * i * _ + a * c, N = a * i * _ - n * c, P = i * n * _ - a * c, k = n * n * _ + h, R = a * n * _ + i * c, C = i * a * _ + n * c, z = n * a * _ - i * c, D = a * a * _ + h, e[0] = l * S + d * G + w * N, e[1] = p * S + y * G + v * N, e[2] = f * S + m * G + b * N, e[3] = g * S + u * G + T * N, e[4] = l * P + d * k + w * R, e[5] = p * P + y * k + v * R, e[6] = f * P + m * k + b * R, e[7] = g * P + u * k + T * R, e[8] = l * C + d * z + w * D, e[9] = p * C + y * z + v * D, e[10] = f * C + m * z + b * D, e[11] = g * C + u * z + T * D, t !== e && (e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e);
}
function ne(e, t, r) {
  var s = Math.sin(r), i = Math.cos(r), n = t[4], a = t[5], o = t[6], c = t[7], h = t[8], _ = t[9], l = t[10], p = t[11];
  return t !== e && (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e[4] = n * i + h * s, e[5] = a * i + _ * s, e[6] = o * i + l * s, e[7] = c * i + p * s, e[8] = h * i - n * s, e[9] = _ * i - a * s, e[10] = l * i - o * s, e[11] = p * i - c * s, e;
}
function ee(e, t, r) {
  var s = Math.sin(r), i = Math.cos(r), n = t[0], a = t[1], o = t[2], c = t[3], h = t[8], _ = t[9], l = t[10], p = t[11];
  return t !== e && (e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e[0] = n * i - h * s, e[1] = a * i - _ * s, e[2] = o * i - l * s, e[3] = c * i - p * s, e[8] = n * s + h * i, e[9] = a * s + _ * i, e[10] = o * s + l * i, e[11] = c * s + p * i, e;
}
function ae(e, t, r) {
  var s = Math.sin(r), i = Math.cos(r), n = t[0], a = t[1], o = t[2], c = t[3], h = t[4], _ = t[5], l = t[6], p = t[7];
  return t !== e && (e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e[0] = n * i + h * s, e[1] = a * i + _ * s, e[2] = o * i + l * s, e[3] = c * i + p * s, e[4] = h * i - n * s, e[5] = _ * i - a * s, e[6] = l * i - o * s, e[7] = p * i - c * s, e;
}
function oe(e, t, r, s, i) {
  var n = 1 / Math.tan(t / 2), a;
  return e[0] = n / r, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = n, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[11] = -1, e[12] = 0, e[13] = 0, e[15] = 0, i != null && i !== 1 / 0 ? (a = 1 / (s - i), e[10] = (i + s) * a, e[14] = 2 * i * s * a) : (e[10] = -1, e[14] = -2 * s), e;
}
var ce = oe;
function he(e, t, r, s) {
  var i, n, a, o, c, h, _, l, p, f, g = t[0], d = t[1], y = t[2], m = s[0], u = s[1], w = s[2], v = r[0], b = r[1], T = r[2];
  return Math.abs(g - v) < j && Math.abs(d - b) < j && Math.abs(y - T) < j ? ie(e) : (_ = g - v, l = d - b, p = y - T, f = 1 / Math.hypot(_, l, p), _ *= f, l *= f, p *= f, i = u * p - w * l, n = w * _ - m * p, a = m * l - u * _, f = Math.hypot(i, n, a), f ? (f = 1 / f, i *= f, n *= f, a *= f) : (i = 0, n = 0, a = 0), o = l * a - p * n, c = p * i - _ * a, h = _ * n - l * i, f = Math.hypot(o, c, h), f ? (f = 1 / f, o *= f, c *= f, h *= f) : (o = 0, c = 0, h = 0), e[0] = i, e[1] = o, e[2] = _, e[3] = 0, e[4] = n, e[5] = c, e[6] = l, e[7] = 0, e[8] = a, e[9] = h, e[10] = p, e[11] = 0, e[12] = -(i * g + n * d + a * y), e[13] = -(o * g + c * d + h * y), e[14] = -(_ * g + l * d + p * y), e[15] = 1, e);
}
function A() {
  var e = new U(3);
  return U != Float32Array && (e[0] = 0, e[1] = 0, e[2] = 0), e;
}
function H(e, t, r) {
  var s = new U(3);
  return s[0] = e, s[1] = t, s[2] = r, s;
}
function F(e, t, r) {
  return e[0] = t[0] + r[0], e[1] = t[1] + r[1], e[2] = t[2] + r[2], e;
}
function _e(e, t, r) {
  return e[0] = t[0] - r[0], e[1] = t[1] - r[1], e[2] = t[2] - r[2], e;
}
function J(e, t, r) {
  return e[0] = t[0] * r, e[1] = t[1] * r, e[2] = t[2] * r, e;
}
function le(e, t) {
  return e[0] = -t[0], e[1] = -t[1], e[2] = -t[2], e;
}
function K(e, t) {
  var r = t[0], s = t[1], i = t[2], n = r * r + s * s + i * i;
  return n > 0 && (n = 1 / Math.sqrt(n)), e[0] = t[0] * n, e[1] = t[1] * n, e[2] = t[2] * n, e;
}
function de(e, t, r) {
  var s = t[0], i = t[1], n = t[2], a = r[0], o = r[1], c = r[2];
  return e[0] = i * c - n * o, e[1] = n * a - s * c, e[2] = s * o - i * a, e;
}
function Q(e, t, r) {
  var s = t[0], i = t[1], n = t[2], a = r[3] * s + r[7] * i + r[11] * n + r[15];
  return a = a || 1, e[0] = (r[0] * s + r[4] * i + r[8] * n + r[12]) / a, e[1] = (r[1] * s + r[5] * i + r[9] * n + r[13]) / a, e[2] = (r[2] * s + r[6] * i + r[10] * n + r[14]) / a, e;
}
(function() {
  var e = A();
  return function(t, r, s, i, n, a) {
    var o, c;
    for (r || (r = 3), s || (s = 0), i ? c = Math.min(i * r + s, t.length) : c = t.length, o = s; o < c; o += r)
      e[0] = t[o], e[1] = t[o + 1], e[2] = t[o + 2], n(e, e, a), t[o] = e[0], t[o + 1] = e[1], t[o + 2] = e[2];
    return t;
  };
})();
function B() {
  var e = new U(4);
  return U != Float32Array && (e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 0), e;
}
function O(e, t, r, s) {
  var i = new U(4);
  return i[0] = e, i[1] = t, i[2] = r, i[3] = s, i;
}
(function() {
  var e = B();
  return function(t, r, s, i, n, a) {
    var o, c;
    for (r || (r = 4), s || (s = 0), i ? c = Math.min(i * r + s, t.length) : c = t.length, o = s; o < c; o += r)
      e[0] = t[o], e[1] = t[o + 1], e[2] = t[o + 2], e[3] = t[o + 3], n(e, e, a), t[o] = e[0], t[o + 1] = e[1], t[o + 2] = e[2], t[o + 3] = e[3];
    return t;
  };
})();
const q = (e, t = GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST) => {
  const { device: r } = E, s = r.createBuffer({
    size: e.byteLength,
    usage: t,
    mappedAtCreation: !0
  }), i = s.getMappedRange();
  return new Uint8Array(i).set(
    new Uint8Array(e.buffer, e.byteOffset, e.byteLength)
  ), s.unmap(), s;
}, X = {}, pe = async (e) => {
  if (!e || X[e])
    return;
  console.log("Loading model", e);
  const r = await (await fetch(e)).text(), s = [], i = [], n = [], a = [];
  let o = B(), c = B();
  r.split(`
`).forEach((m) => {
    const u = m.split(" "), w = u[0];
    if (w === "v") {
      const v = O(
        parseFloat(u[1]),
        parseFloat(u[2]),
        parseFloat(u[3]),
        1
      );
      o[0] = Math.max(o[0], v[0]), o[1] = Math.max(o[1], v[1]), o[2] = Math.max(o[2], v[2]), c[0] = Math.min(c[0], v[0]), c[1] = Math.min(c[1], v[1]), c[2] = Math.min(c[2], v[2]), s.push(v);
    } else if (w === "vn") {
      const v = O(
        parseFloat(u[1]),
        parseFloat(u[2]),
        parseFloat(u[3]),
        0
      );
      i.push(v);
    } else if (w === "vt") {
      const v = O(
        parseFloat(u[1]),
        parseFloat(u[2]),
        0,
        0
      );
      n.push(v);
    } else w === "f" && (a.push(u[1]), a.push(u[2]), a.push(u[3]));
  }), c[0] + (o[0] - c[0]) / 2, c[1] + (o[1] - c[1]) / 2, c[2] + (o[2] - c[2]) / 2;
  const h = [], _ = /* @__PURE__ */ new Map();
  let l = [];
  a.forEach((m) => {
    if (!_.has(m)) {
      const u = m.split("/").filter((S) => S !== ""), w = parseInt(u[0]) - 1, v = parseInt(u[1]) - 1, b = parseInt(u[2]) - 1;
      l.push(s[w]), l.push(n[v] || B()), l.push(i[b] || B());
      const T = _.size;
      _.set(m, T);
    }
    h.push(_.get(m));
  });
  const p = l.flatMap((m) => [...m]), f = q(
    new Float32Array(p)
  ), g = q(
    new Int32Array(h),
    GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST
  ), d = h.length, y = {
    vertex_data_gpu: f,
    indices_gpu: g,
    index_count: d
  };
  X[e] = y;
};
class $ {
  constructor({
    id: t,
    name: r,
    scene: s,
    model: i = "",
    shader_path: n = "",
    pipeline: a,
    position: o = A(),
    velocity: c = A(),
    rotation: h = A(),
    scale: _ = H(1, 1, 1),
    texture_diffuse: l = void 0,
    texture_specular: p = void 0,
    texture_normal: f = void 0,
    texture_emissive: g = void 0
  }) {
    this.get_model_matrix = () => {
      const d = L();
      return I(d, d, this.position), ne(d, d, this.rotation[0]), ee(d, d, this.rotation[1]), ae(d, d, this.rotation[2]), re(d, d, this.scale), d;
    }, this.get_model_data = async () => (await pe(this.model), X[this.model]), this.has_texture_diffuse = () => this.texture_diffuse !== void 0 && this.texture_diffuse !== "", this.has_texture_specular = () => this.texture_specular !== void 0 && this.texture_specular !== "", this.has_texture_normal = () => this.texture_normal !== void 0 && this.texture_normal !== "", this.has_texture_emissive = () => this.texture_emissive !== void 0 && this.texture_emissive !== "", this.update = async (d) => {
    }, this.remove_from_scene = (d) => {
      d.objects = d.objects.filter((y) => y !== this);
    }, this.id = t, this.name = r, this.position = o, this.velocity = c, this.rotation = h, this.scale = _, this.model = i, this.texture_diffuse = l, this.texture_specular = p, this.texture_normal = f, this.texture_emissive = g, this.shader_path = n, this.pipeline = a, this.pipeline_key = (a == null ? void 0 : a.get_pipeline_key(n)) || "";
  }
}
class W extends $ {
  constructor({ look_at_target: t, ...r }) {
    super(r), this.up = H(0, 1, 0), this.look_at_target = A(), this.movement_mode = 0, this.rotation_speed = 0.01, this.movement_speed = 0.01, this.mouse_sensitivity = 1e-3, this.look_at = (s) => {
      this.look_at_target = s;
    }, this.get_camera_forward = () => K(
      A(),
      _e(A(), this.look_at_target, this.position)
    ), this.get_camera_right = () => K(
      A(),
      de(A(), this.get_camera_forward(), this.up)
    ), this.get_view_matrix = () => {
      const s = L();
      return I(s, s, this.position), he(s, this.position, this.look_at_target, this.up), s;
    }, this.get_projection_matrix = (s) => {
      if (!s) {
        const n = window.innerWidth, a = window.innerHeight;
        s = n / a;
      }
      const i = L();
      return ce(i, Math.PI / 4, s, 0.1, 1e3), i;
    }, this.update = async (s) => {
      const { key_press: i, key_state: n, mouse_state: a } = E.system_input, { canvas: o } = s;
      if (i.get("`") && (console.log("toggling camera mode"), this.movement_mode === 0 ? (this.movement_mode = 1, o == null || o.requestPointerLock()) : this.movement_mode === 1 ? (document.exitPointerLock(), this.movement_mode = 2) : this.movement_mode === 2 && (this.movement_mode = 0)), this.movement_mode === 0) {
        if (n.get("a") || n.get("d")) {
          const c = n.get("a") ? this.rotation_speed : -this.rotation_speed, h = L();
          I(h, h, this.look_at_target), ee(h, h, c), I(
            h,
            h,
            le(A(), this.look_at_target)
          ), Q(this.position, this.position, h);
        }
      } else if (this.movement_mode === 1) {
        if (a.dx || a.dy) {
          this.get_camera_forward();
          const c = this.get_camera_right(), h = a.dx * this.mouse_sensitivity, _ = a.dy * this.mouse_sensitivity, l = L();
          Z(l, l, -h, this.up), Z(l, l, -_, c), Q(this.position, this.position, l);
          const p = this.get_camera_forward();
          this.get_camera_right(), F(this.look_at_target, this.position, p);
        }
        if (n.get("w") || n.get("s")) {
          const c = n.get("w") ? this.movement_speed : -this.movement_speed, h = this.get_camera_forward();
          J(h, h, c), F(this.position, this.position, h), F(this.look_at_target, this.look_at_target, h);
        }
        if (n.get("a") || n.get("d")) {
          const c = n.get("a") ? -this.movement_speed : this.movement_speed, h = this.get_camera_right();
          J(h, h, c), F(this.position, this.position, h), F(this.look_at_target, this.look_at_target, h);
        }
      } else this.movement_mode;
    }, this.look_at(t || A());
  }
}
class te extends $ {
  constructor({
    color: t = H(1, 1, 1),
    intensity: r = 1,
    ...s
  }) {
    super(s), this.get_uniform_data = () => ({
      position: [...this.position, 0],
      color: this.color
    }), this.color = O(t[0], t[1], t[2], r);
  }
}
class fe {
  constructor() {
    this.registered_pipelines = /* @__PURE__ */ new Map(), this.register_pipeline = (t, r, s) => {
      const i = t.get_pipeline_key(r);
      this.registered_pipelines.has(i) || t.construct_pipeline(r, s).then((n) => {
        this.registered_pipelines.set(i, n);
      });
    }, this.get_registered_pipeline = (t) => this.registered_pipelines.get(t);
  }
}
class ue {
  constructor() {
    this.shaders = /* @__PURE__ */ new Map(), this.get_shader = async (t) => {
      if (!this.shaders.has(t)) {
        const r = await fetch(t);
        this.shaders.set(t, await r.text());
      }
      return this.shaders.get(t);
    }, this.get_registered_shader = (t) => this.shaders.get(t);
  }
}
var M = /* @__PURE__ */ ((e) => (e.SCENE_FRAME_START = "SCENE_FRAME_START", e.SCENE_FRAME_END = "SCENE_FRAME_END", e.SCENE_UPDATE_START = "SCENE_UPDATE_START", e.SCENE_UPDATE_END = "SCENE_UPDATE_END", e.SCENE_RENDER_START = "SCENE_RENDER_START", e.SCENE_RENDER_END = "SCENE_RENDER_END", e))(M || {});
class ge {
  constructor() {
    this.events = /* @__PURE__ */ new Map();
  }
  subscribe(t, r) {
    return this.events.has(t) || this.events.set(t, []), this.events.get(t).includes(r) || this.events.get(t).push(r), r;
  }
  unsubscribe(t, r) {
    const s = this.events.get(t), i = (s == null ? void 0 : s.indexOf(r)) ?? -1;
    i >= 0 && s.splice(i, 1);
  }
  async publish(t, r = {}) {
    if (!this.events.has(t))
      return;
    const i = this.events.get(t).map((n) => n(r));
    await Promise.all(i);
  }
}
class me {
  constructor() {
    this.textures = {}, this.empty_texture = this.get_default_texture();
  }
  get_default_texture() {
    return E.device.createTexture({
      size: [1, 1],
      format: "rgba8unorm",
      usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST
    });
  }
  async load_texture(t, r = "rgba8unorm") {
    if (t === void 0 || t === "")
      return this.empty_texture;
    if (this.textures[t])
      return this.textures[t];
    const i = await (await fetch(t)).blob(), n = await createImageBitmap(i, {
      colorSpaceConversion: "none"
    }), a = E.device.createTexture({
      label: t,
      format: r,
      size: [n.width, n.height],
      usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT
    });
    return E.device.queue.copyExternalImageToTexture(
      { source: n },
      { texture: a },
      [n.width, n.height]
    ), this.textures[t] = a, a;
  }
}
class ve extends $ {
  constructor(t) {
    var i, n;
    super(t), this.parse_workgroup_size = (a, o, c) => {
      if (typeof a == "string")
        switch (a) {
          case "canvas_width":
            return o;
          case "canvas_height":
            return c;
          default:
            return 1;
        }
      else
        return a;
    };
    const r = ((i = t.scene.canvas) == null ? void 0 : i.width) || 1, s = ((n = t.scene.canvas) == null ? void 0 : n.height) || 1;
    this.workgroup_size = [
      this.parse_workgroup_size(
        t.workgroup_size[0],
        r,
        s
      ),
      this.parse_workgroup_size(
        t.workgroup_size[1],
        r,
        s
      ),
      this.parse_workgroup_size(
        t.workgroup_size[2],
        r,
        s
      )
    ];
  }
}
const ye = {
  SceneObject: $,
  Light: te,
  Camera: W,
  ComputeObject: ve
};
class se {
  constructor(t, r, s = 0) {
    this.shader_path = t, this.order = s, this.gpu_pipeline = r;
  }
  static get_pipeline_key(t) {
    return `${t}+${this.get_pipeline_label()}`;
  }
  static get_pipeline_label() {
    throw new Error(
      "Please return a unique label for your pipeline from get_pipeline_label"
    );
  }
  // So this is interesting because it is abstract (workaround via error) and static. Not something possible in java lol.
  //
  // Why static?
  //  This is a builder for actual implementations and gives you the instance.
  //
  // Why not just a constructor/inheritance?
  // Because constructors cannot be async, so I have to use a static async function to build the pipeline.
  //  The alternative is to have the constructor of derived class call the async function with a flag that the pipeline is ready...but I don't want to check flags.
  //
  // Why abstract?
  // I want this abstract because every pipeline will have a unique layout and construction requirements, so I have to defer the implementation.
  // Still thinking of a better way to do this...trickiest part of the code rn
  //
  static async construct_pipeline(t, r) {
    throw new Error(
      "Please implement logic for creating your pipeline, make sure to call super() so the pipeline is registered."
    );
  }
}
class V extends se {
  static get_pipeline_label() {
    return "default_2d_compute";
  }
  // Necessary to construct asynchonously
  static async construct_pipeline(t, r) {
    const s = await r.shader_manager.get_shader(t), { device: i } = E, n = i.createShaderModule({
      code: s
    }), a = i.createComputePipeline({
      layout: "auto",
      compute: {
        module: n,
        entryPoint: "main"
      }
    });
    return new V(t, a);
  }
  async render(t) {
    const r = V.get_pipeline_key(
      this.shader_path
    ), s = t.objects.filter(
      (a) => a.pipeline_key === r
    );
    if (s.length === 0 || !t.texture_view)
      return;
    const i = E.command_encoder.beginComputePass();
    i.setPipeline(this.gpu_pipeline);
    const n = {
      layout: this.gpu_pipeline.getBindGroupLayout(0),
      entries: [
        {
          binding: 0,
          resource: t.texture_view
        }
      ]
    };
    i.setBindGroup(
      0,
      E.device.createBindGroup(n)
    ), s.forEach((a) => {
      const o = a;
      i.dispatchWorkgroups(
        o.workgroup_size[0],
        o.workgroup_size[1],
        o.workgroup_size[2]
      );
    }), i.end();
  }
}
const we = 4 + 4 * 4 + 4 * 4 + 10 * 4 * 2, xe = {
  entries: [
    {
      binding: 0,
      visibility: GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT,
      buffer: {
        type: "uniform"
      }
    },
    {
      binding: 1,
      visibility: GPUShaderStage.FRAGMENT,
      sampler: {}
    },
    {
      // Diffuse texture
      binding: 2,
      visibility: GPUShaderStage.FRAGMENT,
      texture: {}
    },
    {
      // Specular texture
      binding: 3,
      visibility: GPUShaderStage.FRAGMENT,
      texture: {}
    },
    {
      // Normal texture
      binding: 4,
      visibility: GPUShaderStage.FRAGMENT,
      texture: {}
    },
    {
      // Model transforms
      binding: 5,
      visibility: GPUShaderStage.VERTEX,
      buffer: {
        type: "read-only-storage"
      }
    }
  ]
};
class Y extends se {
  static get_pipeline_label() {
    return "default_3d";
  }
  // Necessary to construct asynchonously
  static async construct_pipeline(t, r) {
    const { shader_manager: s } = r, i = await s.get_shader(t), { device: n } = E, { presentation_format: a } = r, o = n.createShaderModule({
      code: i
    }), c = n.createBindGroupLayout(
      xe
    ), h = n.createRenderPipeline({
      label: "default_3d",
      layout: n.createPipelineLayout({
        bindGroupLayouts: [c]
        // group 0, binding 0
      }),
      vertex: {
        module: o,
        buffers: [
          {
            arrayStride: 16 * 3,
            attributes: [
              {
                shaderLocation: 0,
                // Position
                offset: 0,
                format: "float32x4"
              },
              {
                shaderLocation: 1,
                // UV
                offset: 16,
                format: "float32x4"
              },
              {
                shaderLocation: 2,
                // Normal
                offset: 32,
                format: "float32x4"
              }
            ]
          }
        ]
      },
      fragment: {
        module: o,
        targets: [
          {
            format: a
          }
        ]
      },
      primitive: {
        topology: "triangle-list"
      },
      depthStencil: {
        format: "depth24plus",
        depthWriteEnabled: !0,
        depthCompare: "less"
      }
    }), _ = new Y(t, h);
    return _.uniform_buffer = q(
      new Float32Array(we),
      GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST
    ), _;
  }
  async render(t) {
    var N, P;
    const { device: r, command_encoder: s } = E, { texture_manager: i, texture_view: n, depth_texture_view: a } = t, o = Y.get_pipeline_key(this.shader_path), c = t.objects.filter(
      (k) => k.pipeline_key === o
    );
    if (c.length === 0 || !n || !a)
      return;
    const h = s.beginRenderPass({
      colorAttachments: [
        {
          view: n,
          clearValue: [0, 0, 0, 1],
          loadOp: "clear",
          storeOp: "store"
        }
      ],
      depthStencilAttachment: {
        view: a,
        depthClearValue: 1,
        stencilClearValue: 0,
        depthLoadOp: "clear",
        depthStoreOp: "store"
      }
    });
    h.setPipeline(this.gpu_pipeline);
    const _ = c[0], l = _.has_texture_diffuse() ? 1 : 0, p = _.has_texture_specular() ? 1 : 0, f = _.has_texture_normal() ? 1 : 0, g = await i.load_texture(
      _.texture_diffuse
    ), d = await i.load_texture(
      _.texture_specular
    ), y = await i.load_texture(
      _.texture_normal
    ), m = new Float32Array(
      c.flatMap((k) => [...k.get_model_matrix()])
    ), u = c.length * 16 * 4, w = ((N = this.model_transforms) == null ? void 0 : N.size) ?? 0;
    u > w ? ((P = this.model_transforms) == null || P.destroy(), this.model_transforms = q(
      m,
      GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST
    )) : r.queue.writeBuffer(this.model_transforms, 0, m);
    const v = new Float32Array([
      l,
      p,
      f,
      t.lights.length,
      ...t.camera.get_view_matrix(),
      ...t.camera.get_projection_matrix(),
      ...t.lights.reduce(
        (k, R) => k.concat([...R.position, 0, ...R.color]),
        []
      )
    ]);
    r.queue.writeBuffer(this.uniform_buffer, 0, v);
    const b = {
      layout: this.gpu_pipeline.getBindGroupLayout(0),
      entries: [
        {
          binding: 0,
          resource: {
            buffer: this.uniform_buffer,
            offset: 0,
            size: this.uniform_buffer.size
          }
        },
        {
          binding: 1,
          resource: r.createSampler({})
        },
        {
          // Diffuse texture
          binding: 2,
          resource: g.createView()
        },
        {
          // Specular texture
          binding: 3,
          resource: d.createView()
        },
        {
          // Normal texture
          binding: 4,
          resource: y.createView()
        },
        {
          // Model transforms
          binding: 5,
          resource: {
            buffer: this.model_transforms,
            offset: 0,
            size: this.model_transforms.size
          }
        }
      ]
    };
    h.setBindGroup(0, r.createBindGroup(b));
    const { vertex_data_gpu: T, indices_gpu: S, index_count: G } = await _.get_model_data();
    h.setVertexBuffer(0, T), h.setIndexBuffer(S, "uint32"), h.drawIndexed(
      G,
      c.length,
      0,
      0,
      0
    ), h.end();
  }
}
const Ee = {
  Default2DComputePipeLine: V,
  Default3DPipeLine: Y
};
class be {
  // TODO: Load scene from file
  // A scene will have resource managers that will load/cache resources (textures, pipelines, shaders, models etc). Unloading a scene will unload all resources cleanly.
  // In other words, resource managers should not be static, rather classes that are instantiated per scene.
  constructor(t = "", r = "canvas") {
    this.active = !0, this.current_frame = 0, this.event_system = new ge(), this.texture_manager = new me(), this.pipeline_manager = new fe(), this.shader_manager = new ue(), this.presentation_format = "rgba8unorm", this.lights = [], this.camera = new W({
      id: "-1",
      name: "camera",
      scene: this
    }), this.objects = [], this.load_scene = async (s, i) => {
      console.log(`Loading scene from: ${s}`);
      try {
        const a = await (await fetch(s)).json(), o = a.canvas || "canvas";
        if (this.canvas = document.getElementById(o), this.resize_scene(), !this.canvas)
          throw alert("Canvas not found"), new Error("Canvas not found");
        const c = this.canvas.getContext(
          "webgpu"
        );
        if (!c)
          throw alert("WebGPU not supported"), new Error("WebGPU not supported");
        c.configure({
          device: E.device,
          format: this.presentation_format,
          usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.STORAGE_BINDING
          // Added storage binding for direct output for compute shaders
        }), a["objects"].forEach((_) => {
          const { type: l, pipeline: p, ...f } = _, g = ye[l];
          if (g) {
            const d = new g({
              ...f,
              scene: this,
              pipeline: p && Ee[p]
            });
            d instanceof W ? i.camera = d : d instanceof te ? i.add_light(d) : i.add_object(d);
          } else
            console.error(
              `Unrecognized object type: ${l}, did you add it to the registered types file?`
            );
        });
      } catch (n) {
        console.error(`Error loading scene: ${n}`);
      }
    }, this.resize_scene = () => {
      var i;
      const s = (i = this.canvas) == null ? void 0 : i.getBoundingClientRect();
      this.canvas && s && (this.canvas.width = s.width, this.canvas.height = s.height, this.depth_texture_view = E.device.createTexture({
        label: "Depth Texture",
        size: {
          width: this.canvas.width,
          height: this.canvas.height,
          depthOrArrayLayers: 1
        },
        format: "depth24plus",
        usage: GPUTextureUsage.RENDER_ATTACHMENT
      }).createView());
    }, this.add_light = (s) => {
      this.lights.push(s);
    }, this.add_object = (s) => {
      this.objects.push(s), s.pipeline && this.pipeline_manager.register_pipeline(
        s.pipeline,
        s.shader_path,
        this
      );
    }, this.frame_start = async () => {
      var i;
      if (!this.active)
        return;
      const s = (i = this.canvas) == null ? void 0 : i.getContext(
        "webgpu"
      );
      s && (this.texture_view = s.getCurrentTexture().createView(), await this.event_system.publish(M.SCENE_FRAME_START));
    }, this.frame_end = async () => {
      this.current_frame++, await this.event_system.publish(M.SCENE_FRAME_END);
    }, this.update = async () => {
      if (E.system_input.key_press.get("q") || !this.active) {
        this.active = !1, console.log("Ending scene...");
        return;
      }
      await this.event_system.publish(M.SCENE_UPDATE_START);
      const s = [...this.objects, ...this.lights, this.camera].map(
        (i) => i.update(this)
      );
      await Promise.all(s), await this.event_system.publish(M.SCENE_UPDATE_END);
    }, this.render = async () => {
      await this.event_system.publish(M.SCENE_RENDER_START);
      const i = Array.from(
        this.pipeline_manager.registered_pipelines.values()
      ).reduce((a, o) => {
        const c = o.order;
        return a.has(c) || a.set(c, []), a.get(c).push(o), a;
      }, /* @__PURE__ */ new Map()), n = Array.from(i.keys()).sort();
      for (const a of n) {
        const c = i.get(a).map(
          (h) => h.render(this)
        );
        await Promise.all(c);
      }
      await this.event_system.publish(M.SCENE_RENDER_END);
    }, this.load_scene(t, this).then(() => {
      window.addEventListener("resize", this.resize_scene), this.event_system.subscribe(
        M.SCENE_FRAME_START,
        this.update
      ), this.event_system.subscribe(
        M.SCENE_UPDATE_END,
        this.render
      ), this.event_system.subscribe(
        M.SCENE_RENDER_END,
        this.frame_end
      );
    });
  }
}
class Te {
  constructor() {
    this.key_state = /* @__PURE__ */ new Map(), this.key_press = /* @__PURE__ */ new Map(), this.mouse_state = {
      x: 0,
      y: 0,
      dx: 0,
      dy: 0,
      left: !1,
      right: !1,
      middle: !1,
      left_click: !1,
      right_click: !1,
      middle_click: !1
    }, window.addEventListener("keydown", (t) => {
      this.key_state.set(t.key, !0);
    }), window.addEventListener("keyup", (t) => {
      this.key_state.set(t.key, !1);
    }), window.addEventListener("keypress", (t) => {
      this.key_press.set(t.key, !0);
    }), window.addEventListener("mousemove", (t) => {
      this.mouse_state.dx = t.movementX, this.mouse_state.dy = t.movementY, this.mouse_state.x = t.x, this.mouse_state.y = t.y;
    }), window.addEventListener("mousedown", (t) => {
      t.button === 0 ? this.mouse_state.left = !0 : t.button === 1 ? this.mouse_state.middle = !0 : t.button === 2 && (this.mouse_state.right = !0);
    }), window.addEventListener("mouseup", (t) => {
      t.button === 0 ? this.mouse_state.left = !1 : t.button === 1 ? this.mouse_state.middle = !1 : t.button === 2 && (this.mouse_state.right = !1);
    }), window.addEventListener("click", (t) => {
      t.button === 0 ? this.mouse_state.left_click = !0 : t.button === 1 ? this.mouse_state.middle_click = !0 : t.button === 2 && (this.mouse_state.right_click = !0);
    });
  }
  reset() {
    this.key_state.clear(), this.key_press.clear(), this.mouse_state = {
      x: 0,
      y: 0,
      dx: 0,
      dy: 0,
      left: !1,
      right: !1,
      middle: !1,
      left_click: !1,
      right_click: !1,
      middle_click: !1
    };
  }
}
const x = class x {
  static async start() {
    await x.init_webgpu();
    const t = "./system_core_config.json";
    x.config = await (await fetch(t)).json(), x.system_input = new Te(), x.scenes.push(new be(x.config.start_scene)), console.log("SystemCore initialized, starting event loop..."), x.event_loop();
  }
  static async init_webgpu() {
    var s;
    const t = await ((s = navigator.gpu) == null ? void 0 : s.requestAdapter()), r = await (t == null ? void 0 : t.requestDevice());
    if (!t || !r)
      throw alert("WebGPU not supported"), new Error("WebGPU not supported");
    x.adapter = t, x.device = r;
  }
  static async event_loop() {
    x.command_encoder = x.device.createCommandEncoder(), await Promise.all(this.scenes.map((t) => t.frame_start())), x.device.queue.submit([x.command_encoder.finish()]), requestAnimationFrame(() => x.event_loop()), this.system_input.reset();
  }
};
x.scenes = [];
let E = x;
export {
  E as SystemCore,
  Ee as registered_pipeline_types,
  ye as registered_scene_object_types
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9nbC1tYXRyaXhAMy40LjMvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dsLW1hdHJpeEAzLjQuMy9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dsLW1hdHJpeEAzLjQuMy9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dsLW1hdHJpeEAzLjQuMy9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwiLi4vc3JjL3V0aWwvZ3B1X3V0aWwudHMiLCIuLi9zcmMvbW9kZWwvbW9kZWxfbG9hZGVyLnRzIiwiLi4vc3JjL3NjZW5lX29iamVjdC9zY2VuZV9vYmplY3QudHMiLCIuLi9zcmMvY2FtZXJhL2NhbWVyYS50cyIsIi4uL3NyYy9saWdodHMvbGlnaHQudHMiLCIuLi9zcmMvcGlwZWxpbmVzL3BpcGVsaW5lX21hbmFnZXIudHMiLCIuLi9zcmMvcGlwZWxpbmVzL3NoYWRlcl9tYW5hZ2VyLnRzIiwiLi4vc3JjL3NjZW5lL3NjZW5lX2V2ZW50X2VudW1zLnRzIiwiLi4vc3JjL3N5c3RlbS9ldmVudF9zeXN0ZW0udHMiLCIuLi9zcmMvdGV4dHVyZS90ZXh0dXJlX21hbmFnZXIudHMiLCIuLi9zcmMvY29tcHV0ZS9jb21wdXRlX29iamVjdC50cyIsIi4uL3NyYy9zY2VuZV9vYmplY3QvcmVnaXN0ZXJlZF9zY2VuZV9vYmplY3RfdHlwZXMudHMiLCIuLi9zcmMvcGlwZWxpbmVzL3BpcGVsaW5lLnRzIiwiLi4vc3JjL3BpcGVsaW5lcy9kZWZhdWx0XzJkX2NvbXB1dGVfcGlwZWxpbmUudHMiLCIuLi9zcmMvcGlwZWxpbmVzL2RlZmF1bHRfM2RfcGlwZWxpbmUudHMiLCIuLi9zcmMvcGlwZWxpbmVzL3JlZ2lzdGVyZWRfcGlwZWxpbmVfdHlwZXMudHMiLCIuLi9zcmMvc2NlbmUvc2NlbmUudHMiLCIuLi9zcmMvc3lzdGVtL3N5c3RlbV9pbnB1dC50cyIsIi4uL3NyYy9zeXN0ZW0vc3lzdGVtX2NvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21tb24gdXRpbGl0aWVzXG4gKiBAbW9kdWxlIGdsTWF0cml4XG4gKi9cbi8vIENvbmZpZ3VyYXRpb24gQ29uc3RhbnRzXG5leHBvcnQgdmFyIEVQU0lMT04gPSAwLjAwMDAwMTtcbmV4cG9ydCB2YXIgQVJSQVlfVFlQRSA9IHR5cGVvZiBGbG9hdDMyQXJyYXkgIT09ICd1bmRlZmluZWQnID8gRmxvYXQzMkFycmF5IDogQXJyYXk7XG5leHBvcnQgdmFyIFJBTkRPTSA9IE1hdGgucmFuZG9tO1xuLyoqXG4gKiBTZXRzIHRoZSB0eXBlIG9mIGFycmF5IHVzZWQgd2hlbiBjcmVhdGluZyBuZXcgdmVjdG9ycyBhbmQgbWF0cmljZXNcbiAqXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheUNvbnN0cnVjdG9yIHwgQXJyYXlDb25zdHJ1Y3Rvcn0gdHlwZSBBcnJheSB0eXBlLCBzdWNoIGFzIEZsb2F0MzJBcnJheSBvciBBcnJheVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRNYXRyaXhBcnJheVR5cGUodHlwZSkge1xuICBBUlJBWV9UWVBFID0gdHlwZTtcbn1cbnZhciBkZWdyZWUgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb252ZXJ0IERlZ3JlZSBUbyBSYWRpYW5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBBbmdsZSBpbiBEZWdyZWVzXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUmFkaWFuKGEpIHtcbiAgcmV0dXJuIGEgKiBkZWdyZWU7XG59XG4vKipcbiAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSBhcmd1bWVudHMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIHZhbHVlLCB3aXRoaW4gYW4gYWJzb2x1dGVcbiAqIG9yIHJlbGF0aXZlIHRvbGVyYW5jZSBvZiBnbE1hdHJpeC5FUFNJTE9OIChhbiBhYnNvbHV0ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgdmFsdWVzIGxlc3NcbiAqIHRoYW4gb3IgZXF1YWwgdG8gMS4wLCBhbmQgYSByZWxhdGl2ZSB0b2xlcmFuY2UgaXMgdXNlZCBmb3IgbGFyZ2VyIHZhbHVlcylcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gYSBUaGUgZmlyc3QgbnVtYmVyIHRvIHRlc3QuXG4gKiBAcGFyYW0ge051bWJlcn0gYiBUaGUgc2Vjb25kIG51bWJlciB0byB0ZXN0LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG51bWJlcnMgYXJlIGFwcHJveGltYXRlbHkgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgcmV0dXJuIE1hdGguYWJzKGEgLSBiKSA8PSBFUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhKSwgTWF0aC5hYnMoYikpO1xufVxuaWYgKCFNYXRoLmh5cG90KSBNYXRoLmh5cG90ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgeSA9IDAsXG4gICAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgeSArPSBhcmd1bWVudHNbaV0gKiBhcmd1bWVudHNbaV07XG4gIH1cblxuICByZXR1cm4gTWF0aC5zcXJ0KHkpO1xufTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNHg0IE1hdHJpeDxicj5Gb3JtYXQ6IGNvbHVtbi1tYWpvciwgd2hlbiB0eXBlZCBvdXQgaXQgbG9va3MgbGlrZSByb3ctbWFqb3I8YnI+VGhlIG1hdHJpY2VzIGFyZSBiZWluZyBwb3N0IG11bHRpcGxpZWQuXG4gKiBAbW9kdWxlIG1hdDRcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgaWRlbnRpdHkgbWF0NFxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgICBvdXRbNF0gPSAwO1xuICAgIG91dFs2XSA9IDA7XG4gICAgb3V0WzddID0gMDtcbiAgICBvdXRbOF0gPSAwO1xuICAgIG91dFs5XSA9IDA7XG4gICAgb3V0WzExXSA9IDA7XG4gICAgb3V0WzEyXSA9IDA7XG4gICAgb3V0WzEzXSA9IDA7XG4gICAgb3V0WzE0XSA9IDA7XG4gIH1cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byBjbG9uZVxuICogQHJldHVybnMge21hdDR9IGEgbmV3IDR4NCBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDb3B5IHRoZSB2YWx1ZXMgZnJvbSBvbmUgbWF0NCB0byBhbm90aGVyXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHkob3V0LCBhKSB7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIG91dFszXSA9IGFbM107XG4gIG91dFs0XSA9IGFbNF07XG4gIG91dFs1XSA9IGFbNV07XG4gIG91dFs2XSA9IGFbNl07XG4gIG91dFs3XSA9IGFbN107XG4gIG91dFs4XSA9IGFbOF07XG4gIG91dFs5XSA9IGFbOV07XG4gIG91dFsxMF0gPSBhWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdO1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZSBhIG5ldyBtYXQ0IHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBBIG5ldyBtYXQ0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMobTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgbWF0NCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDAgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDEgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDIgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMDMgQ29tcG9uZW50IGluIGNvbHVtbiAwLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTAgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTEgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggNSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTIgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggNilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMTMgQ29tcG9uZW50IGluIGNvbHVtbiAxLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggNylcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjAgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggOClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjEgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggOSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMjIgQ29tcG9uZW50IGluIGNvbHVtbiAyLCByb3cgMiBwb3NpdGlvbiAoaW5kZXggMTApXG4gKiBAcGFyYW0ge051bWJlcn0gbTIzIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDMgcG9zaXRpb24gKGluZGV4IDExKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMCBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAwIHBvc2l0aW9uIChpbmRleCAxMilcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzEgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMSBwb3NpdGlvbiAoaW5kZXggMTMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMyIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDIgcG9zaXRpb24gKGluZGV4IDE0KVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMyBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxNSlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgbTAwLCBtMDEsIG0wMiwgbTAzLCBtMTAsIG0xMSwgbTEyLCBtMTMsIG0yMCwgbTIxLCBtMjIsIG0yMywgbTMwLCBtMzEsIG0zMiwgbTMzKSB7XG4gIG91dFswXSA9IG0wMDtcbiAgb3V0WzFdID0gbTAxO1xuICBvdXRbMl0gPSBtMDI7XG4gIG91dFszXSA9IG0wMztcbiAgb3V0WzRdID0gbTEwO1xuICBvdXRbNV0gPSBtMTE7XG4gIG91dFs2XSA9IG0xMjtcbiAgb3V0WzddID0gbTEzO1xuICBvdXRbOF0gPSBtMjA7XG4gIG91dFs5XSA9IG0yMTtcbiAgb3V0WzEwXSA9IG0yMjtcbiAgb3V0WzExXSA9IG0yMztcbiAgb3V0WzEyXSA9IG0zMDtcbiAgb3V0WzEzXSA9IG0zMTtcbiAgb3V0WzE0XSA9IG0zMjtcbiAgb3V0WzE1XSA9IG0zMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IGEgbWF0NCB0byB0aGUgaWRlbnRpdHkgbWF0cml4XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkob3V0KSB7XG4gIG91dFswXSA9IDE7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IDE7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zcG9zZSB0aGUgdmFsdWVzIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc3Bvc2Uob3V0LCBhKSB7XG4gIC8vIElmIHdlIGFyZSB0cmFuc3Bvc2luZyBvdXJzZWx2ZXMgd2UgY2FuIHNraXAgYSBmZXcgc3RlcHMgYnV0IGhhdmUgdG8gY2FjaGUgc29tZSB2YWx1ZXNcbiAgaWYgKG91dCA9PT0gYSkge1xuICAgIHZhciBhMDEgPSBhWzFdLFxuICAgICAgICBhMDIgPSBhWzJdLFxuICAgICAgICBhMDMgPSBhWzNdO1xuICAgIHZhciBhMTIgPSBhWzZdLFxuICAgICAgICBhMTMgPSBhWzddO1xuICAgIHZhciBhMjMgPSBhWzExXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYTAxO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYTAyO1xuICAgIG91dFs5XSA9IGExMjtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGEwMztcbiAgICBvdXRbMTNdID0gYTEzO1xuICAgIG91dFsxNF0gPSBhMjM7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzRdO1xuICAgIG91dFsyXSA9IGFbOF07XG4gICAgb3V0WzNdID0gYVsxMl07XG4gICAgb3V0WzRdID0gYVsxXTtcbiAgICBvdXRbNV0gPSBhWzVdO1xuICAgIG91dFs2XSA9IGFbOV07XG4gICAgb3V0WzddID0gYVsxM107XG4gICAgb3V0WzhdID0gYVsyXTtcbiAgICBvdXRbOV0gPSBhWzZdO1xuICAgIG91dFsxMF0gPSBhWzEwXTtcbiAgICBvdXRbMTFdID0gYVsxNF07XG4gICAgb3V0WzEyXSA9IGFbM107XG4gICAgb3V0WzEzXSA9IGFbN107XG4gICAgb3V0WzE0XSA9IGFbMTFdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEludmVydHMgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVydChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICB2YXIgZGV0ID0gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xuXG4gIGlmICghZGV0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBkZXQgPSAxLjAgLyBkZXQ7XG4gIG91dFswXSA9IChhMTEgKiBiMTEgLSBhMTIgKiBiMTAgKyBhMTMgKiBiMDkpICogZGV0O1xuICBvdXRbMV0gPSAoYTAyICogYjEwIC0gYTAxICogYjExIC0gYTAzICogYjA5KSAqIGRldDtcbiAgb3V0WzJdID0gKGEzMSAqIGIwNSAtIGEzMiAqIGIwNCArIGEzMyAqIGIwMykgKiBkZXQ7XG4gIG91dFszXSA9IChhMjIgKiBiMDQgLSBhMjEgKiBiMDUgLSBhMjMgKiBiMDMpICogZGV0O1xuICBvdXRbNF0gPSAoYTEyICogYjA4IC0gYTEwICogYjExIC0gYTEzICogYjA3KSAqIGRldDtcbiAgb3V0WzVdID0gKGEwMCAqIGIxMSAtIGEwMiAqIGIwOCArIGEwMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs2XSA9IChhMzIgKiBiMDIgLSBhMzAgKiBiMDUgLSBhMzMgKiBiMDEpICogZGV0O1xuICBvdXRbN10gPSAoYTIwICogYjA1IC0gYTIyICogYjAyICsgYTIzICogYjAxKSAqIGRldDtcbiAgb3V0WzhdID0gKGExMCAqIGIxMCAtIGExMSAqIGIwOCArIGExMyAqIGIwNikgKiBkZXQ7XG4gIG91dFs5XSA9IChhMDEgKiBiMDggLSBhMDAgKiBiMTAgLSBhMDMgKiBiMDYpICogZGV0O1xuICBvdXRbMTBdID0gKGEzMCAqIGIwNCAtIGEzMSAqIGIwMiArIGEzMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMV0gPSAoYTIxICogYjAyIC0gYTIwICogYjA0IC0gYTIzICogYjAwKSAqIGRldDtcbiAgb3V0WzEyXSA9IChhMTEgKiBiMDcgLSBhMTAgKiBiMDkgLSBhMTIgKiBiMDYpICogZGV0O1xuICBvdXRbMTNdID0gKGEwMCAqIGIwOSAtIGEwMSAqIGIwNyArIGEwMiAqIGIwNikgKiBkZXQ7XG4gIG91dFsxNF0gPSAoYTMxICogYjAxIC0gYTMwICogYjAzIC0gYTMyICogYjAwKSAqIGRldDtcbiAgb3V0WzE1XSA9IChhMjAgKiBiMDMgLSBhMjEgKiBiMDEgKyBhMjIgKiBiMDApICogZGV0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBhZGp1Z2F0ZSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRqb2ludChvdXQsIGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIG91dFswXSA9IGExMSAqIChhMjIgKiBhMzMgLSBhMjMgKiBhMzIpIC0gYTIxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgKyBhMzEgKiAoYTEyICogYTIzIC0gYTEzICogYTIyKTtcbiAgb3V0WzFdID0gLShhMDEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikpO1xuICBvdXRbMl0gPSBhMDEgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSAtIGExMSAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMxICogKGEwMiAqIGExMyAtIGEwMyAqIGExMik7XG4gIG91dFszXSA9IC0oYTAxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTEgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzRdID0gLShhMTAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikpO1xuICBvdXRbNV0gPSBhMDAgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMCAqIChhMDIgKiBhMzMgLSBhMDMgKiBhMzIpICsgYTMwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMik7XG4gIG91dFs2XSA9IC0oYTAwICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpKTtcbiAgb3V0WzddID0gYTAwICogKGExMiAqIGEyMyAtIGExMyAqIGEyMikgLSBhMTAgKiAoYTAyICogYTIzIC0gYTAzICogYTIyKSArIGEyMCAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbOF0gPSBhMTAgKiAoYTIxICogYTMzIC0gYTIzICogYTMxKSAtIGEyMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpICsgYTMwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSk7XG4gIG91dFs5XSA9IC0oYTAwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTAxICogYTMzIC0gYTAzICogYTMxKSArIGEzMCAqIChhMDEgKiBhMjMgLSBhMDMgKiBhMjEpKTtcbiAgb3V0WzEwXSA9IGEwMCAqIChhMTEgKiBhMzMgLSBhMTMgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKTtcbiAgb3V0WzExXSA9IC0oYTAwICogKGExMSAqIGEyMyAtIGExMyAqIGEyMSkgLSBhMTAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSArIGEyMCAqIChhMDEgKiBhMTMgLSBhMDMgKiBhMTEpKTtcbiAgb3V0WzEyXSA9IC0oYTEwICogKGEyMSAqIGEzMiAtIGEyMiAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMyIC0gYTEyICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpKTtcbiAgb3V0WzEzXSA9IGEwMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIyIC0gYTAyICogYTIxKTtcbiAgb3V0WzE0XSA9IC0oYTAwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgLSBhMTAgKiAoYTAxICogYTMyIC0gYTAyICogYTMxKSArIGEzMCAqIChhMDEgKiBhMTIgLSBhMDIgKiBhMTEpKTtcbiAgb3V0WzE1XSA9IGEwMCAqIChhMTEgKiBhMjIgLSBhMTIgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZGV0ZXJtaW5hbnQgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRldGVybWluYW50IG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5hbnQoYSkge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTtcbiAgdmFyIGIwMCA9IGEwMCAqIGExMSAtIGEwMSAqIGExMDtcbiAgdmFyIGIwMSA9IGEwMCAqIGExMiAtIGEwMiAqIGExMDtcbiAgdmFyIGIwMiA9IGEwMCAqIGExMyAtIGEwMyAqIGExMDtcbiAgdmFyIGIwMyA9IGEwMSAqIGExMiAtIGEwMiAqIGExMTtcbiAgdmFyIGIwNCA9IGEwMSAqIGExMyAtIGEwMyAqIGExMTtcbiAgdmFyIGIwNSA9IGEwMiAqIGExMyAtIGEwMyAqIGExMjtcbiAgdmFyIGIwNiA9IGEyMCAqIGEzMSAtIGEyMSAqIGEzMDtcbiAgdmFyIGIwNyA9IGEyMCAqIGEzMiAtIGEyMiAqIGEzMDtcbiAgdmFyIGIwOCA9IGEyMCAqIGEzMyAtIGEyMyAqIGEzMDtcbiAgdmFyIGIwOSA9IGEyMSAqIGEzMiAtIGEyMiAqIGEzMTtcbiAgdmFyIGIxMCA9IGEyMSAqIGEzMyAtIGEyMyAqIGEzMTtcbiAgdmFyIGIxMSA9IGEyMiAqIGEzMyAtIGEyMyAqIGEzMjsgLy8gQ2FsY3VsYXRlIHRoZSBkZXRlcm1pbmFudFxuXG4gIHJldHVybiBiMDAgKiBiMTEgLSBiMDEgKiBiMTAgKyBiMDIgKiBiMDkgKyBiMDMgKiBiMDggLSBiMDQgKiBiMDcgKyBiMDUgKiBiMDY7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIG1hdDRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdOyAvLyBDYWNoZSBvbmx5IHRoZSBjdXJyZW50IGxpbmUgb2YgdGhlIHNlY29uZCBtYXRyaXhcblxuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICBvdXRbMF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzFdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsyXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbM10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzRdO1xuICBiMSA9IGJbNV07XG4gIGIyID0gYls2XTtcbiAgYjMgPSBiWzddO1xuICBvdXRbNF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzVdID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFs2XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbN10gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgYjAgPSBiWzhdO1xuICBiMSA9IGJbOV07XG4gIGIyID0gYlsxMF07XG4gIGIzID0gYlsxMV07XG4gIG91dFs4XSA9IGIwICogYTAwICsgYjEgKiBhMTAgKyBiMiAqIGEyMCArIGIzICogYTMwO1xuICBvdXRbOV0gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzEwXSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTFdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYlsxMl07XG4gIGIxID0gYlsxM107XG4gIGIyID0gYlsxNF07XG4gIGIzID0gYlsxNV07XG4gIG91dFsxMl0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzEzXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMTRdID0gYjAgKiBhMDIgKyBiMSAqIGExMiArIGIyICogYTIyICsgYjMgKiBhMzI7XG4gIG91dFsxNV0gPSBiMCAqIGEwMyArIGIxICogYTEzICsgYjIgKiBhMjMgKyBiMyAqIGEzMztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNsYXRlIGEgbWF0NCBieSB0aGUgZ2l2ZW4gdmVjdG9yXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gdHJhbnNsYXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB2ZWN0b3IgdG8gdHJhbnNsYXRlIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcblxuICBpZiAoYSA9PT0gb3V0KSB7XG4gICAgb3V0WzEyXSA9IGFbMF0gKiB4ICsgYVs0XSAqIHkgKyBhWzhdICogeiArIGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzFdICogeCArIGFbNV0gKiB5ICsgYVs5XSAqIHogKyBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsyXSAqIHggKyBhWzZdICogeSArIGFbMTBdICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzNdICogeCArIGFbN10gKiB5ICsgYVsxMV0gKiB6ICsgYVsxNV07XG4gIH0gZWxzZSB7XG4gICAgYTAwID0gYVswXTtcbiAgICBhMDEgPSBhWzFdO1xuICAgIGEwMiA9IGFbMl07XG4gICAgYTAzID0gYVszXTtcbiAgICBhMTAgPSBhWzRdO1xuICAgIGExMSA9IGFbNV07XG4gICAgYTEyID0gYVs2XTtcbiAgICBhMTMgPSBhWzddO1xuICAgIGEyMCA9IGFbOF07XG4gICAgYTIxID0gYVs5XTtcbiAgICBhMjIgPSBhWzEwXTtcbiAgICBhMjMgPSBhWzExXTtcbiAgICBvdXRbMF0gPSBhMDA7XG4gICAgb3V0WzFdID0gYTAxO1xuICAgIG91dFsyXSA9IGEwMjtcbiAgICBvdXRbM10gPSBhMDM7XG4gICAgb3V0WzRdID0gYTEwO1xuICAgIG91dFs1XSA9IGExMTtcbiAgICBvdXRbNl0gPSBhMTI7XG4gICAgb3V0WzddID0gYTEzO1xuICAgIG91dFs4XSA9IGEyMDtcbiAgICBvdXRbOV0gPSBhMjE7XG4gICAgb3V0WzEwXSA9IGEyMjtcbiAgICBvdXRbMTFdID0gYTIzO1xuICAgIG91dFsxMl0gPSBhMDAgKiB4ICsgYTEwICogeSArIGEyMCAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYTAxICogeCArIGExMSAqIHkgKyBhMjEgKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGEwMiAqIHggKyBhMTIgKiB5ICsgYTIyICogeiArIGFbMTRdO1xuICAgIG91dFsxNV0gPSBhMDMgKiB4ICsgYTEzICogeSArIGEyMyAqIHogKyBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyB0aGUgbWF0NCBieSB0aGUgZGltZW5zaW9ucyBpbiB0aGUgZ2l2ZW4gdmVjMyBub3QgdXNpbmcgdmVjdG9yaXphdGlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiB0aGUgdmVjMyB0byBzY2FsZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKiovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIHYpIHtcbiAgdmFyIHggPSB2WzBdLFxuICAgICAgeSA9IHZbMV0sXG4gICAgICB6ID0gdlsyXTtcbiAgb3V0WzBdID0gYVswXSAqIHg7XG4gIG91dFsxXSA9IGFbMV0gKiB4O1xuICBvdXRbMl0gPSBhWzJdICogeDtcbiAgb3V0WzNdID0gYVszXSAqIHg7XG4gIG91dFs0XSA9IGFbNF0gKiB5O1xuICBvdXRbNV0gPSBhWzVdICogeTtcbiAgb3V0WzZdID0gYVs2XSAqIHk7XG4gIG91dFs3XSA9IGFbN10gKiB5O1xuICBvdXRbOF0gPSBhWzhdICogejtcbiAgb3V0WzldID0gYVs5XSAqIHo7XG4gIG91dFsxMF0gPSBhWzEwXSAqIHo7XG4gIG91dFsxMV0gPSBhWzExXSAqIHo7XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdDQgYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBheGlzIHRoZSBheGlzIHRvIHJvdGF0ZSBhcm91bmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlKG91dCwgYSwgcmFkLCBheGlzKSB7XG4gIHZhciB4ID0gYXhpc1swXSxcbiAgICAgIHkgPSBheGlzWzFdLFxuICAgICAgeiA9IGF4aXNbMl07XG4gIHZhciBsZW4gPSBNYXRoLmh5cG90KHgsIHksIHopO1xuICB2YXIgcywgYywgdDtcbiAgdmFyIGEwMCwgYTAxLCBhMDIsIGEwMztcbiAgdmFyIGExMCwgYTExLCBhMTIsIGExMztcbiAgdmFyIGEyMCwgYTIxLCBhMjIsIGEyMztcbiAgdmFyIGIwMCwgYjAxLCBiMDI7XG4gIHZhciBiMTAsIGIxMSwgYjEyO1xuICB2YXIgYjIwLCBiMjEsIGIyMjtcblxuICBpZiAobGVuIDwgZ2xNYXRyaXguRVBTSUxPTikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbGVuID0gMSAvIGxlbjtcbiAgeCAqPSBsZW47XG4gIHkgKj0gbGVuO1xuICB6ICo9IGxlbjtcbiAgcyA9IE1hdGguc2luKHJhZCk7XG4gIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB0ID0gMSAtIGM7XG4gIGEwMCA9IGFbMF07XG4gIGEwMSA9IGFbMV07XG4gIGEwMiA9IGFbMl07XG4gIGEwMyA9IGFbM107XG4gIGExMCA9IGFbNF07XG4gIGExMSA9IGFbNV07XG4gIGExMiA9IGFbNl07XG4gIGExMyA9IGFbN107XG4gIGEyMCA9IGFbOF07XG4gIGEyMSA9IGFbOV07XG4gIGEyMiA9IGFbMTBdO1xuICBhMjMgPSBhWzExXTsgLy8gQ29uc3RydWN0IHRoZSBlbGVtZW50cyBvZiB0aGUgcm90YXRpb24gbWF0cml4XG5cbiAgYjAwID0geCAqIHggKiB0ICsgYztcbiAgYjAxID0geSAqIHggKiB0ICsgeiAqIHM7XG4gIGIwMiA9IHogKiB4ICogdCAtIHkgKiBzO1xuICBiMTAgPSB4ICogeSAqIHQgLSB6ICogcztcbiAgYjExID0geSAqIHkgKiB0ICsgYztcbiAgYjEyID0geiAqIHkgKiB0ICsgeCAqIHM7XG4gIGIyMCA9IHggKiB6ICogdCArIHkgKiBzO1xuICBiMjEgPSB5ICogeiAqIHQgLSB4ICogcztcbiAgYjIyID0geiAqIHogKiB0ICsgYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBhMDAgKiBiMDAgKyBhMTAgKiBiMDEgKyBhMjAgKiBiMDI7XG4gIG91dFsxXSA9IGEwMSAqIGIwMCArIGExMSAqIGIwMSArIGEyMSAqIGIwMjtcbiAgb3V0WzJdID0gYTAyICogYjAwICsgYTEyICogYjAxICsgYTIyICogYjAyO1xuICBvdXRbM10gPSBhMDMgKiBiMDAgKyBhMTMgKiBiMDEgKyBhMjMgKiBiMDI7XG4gIG91dFs0XSA9IGEwMCAqIGIxMCArIGExMCAqIGIxMSArIGEyMCAqIGIxMjtcbiAgb3V0WzVdID0gYTAxICogYjEwICsgYTExICogYjExICsgYTIxICogYjEyO1xuICBvdXRbNl0gPSBhMDIgKiBiMTAgKyBhMTIgKiBiMTEgKyBhMjIgKiBiMTI7XG4gIG91dFs3XSA9IGEwMyAqIGIxMCArIGExMyAqIGIxMSArIGEyMyAqIGIxMjtcbiAgb3V0WzhdID0gYTAwICogYjIwICsgYTEwICogYjIxICsgYTIwICogYjIyO1xuICBvdXRbOV0gPSBhMDEgKiBiMjAgKyBhMTEgKiBiMjEgKyBhMjEgKiBiMjI7XG4gIG91dFsxMF0gPSBhMDIgKiBiMjAgKyBhMTIgKiBiMjEgKyBhMjIgKiBiMjI7XG4gIG91dFsxMV0gPSBhMDMgKiBiMjAgKyBhMTMgKiBiMjEgKyBhMjMgKiBiMjI7XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIGxhc3Qgcm93XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XTtcbiAgdmFyIGEyMSA9IGFbOV07XG4gIHZhciBhMjIgPSBhWzEwXTtcbiAgdmFyIGEyMyA9IGFbMTFdO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCByb3dzXG4gICAgb3V0WzBdID0gYVswXTtcbiAgICBvdXRbMV0gPSBhWzFdO1xuICAgIG91dFsyXSA9IGFbMl07XG4gICAgb3V0WzNdID0gYVszXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzRdID0gYTEwICogYyArIGEyMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgKyBhMjEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjICsgYTIyICogcztcbiAgb3V0WzddID0gYTEzICogYyArIGEyMyAqIHM7XG4gIG91dFs4XSA9IGEyMCAqIGMgLSBhMTAgKiBzO1xuICBvdXRbOV0gPSBhMjEgKiBjIC0gYTExICogcztcbiAgb3V0WzEwXSA9IGEyMiAqIGMgLSBhMTIgKiBzO1xuICBvdXRbMTFdID0gYTIzICogYyAtIGExMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWSBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTAwID0gYVswXTtcbiAgdmFyIGEwMSA9IGFbMV07XG4gIHZhciBhMDIgPSBhWzJdO1xuICB2YXIgYTAzID0gYVszXTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFs0XSA9IGFbNF07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzZdO1xuICAgIG91dFs3XSA9IGFbN107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFswXSA9IGEwMCAqIGMgLSBhMjAgKiBzO1xuICBvdXRbMV0gPSBhMDEgKiBjIC0gYTIxICogcztcbiAgb3V0WzJdID0gYTAyICogYyAtIGEyMiAqIHM7XG4gIG91dFszXSA9IGEwMyAqIGMgLSBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMDAgKiBzICsgYTIwICogYztcbiAgb3V0WzldID0gYTAxICogcyArIGEyMSAqIGM7XG4gIG91dFsxMF0gPSBhMDIgKiBzICsgYTIyICogYztcbiAgb3V0WzExXSA9IGEwMyAqIHMgKyBhMjMgKiBjO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdO1xuICB2YXIgYTExID0gYVs1XTtcbiAgdmFyIGExMiA9IGFbNl07XG4gIHZhciBhMTMgPSBhWzddO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFs4XSA9IGFbOF07XG4gICAgb3V0WzldID0gYVs5XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTFdO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjICsgYTEwICogcztcbiAgb3V0WzFdID0gYTAxICogYyArIGExMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgKyBhMTIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjICsgYTEzICogcztcbiAgb3V0WzRdID0gYTEwICogYyAtIGEwMCAqIHM7XG4gIG91dFs1XSA9IGExMSAqIGMgLSBhMDEgKiBzO1xuICBvdXRbNl0gPSBhMTIgKiBjIC0gYTAyICogcztcbiAgb3V0WzddID0gYTEzICogYyAtIGEwMyAqIHM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVRyYW5zbGF0aW9uKG91dCwgdikge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3Igc2NhbGluZ1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBkZXN0LCB2ZWMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21TY2FsaW5nKG91dCwgdikge1xuICBvdXRbMF0gPSB2WzBdO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSB2WzFdO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gdlsyXTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBnaXZlbiBhbmdsZSBhcm91bmQgYSBnaXZlbiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZShkZXN0LCBkZXN0LCByYWQsIGF4aXMpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvbihvdXQsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjOyAvLyBQZXJmb3JtIHJvdGF0aW9uLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IHggKiB4ICogdCArIGM7XG4gIG91dFsxXSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBvdXRbMl0gPSB6ICogeCAqIHQgLSB5ICogcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIG91dFs1XSA9IHkgKiB5ICogdCArIGM7XG4gIG91dFs2XSA9IHogKiB5ICogdCArIHggKiBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4ICogeiAqIHQgKyB5ICogcztcbiAgb3V0WzldID0geSAqIHogKiB0IC0geCAqIHM7XG4gIG91dFsxMF0gPSB6ICogeiAqIHQgKyBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBYIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWChkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21YUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSBzO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAtcztcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVZKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVlSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IC1zO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBzO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWiBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVooZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWlJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYztcbiAgb3V0WzFdID0gcztcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gLXM7XG4gIG91dFs1XSA9IGM7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAxO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24gYW5kIHZlY3RvciB0cmFuc2xhdGlvblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBxLCB2KSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIG91dFswXSA9IDEgLSAoeXkgKyB6eik7XG4gIG91dFsxXSA9IHh5ICsgd3o7XG4gIG91dFsyXSA9IHh6IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHh5IC0gd3o7XG4gIG91dFs1XSA9IDEgLSAoeHggKyB6eik7XG4gIG91dFs2XSA9IHl6ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHh6ICsgd3k7XG4gIG91dFs5XSA9IHl6IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0gKHh4ICsgeXkpO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWF0NCBmcm9tIGEgZHVhbCBxdWF0LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IE1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seVF1YXQyfSBhIER1YWwgUXVhdGVybmlvblxuICogQHJldHVybnMge21hdDR9IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQyKG91dCwgYSkge1xuICB2YXIgdHJhbnNsYXRpb24gPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgdmFyIGJ4ID0gLWFbMF0sXG4gICAgICBieSA9IC1hWzFdLFxuICAgICAgYnogPSAtYVsyXSxcbiAgICAgIGJ3ID0gYVszXSxcbiAgICAgIGF4ID0gYVs0XSxcbiAgICAgIGF5ID0gYVs1XSxcbiAgICAgIGF6ID0gYVs2XSxcbiAgICAgIGF3ID0gYVs3XTtcbiAgdmFyIG1hZ25pdHVkZSA9IGJ4ICogYnggKyBieSAqIGJ5ICsgYnogKiBieiArIGJ3ICogYnc7IC8vT25seSBzY2FsZSBpZiBpdCBtYWtlcyBzZW5zZVxuXG4gIGlmIChtYWduaXR1ZGUgPiAwKSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyIC8gbWFnbml0dWRlO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDIgLyBtYWduaXR1ZGU7XG4gIH0gZWxzZSB7XG4gICAgdHJhbnNsYXRpb25bMF0gPSAoYXggKiBidyArIGF3ICogYnggKyBheSAqIGJ6IC0gYXogKiBieSkgKiAyO1xuICAgIHRyYW5zbGF0aW9uWzFdID0gKGF5ICogYncgKyBhdyAqIGJ5ICsgYXogKiBieCAtIGF4ICogYnopICogMjtcbiAgICB0cmFuc2xhdGlvblsyXSA9IChheiAqIGJ3ICsgYXcgKiBieiArIGF4ICogYnkgLSBheSAqIGJ4KSAqIDI7XG4gIH1cblxuICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbihvdXQsIGEsIHRyYW5zbGF0aW9uKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGNvbXBvbmVudCBvZiBhIHRyYW5zZm9ybWF0aW9uXG4gKiAgbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uLFxuICogIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSB0cmFuc2xhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2xhdGlvbihvdXQsIG1hdCkge1xuICBvdXRbMF0gPSBtYXRbMTJdO1xuICBvdXRbMV0gPSBtYXRbMTNdO1xuICBvdXRbMl0gPSBtYXRbMTRdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvblNjYWxlXG4gKiAgd2l0aCBhIG5vcm1hbGl6ZWQgUXVhdGVybmlvbiBwYXJhbXRlciwgdGhlIHJldHVybmVkIHZlY3RvciB3aWxsIGJlXG4gKiAgdGhlIHNhbWUgYXMgdGhlIHNjYWxpbmcgdmVjdG9yXG4gKiAgb3JpZ2luYWxseSBzdXBwbGllZC5cbiAqIEBwYXJhbSAge3ZlYzN9IG91dCBWZWN0b3IgdG8gcmVjZWl2ZSBzY2FsaW5nIGZhY3RvciBjb21wb25lbnRcbiAqIEBwYXJhbSAge1JlYWRvbmx5TWF0NH0gbWF0IE1hdHJpeCB0byBiZSBkZWNvbXBvc2VkIChpbnB1dClcbiAqIEByZXR1cm4ge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTY2FsaW5nKG91dCwgbWF0KSB7XG4gIHZhciBtMTEgPSBtYXRbMF07XG4gIHZhciBtMTIgPSBtYXRbMV07XG4gIHZhciBtMTMgPSBtYXRbMl07XG4gIHZhciBtMjEgPSBtYXRbNF07XG4gIHZhciBtMjIgPSBtYXRbNV07XG4gIHZhciBtMjMgPSBtYXRbNl07XG4gIHZhciBtMzEgPSBtYXRbOF07XG4gIHZhciBtMzIgPSBtYXRbOV07XG4gIHZhciBtMzMgPSBtYXRbMTBdO1xuICBvdXRbMF0gPSBNYXRoLmh5cG90KG0xMSwgbTEyLCBtMTMpO1xuICBvdXRbMV0gPSBNYXRoLmh5cG90KG0yMSwgbTIyLCBtMjMpO1xuICBvdXRbMl0gPSBNYXRoLmh5cG90KG0zMSwgbTMyLCBtMzMpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcXVhdGVybmlvbiByZXByZXNlbnRpbmcgdGhlIHJvdGF0aW9uYWwgY29tcG9uZW50XG4gKiAgb2YgYSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGhcbiAqICBmcm9tUm90YXRpb25UcmFuc2xhdGlvbiwgdGhlIHJldHVybmVkIHF1YXRlcm5pb24gd2lsbCBiZSB0aGVcbiAqICBzYW1lIGFzIHRoZSBxdWF0ZXJuaW9uIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0ge3F1YXR9IG91dCBRdWF0ZXJuaW9uIHRvIHJlY2VpdmUgdGhlIHJvdGF0aW9uIGNvbXBvbmVudFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHtxdWF0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Um90YXRpb24ob3V0LCBtYXQpIHtcbiAgdmFyIHNjYWxpbmcgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgZ2V0U2NhbGluZyhzY2FsaW5nLCBtYXQpO1xuICB2YXIgaXMxID0gMSAvIHNjYWxpbmdbMF07XG4gIHZhciBpczIgPSAxIC8gc2NhbGluZ1sxXTtcbiAgdmFyIGlzMyA9IDEgLyBzY2FsaW5nWzJdO1xuICB2YXIgc20xMSA9IG1hdFswXSAqIGlzMTtcbiAgdmFyIHNtMTIgPSBtYXRbMV0gKiBpczI7XG4gIHZhciBzbTEzID0gbWF0WzJdICogaXMzO1xuICB2YXIgc20yMSA9IG1hdFs0XSAqIGlzMTtcbiAgdmFyIHNtMjIgPSBtYXRbNV0gKiBpczI7XG4gIHZhciBzbTIzID0gbWF0WzZdICogaXMzO1xuICB2YXIgc20zMSA9IG1hdFs4XSAqIGlzMTtcbiAgdmFyIHNtMzIgPSBtYXRbOV0gKiBpczI7XG4gIHZhciBzbTMzID0gbWF0WzEwXSAqIGlzMztcbiAgdmFyIHRyYWNlID0gc20xMSArIHNtMjIgKyBzbTMzO1xuICB2YXIgUyA9IDA7XG5cbiAgaWYgKHRyYWNlID4gMCkge1xuICAgIFMgPSBNYXRoLnNxcnQodHJhY2UgKyAxLjApICogMjtcbiAgICBvdXRbM10gPSAwLjI1ICogUztcbiAgICBvdXRbMF0gPSAoc20yMyAtIHNtMzIpIC8gUztcbiAgICBvdXRbMV0gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMl0gPSAoc20xMiAtIHNtMjEpIC8gUztcbiAgfSBlbHNlIGlmIChzbTExID4gc20yMiAmJiBzbTExID4gc20zMykge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20xMSAtIHNtMjIgLSBzbTMzKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzBdID0gMC4yNSAqIFM7XG4gICAgb3V0WzFdID0gKHNtMTIgKyBzbTIxKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20yMiA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMjIgLSBzbTExIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTMxIC0gc20xMykgLyBTO1xuICAgIG91dFswXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsxXSA9IDAuMjUgKiBTO1xuICAgIG91dFsyXSA9IChzbTIzICsgc20zMikgLyBTO1xuICB9IGVsc2Uge1xuICAgIFMgPSBNYXRoLnNxcnQoMS4wICsgc20zMyAtIHNtMTEgLSBzbTIyKSAqIDI7XG4gICAgb3V0WzNdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gICAgb3V0WzBdID0gKHNtMzEgKyBzbTEzKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMjMgKyBzbTMyKSAvIFM7XG4gICAgb3V0WzJdID0gMC4yNSAqIFM7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uLCB2ZWN0b3IgdHJhbnNsYXRpb24gYW5kIHZlY3RvciBzY2FsZVxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBsZXQgcXVhdE1hdCA9IG1hdDQuY3JlYXRlKCk7XG4gKiAgICAgcXVhdDQudG9NYXQ0KHF1YXQsIHF1YXRNYXQpO1xuICogICAgIG1hdDQubXVsdGlwbHkoZGVzdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5zY2FsZShkZXN0LCBzY2FsZSlcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZShvdXQsIHEsIHYsIHMpIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgb3V0WzBdID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIG91dFsxXSA9ICh4eSArIHd6KSAqIHN4O1xuICBvdXRbMl0gPSAoeHogLSB3eSkgKiBzeDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gKHh5IC0gd3opICogc3k7XG4gIG91dFs1XSA9ICgxIC0gKHh4ICsgenopKSAqIHN5O1xuICBvdXRbNl0gPSAoeXogKyB3eCkgKiBzeTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHh6ICsgd3kpICogc3o7XG4gIG91dFs5XSA9ICh5eiAtIHd4KSAqIHN6O1xuICBvdXRbMTBdID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGUsIHJvdGF0aW5nIGFuZCBzY2FsaW5nIGFyb3VuZCB0aGUgZ2l2ZW4gb3JpZ2luXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCB2ZWMpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG9yaWdpbik7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgbmVnYXRpdmVPcmlnaW4pO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gcyBTY2FsaW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IG8gVGhlIG9yaWdpbiB2ZWN0b3IgYXJvdW5kIHdoaWNoIHRvIHNjYWxlIGFuZCByb3RhdGVcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZU9yaWdpbihvdXQsIHEsIHYsIHMsIG8pIHtcbiAgLy8gUXVhdGVybmlvbiBtYXRoXG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeHkgPSB4ICogeTI7XG4gIHZhciB4eiA9IHggKiB6MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgeXogPSB5ICogejI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgdmFyIHN4ID0gc1swXTtcbiAgdmFyIHN5ID0gc1sxXTtcbiAgdmFyIHN6ID0gc1syXTtcbiAgdmFyIG94ID0gb1swXTtcbiAgdmFyIG95ID0gb1sxXTtcbiAgdmFyIG96ID0gb1syXTtcbiAgdmFyIG91dDAgPSAoMSAtICh5eSArIHp6KSkgKiBzeDtcbiAgdmFyIG91dDEgPSAoeHkgKyB3eikgKiBzeDtcbiAgdmFyIG91dDIgPSAoeHogLSB3eSkgKiBzeDtcbiAgdmFyIG91dDQgPSAoeHkgLSB3eikgKiBzeTtcbiAgdmFyIG91dDUgPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgdmFyIG91dDYgPSAoeXogKyB3eCkgKiBzeTtcbiAgdmFyIG91dDggPSAoeHogKyB3eSkgKiBzejtcbiAgdmFyIG91dDkgPSAoeXogLSB3eCkgKiBzejtcbiAgdmFyIG91dDEwID0gKDEgLSAoeHggKyB5eSkpICogc3o7XG4gIG91dFswXSA9IG91dDA7XG4gIG91dFsxXSA9IG91dDE7XG4gIG91dFsyXSA9IG91dDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IG91dDQ7XG4gIG91dFs1XSA9IG91dDU7XG4gIG91dFs2XSA9IG91dDY7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IG91dDg7XG4gIG91dFs5XSA9IG91dDk7XG4gIG91dFsxMF0gPSBvdXQxMDtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdICsgb3ggLSAob3V0MCAqIG94ICsgb3V0NCAqIG95ICsgb3V0OCAqIG96KTtcbiAgb3V0WzEzXSA9IHZbMV0gKyBveSAtIChvdXQxICogb3ggKyBvdXQ1ICogb3kgKyBvdXQ5ICogb3opO1xuICBvdXRbMTRdID0gdlsyXSArIG96IC0gKG91dDIgKiBveCArIG91dDYgKiBveSArIG91dDEwICogb3opO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyBhIDR4NCBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gcXVhdGVybmlvblxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIFF1YXRlcm5pb24gdG8gY3JlYXRlIG1hdHJpeCBmcm9tXG4gKlxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUXVhdChvdXQsIHEpIHtcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB5eCA9IHkgKiB4MjtcbiAgdmFyIHl5ID0geSAqIHkyO1xuICB2YXIgenggPSB6ICogeDI7XG4gIHZhciB6eSA9IHogKiB5MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0geXkgLSB6ejtcbiAgb3V0WzFdID0geXggKyB3ejtcbiAgb3V0WzJdID0genggLSB3eTtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geXggLSB3ejtcbiAgb3V0WzVdID0gMSAtIHh4IC0geno7XG4gIG91dFs2XSA9IHp5ICsgd3g7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHp4ICsgd3k7XG4gIG91dFs5XSA9IHp5IC0gd3g7XG4gIG91dFsxMF0gPSAxIC0geHggLSB5eTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBmcnVzdHVtIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge051bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJ1c3R1bShvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBybCA9IDEgLyAocmlnaHQgLSBsZWZ0KTtcbiAgdmFyIHRiID0gMSAvICh0b3AgLSBib3R0b20pO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSBuZWFyICogMiAqIHJsO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBuZWFyICogMiAqIHRiO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAocmlnaHQgKyBsZWZ0KSAqIHJsO1xuICBvdXRbOV0gPSAodG9wICsgYm90dG9tKSAqIHRiO1xuICBvdXRbMTBdID0gKGZhciArIG5lYXIpICogbmY7XG4gIG91dFsxMV0gPSAtMTtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gZmFyICogbmVhciAqIDIgKiBuZjtcbiAgb3V0WzE1XSA9IDA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlTk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICAgIG91dFsxNF0gPSAyICogZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLTIgKiBuZWFyO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnBlcnNwZWN0aXZlTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHBlcnNwZWN0aXZlID0gcGVyc3BlY3RpdmVOTztcbi8qKlxuICogR2VuZXJhdGVzIGEgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXggc3VpdGFibGUgZm9yIFdlYkdQVSB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICogUGFzc2luZyBudWxsL3VuZGVmaW5lZC9ubyB2YWx1ZSBmb3IgZmFyIHdpbGwgZ2VuZXJhdGUgaW5maW5pdGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGZvdnkgVmVydGljYWwgZmllbGQgb2YgdmlldyBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gYXNwZWN0IEFzcGVjdCByYXRpby4gdHlwaWNhbGx5IHZpZXdwb3J0IHdpZHRoL2hlaWdodFxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW0sIGNhbiBiZSBudWxsIG9yIEluZmluaXR5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHBlcnNwZWN0aXZlWk8ob3V0LCBmb3Z5LCBhc3BlY3QsIG5lYXIsIGZhcikge1xuICB2YXIgZiA9IDEuMCAvIE1hdGgudGFuKGZvdnkgLyAyKSxcbiAgICAgIG5mO1xuICBvdXRbMF0gPSBmIC8gYXNwZWN0O1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSBmO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE1XSA9IDA7XG5cbiAgaWYgKGZhciAhPSBudWxsICYmIGZhciAhPT0gSW5maW5pdHkpIHtcbiAgICBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gICAgb3V0WzEwXSA9IGZhciAqIG5mO1xuICAgIG91dFsxNF0gPSBmYXIgKiBuZWFyICogbmY7XG4gIH0gZWxzZSB7XG4gICAgb3V0WzEwXSA9IC0xO1xuICAgIG91dFsxNF0gPSAtbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGZpZWxkIG9mIHZpZXcuXG4gKiBUaGlzIGlzIHByaW1hcmlseSB1c2VmdWwgZm9yIGdlbmVyYXRpbmcgcHJvamVjdGlvbiBtYXRyaWNlcyB0byBiZSB1c2VkXG4gKiB3aXRoIHRoZSBzdGlsbCBleHBlcmllbWVudGFsIFdlYlZSIEFQSS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge09iamVjdH0gZm92IE9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiB1cERlZ3JlZXMsIGRvd25EZWdyZWVzLCBsZWZ0RGVncmVlcywgcmlnaHREZWdyZWVzXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZUZyb21GaWVsZE9mVmlldyhvdXQsIGZvdiwgbmVhciwgZmFyKSB7XG4gIHZhciB1cFRhbiA9IE1hdGgudGFuKGZvdi51cERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgZG93blRhbiA9IE1hdGgudGFuKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciBsZWZ0VGFuID0gTWF0aC50YW4oZm92LmxlZnREZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIHJpZ2h0VGFuID0gTWF0aC50YW4oZm92LnJpZ2h0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciB4U2NhbGUgPSAyLjAgLyAobGVmdFRhbiArIHJpZ2h0VGFuKTtcbiAgdmFyIHlTY2FsZSA9IDIuMCAvICh1cFRhbiArIGRvd25UYW4pO1xuICBvdXRbMF0gPSB4U2NhbGU7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIG91dFs0XSA9IDAuMDtcbiAgb3V0WzVdID0geVNjYWxlO1xuICBvdXRbNl0gPSAwLjA7XG4gIG91dFs3XSA9IDAuMDtcbiAgb3V0WzhdID0gLSgobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNSk7XG4gIG91dFs5XSA9ICh1cFRhbiAtIGRvd25UYW4pICogeVNjYWxlICogMC41O1xuICBvdXRbMTBdID0gZmFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTFdID0gLTEuMDtcbiAgb3V0WzEyXSA9IDAuMDtcbiAgb3V0WzEzXSA9IDAuMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgLyAobmVhciAtIGZhcik7XG4gIG91dFsxNV0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWy0xLCAxXSxcbiAqIHdoaWNoIG1hdGNoZXMgV2ViR0wvT3BlbkdMJ3MgY2xpcCB2b2x1bWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtudW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG9ydGhvTk8ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgbHIgPSAxIC8gKGxlZnQgLSByaWdodCk7XG4gIHZhciBidCA9IDEgLyAoYm90dG9tIC0gdG9wKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gLTIgKiBscjtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gLTIgKiBidDtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDIgKiBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm9ydGhvTk99XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG9ydGhvID0gb3J0aG9OTztcbi8qKlxuICogR2VuZXJhdGVzIGEgb3J0aG9nb25hbCBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbMCwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdQVS9WdWxrYW4vRGlyZWN0WC9NZXRhbCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob1pPKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSBuZjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAobGVmdCArIHJpZ2h0KSAqIGxyO1xuICBvdXRbMTNdID0gKHRvcCArIGJvdHRvbSkgKiBidDtcbiAgb3V0WzE0XSA9IG5lYXIgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIGxvb2stYXQgbWF0cml4IHdpdGggdGhlIGdpdmVuIGV5ZSBwb3NpdGlvbiwgZm9jYWwgcG9pbnQsIGFuZCB1cCBheGlzLlxuICogSWYgeW91IHdhbnQgYSBtYXRyaXggdGhhdCBhY3R1YWxseSBtYWtlcyBhbiBvYmplY3QgbG9vayBhdCBhbm90aGVyIG9iamVjdCwgeW91IHNob3VsZCB1c2UgdGFyZ2V0VG8gaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZXllIFBvc2l0aW9uIG9mIHRoZSB2aWV3ZXJcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjZW50ZXIgUG9pbnQgdGhlIHZpZXdlciBpcyBsb29raW5nIGF0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdXAgdmVjMyBwb2ludGluZyB1cFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsb29rQXQob3V0LCBleWUsIGNlbnRlciwgdXApIHtcbiAgdmFyIHgwLCB4MSwgeDIsIHkwLCB5MSwgeTIsIHowLCB6MSwgejIsIGxlbjtcbiAgdmFyIGV5ZXggPSBleWVbMF07XG4gIHZhciBleWV5ID0gZXllWzFdO1xuICB2YXIgZXlleiA9IGV5ZVsyXTtcbiAgdmFyIHVweCA9IHVwWzBdO1xuICB2YXIgdXB5ID0gdXBbMV07XG4gIHZhciB1cHogPSB1cFsyXTtcbiAgdmFyIGNlbnRlcnggPSBjZW50ZXJbMF07XG4gIHZhciBjZW50ZXJ5ID0gY2VudGVyWzFdO1xuICB2YXIgY2VudGVyeiA9IGNlbnRlclsyXTtcblxuICBpZiAoTWF0aC5hYnMoZXlleCAtIGNlbnRlcngpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV5IC0gY2VudGVyeSkgPCBnbE1hdHJpeC5FUFNJTE9OICYmIE1hdGguYWJzKGV5ZXogLSBjZW50ZXJ6KSA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gaWRlbnRpdHkob3V0KTtcbiAgfVxuXG4gIHowID0gZXlleCAtIGNlbnRlcng7XG4gIHoxID0gZXlleSAtIGNlbnRlcnk7XG4gIHoyID0gZXlleiAtIGNlbnRlcno7XG4gIGxlbiA9IDEgLyBNYXRoLmh5cG90KHowLCB6MSwgejIpO1xuICB6MCAqPSBsZW47XG4gIHoxICo9IGxlbjtcbiAgejIgKj0gbGVuO1xuICB4MCA9IHVweSAqIHoyIC0gdXB6ICogejE7XG4gIHgxID0gdXB6ICogejAgLSB1cHggKiB6MjtcbiAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSBNYXRoLmh5cG90KHgwLCB4MSwgeDIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeDAgPSAwO1xuICAgIHgxID0gMDtcbiAgICB4MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIHkwID0gejEgKiB4MiAtIHoyICogeDE7XG4gIHkxID0gejIgKiB4MCAtIHowICogeDI7XG4gIHkyID0gejAgKiB4MSAtIHoxICogeDA7XG4gIGxlbiA9IE1hdGguaHlwb3QoeTAsIHkxLCB5Mik7XG5cbiAgaWYgKCFsZW4pIHtcbiAgICB5MCA9IDA7XG4gICAgeTEgPSAwO1xuICAgIHkyID0gMDtcbiAgfSBlbHNlIHtcbiAgICBsZW4gPSAxIC8gbGVuO1xuICAgIHkwICo9IGxlbjtcbiAgICB5MSAqPSBsZW47XG4gICAgeTIgKj0gbGVuO1xuICB9XG5cbiAgb3V0WzBdID0geDA7XG4gIG91dFsxXSA9IHkwO1xuICBvdXRbMl0gPSB6MDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0geDE7XG4gIG91dFs1XSA9IHkxO1xuICBvdXRbNl0gPSB6MTtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geDI7XG4gIG91dFs5XSA9IHkyO1xuICBvdXRbMTBdID0gejI7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gLSh4MCAqIGV5ZXggKyB4MSAqIGV5ZXkgKyB4MiAqIGV5ZXopO1xuICBvdXRbMTNdID0gLSh5MCAqIGV5ZXggKyB5MSAqIGV5ZXkgKyB5MiAqIGV5ZXopO1xuICBvdXRbMTRdID0gLSh6MCAqIGV5ZXggKyB6MSAqIGV5ZXkgKyB6MiAqIGV5ZXopO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgbWF0cml4IHRoYXQgbWFrZXMgc29tZXRoaW5nIGxvb2sgYXQgc29tZXRoaW5nIGVsc2UuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdGFyZ2V0VG8ob3V0LCBleWUsIHRhcmdldCwgdXApIHtcbiAgdmFyIGV5ZXggPSBleWVbMF0sXG4gICAgICBleWV5ID0gZXllWzFdLFxuICAgICAgZXlleiA9IGV5ZVsyXSxcbiAgICAgIHVweCA9IHVwWzBdLFxuICAgICAgdXB5ID0gdXBbMV0sXG4gICAgICB1cHogPSB1cFsyXTtcbiAgdmFyIHowID0gZXlleCAtIHRhcmdldFswXSxcbiAgICAgIHoxID0gZXlleSAtIHRhcmdldFsxXSxcbiAgICAgIHoyID0gZXlleiAtIHRhcmdldFsyXTtcbiAgdmFyIGxlbiA9IHowICogejAgKyB6MSAqIHoxICsgejIgKiB6MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB6MCAqPSBsZW47XG4gICAgejEgKj0gbGVuO1xuICAgIHoyICo9IGxlbjtcbiAgfVxuXG4gIHZhciB4MCA9IHVweSAqIHoyIC0gdXB6ICogejEsXG4gICAgICB4MSA9IHVweiAqIHowIC0gdXB4ICogejIsXG4gICAgICB4MiA9IHVweCAqIHoxIC0gdXB5ICogejA7XG4gIGxlbiA9IHgwICogeDAgKyB4MSAqIHgxICsgeDIgKiB4MjtcblxuICBpZiAobGVuID4gMCkge1xuICAgIGxlbiA9IDEgLyBNYXRoLnNxcnQobGVuKTtcbiAgICB4MCAqPSBsZW47XG4gICAgeDEgKj0gbGVuO1xuICAgIHgyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB4MTtcbiAgb3V0WzJdID0geDI7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHoxICogeDIgLSB6MiAqIHgxO1xuICBvdXRbNV0gPSB6MiAqIHgwIC0gejAgKiB4MjtcbiAgb3V0WzZdID0gejAgKiB4MSAtIHoxICogeDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHowO1xuICBvdXRbOV0gPSB6MTtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IGV5ZXg7XG4gIG91dFsxM10gPSBleWV5O1xuICBvdXRbMTRdID0gZXllejtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgbWF0cml4IHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtYXRyaXhcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwibWF0NChcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiLCBcIiArIGFbM10gKyBcIiwgXCIgKyBhWzRdICsgXCIsIFwiICsgYVs1XSArIFwiLCBcIiArIGFbNl0gKyBcIiwgXCIgKyBhWzddICsgXCIsIFwiICsgYVs4XSArIFwiLCBcIiArIGFbOV0gKyBcIiwgXCIgKyBhWzEwXSArIFwiLCBcIiArIGFbMTFdICsgXCIsIFwiICsgYVsxMl0gKyBcIiwgXCIgKyBhWzEzXSArIFwiLCBcIiArIGFbMTRdICsgXCIsIFwiICsgYVsxNV0gKyBcIilcIjtcbn1cbi8qKlxuICogUmV0dXJucyBGcm9iZW5pdXMgbm9ybSBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIGNhbGN1bGF0ZSBGcm9iZW5pdXMgbm9ybSBvZlxuICogQHJldHVybnMge051bWJlcn0gRnJvYmVuaXVzIG5vcm1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvYihhKSB7XG4gIHJldHVybiBNYXRoLmh5cG90KGFbMF0sIGFbMV0sIGFbMl0sIGFbM10sIGFbNF0sIGFbNV0sIGFbNl0sIGFbN10sIGFbOF0sIGFbOV0sIGFbMTBdLCBhWzExXSwgYVsxMl0sIGFbMTNdLCBhWzE0XSwgYVsxNV0pO1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3NcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV07XG4gIG91dFs2XSA9IGFbNl0gKyBiWzZdO1xuICBvdXRbN10gPSBhWzddICsgYls3XTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF07XG4gIG91dFs5XSA9IGFbOV0gKyBiWzldO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV07XG4gIG91dFsxMl0gPSBhWzEyXSArIGJbMTJdO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF07XG4gIG91dFsxNV0gPSBhWzE1XSArIGJbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgbWF0cml4IGIgZnJvbSBtYXRyaXggYVxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgb3V0WzRdID0gYVs0XSAtIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gLSBiWzVdO1xuICBvdXRbNl0gPSBhWzZdIC0gYls2XTtcbiAgb3V0WzddID0gYVs3XSAtIGJbN107XG4gIG91dFs4XSA9IGFbOF0gLSBiWzhdO1xuICBvdXRbOV0gPSBhWzldIC0gYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdIC0gYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSAtIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gLSBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdIC0gYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSAtIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gLSBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbHkgZWFjaCBlbGVtZW50IG9mIHRoZSBtYXRyaXggYnkgYSBzY2FsYXIuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgbWF0cml4J3MgZWxlbWVudHMgYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXIob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiO1xuICBvdXRbMV0gPSBhWzFdICogYjtcbiAgb3V0WzJdID0gYVsyXSAqIGI7XG4gIG91dFszXSA9IGFbM10gKiBiO1xuICBvdXRbNF0gPSBhWzRdICogYjtcbiAgb3V0WzVdID0gYVs1XSAqIGI7XG4gIG91dFs2XSA9IGFbNl0gKiBiO1xuICBvdXRbN10gPSBhWzddICogYjtcbiAgb3V0WzhdID0gYVs4XSAqIGI7XG4gIG91dFs5XSA9IGFbOV0gKiBiO1xuICBvdXRbMTBdID0gYVsxMF0gKiBiO1xuICBvdXRbMTFdID0gYVsxMV0gKiBiO1xuICBvdXRbMTJdID0gYVsxMl0gKiBiO1xuICBvdXRbMTNdID0gYVsxM10gKiBiO1xuICBvdXRbMTRdID0gYVsxNF0gKiBiO1xuICBvdXRbMTVdID0gYVsxNV0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byBtYXQ0J3MgYWZ0ZXIgbXVsdGlwbHlpbmcgZWFjaCBlbGVtZW50IG9mIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYidzIGVsZW1lbnRzIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlTY2FsYXJBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICBvdXRbNF0gPSBhWzRdICsgYls0XSAqIHNjYWxlO1xuICBvdXRbNV0gPSBhWzVdICsgYls1XSAqIHNjYWxlO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XSAqIHNjYWxlO1xuICBvdXRbN10gPSBhWzddICsgYls3XSAqIHNjYWxlO1xuICBvdXRbOF0gPSBhWzhdICsgYls4XSAqIHNjYWxlO1xuICBvdXRbOV0gPSBhWzldICsgYls5XSAqIHNjYWxlO1xuICBvdXRbMTBdID0gYVsxMF0gKyBiWzEwXSAqIHNjYWxlO1xuICBvdXRbMTFdID0gYVsxMV0gKyBiWzExXSAqIHNjYWxlO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXSAqIHNjYWxlO1xuICBvdXRbMTNdID0gYVsxM10gKyBiWzEzXSAqIHNjYWxlO1xuICBvdXRbMTRdID0gYVsxNF0gKyBiWzE0XSAqIHNjYWxlO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24gKHdoZW4gY29tcGFyZWQgd2l0aCA9PT0pXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdICYmIGFbNF0gPT09IGJbNF0gJiYgYVs1XSA9PT0gYls1XSAmJiBhWzZdID09PSBiWzZdICYmIGFbN10gPT09IGJbN10gJiYgYVs4XSA9PT0gYls4XSAmJiBhWzldID09PSBiWzldICYmIGFbMTBdID09PSBiWzEwXSAmJiBhWzExXSA9PT0gYlsxMV0gJiYgYVsxMl0gPT09IGJbMTJdICYmIGFbMTNdID09PSBiWzEzXSAmJiBhWzE0XSA9PT0gYlsxNF0gJiYgYVsxNV0gPT09IGJbMTVdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBtYXRyaWNlcyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgVGhlIGZpcnN0IG1hdHJpeC5cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIFRoZSBzZWNvbmQgbWF0cml4LlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIG1hdHJpY2VzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdLFxuICAgICAgYTMgPSBhWzNdO1xuICB2YXIgYTQgPSBhWzRdLFxuICAgICAgYTUgPSBhWzVdLFxuICAgICAgYTYgPSBhWzZdLFxuICAgICAgYTcgPSBhWzddO1xuICB2YXIgYTggPSBhWzhdLFxuICAgICAgYTkgPSBhWzldLFxuICAgICAgYTEwID0gYVsxMF0sXG4gICAgICBhMTEgPSBhWzExXTtcbiAgdmFyIGExMiA9IGFbMTJdLFxuICAgICAgYTEzID0gYVsxM10sXG4gICAgICBhMTQgPSBhWzE0XSxcbiAgICAgIGExNSA9IGFbMTVdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdLFxuICAgICAgYjMgPSBiWzNdO1xuICB2YXIgYjQgPSBiWzRdLFxuICAgICAgYjUgPSBiWzVdLFxuICAgICAgYjYgPSBiWzZdLFxuICAgICAgYjcgPSBiWzddO1xuICB2YXIgYjggPSBiWzhdLFxuICAgICAgYjkgPSBiWzldLFxuICAgICAgYjEwID0gYlsxMF0sXG4gICAgICBiMTEgPSBiWzExXTtcbiAgdmFyIGIxMiA9IGJbMTJdLFxuICAgICAgYjEzID0gYlsxM10sXG4gICAgICBiMTQgPSBiWzE0XSxcbiAgICAgIGIxNSA9IGJbMTVdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSkgJiYgTWF0aC5hYnMoYTMgLSBiMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTMpLCBNYXRoLmFicyhiMykpICYmIE1hdGguYWJzKGE0IC0gYjQpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE0KSwgTWF0aC5hYnMoYjQpKSAmJiBNYXRoLmFicyhhNSAtIGI1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNSksIE1hdGguYWJzKGI1KSkgJiYgTWF0aC5hYnMoYTYgLSBiNikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTYpLCBNYXRoLmFicyhiNikpICYmIE1hdGguYWJzKGE3IC0gYjcpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE3KSwgTWF0aC5hYnMoYjcpKSAmJiBNYXRoLmFicyhhOCAtIGI4KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhOCksIE1hdGguYWJzKGI4KSkgJiYgTWF0aC5hYnMoYTkgLSBiOSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTkpLCBNYXRoLmFicyhiOSkpICYmIE1hdGguYWJzKGExMCAtIGIxMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEwKSwgTWF0aC5hYnMoYjEwKSkgJiYgTWF0aC5hYnMoYTExIC0gYjExKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTEpLCBNYXRoLmFicyhiMTEpKSAmJiBNYXRoLmFicyhhMTIgLSBiMTIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMiksIE1hdGguYWJzKGIxMikpICYmIE1hdGguYWJzKGExMyAtIGIxMykgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEzKSwgTWF0aC5hYnMoYjEzKSkgJiYgTWF0aC5hYnMoYTE0IC0gYjE0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTQpLCBNYXRoLmFicyhiMTQpKSAmJiBNYXRoLmFicyhhMTUgLSBiMTUpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExNSksIE1hdGguYWJzKGIxNSkpO1xufVxuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQubXVsdGlwbHl9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIG11bCA9IG11bHRpcGx5O1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIG1hdDQuc3VidHJhY3R9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHN1YiA9IHN1YnRyYWN0OyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiAzIERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWMzXG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWMzXG4gKlxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzN9IGEgbmV3IDNEIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWMzIGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgzKTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzMgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXQob3V0LCB4LCB5LCB6KSB7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIERpdmlkZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdmlkZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAvIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLyBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC8gYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmZsb29yIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gZmxvb3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvb3Iob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguZmxvb3IoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguZmxvb3IoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguZmxvb3IoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1pbmltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1pbihvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5taW4oYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWluKGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1pbihhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzMgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3MgYWZ0ZXIgc2NhbGluZyB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlIHRoZSBhbW91bnQgdG8gc2NhbGUgYiBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHopO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkRGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICByZXR1cm4geCAqIHggKyB5ICogeSArIHogKiB6O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgaW52ZXJzZSBvZiB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGludmVydFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlKG91dCwgYSkge1xuICBvdXRbMF0gPSAxLjAgLyBhWzBdO1xuICBvdXRbMV0gPSAxLjAgLyBhWzFdO1xuICBvdXRbMl0gPSAxLjAgLyBhWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBOb3JtYWxpemUgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKG91dCwgYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgLy9UT0RPOiBldmFsdWF0ZSB1c2Ugb2YgZ2xtX2ludnNxcnQgaGVyZT9cbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSBhWzBdICogbGVuO1xuICBvdXRbMV0gPSBhWzFdICogbGVuO1xuICBvdXRbMl0gPSBhWzJdICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCBhLCBiKSB7XG4gIHZhciBheCA9IGFbMF0sXG4gICAgICBheSA9IGFbMV0sXG4gICAgICBheiA9IGFbMl07XG4gIHZhciBieCA9IGJbMF0sXG4gICAgICBieSA9IGJbMV0sXG4gICAgICBieiA9IGJbMl07XG4gIG91dFswXSA9IGF5ICogYnogLSBheiAqIGJ5O1xuICBvdXRbMV0gPSBheiAqIGJ4IC0gYXggKiBiejtcbiAgb3V0WzJdID0gYXggKiBieSAtIGF5ICogYng7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBoZXJtaXRlIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBoZXJtaXRlKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgZmFjdG9yVGltZXMyID0gdCAqIHQ7XG4gIHZhciBmYWN0b3IxID0gZmFjdG9yVGltZXMyICogKDIgKiB0IC0gMykgKyAxO1xuICB2YXIgZmFjdG9yMiA9IGZhY3RvclRpbWVzMiAqICh0IC0gMikgKyB0O1xuICB2YXIgZmFjdG9yMyA9IGZhY3RvclRpbWVzMiAqICh0IC0gMSk7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogKDMgLSAyICogdCk7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmV6aWVyIGludGVycG9sYXRpb24gd2l0aCB0d28gY29udHJvbCBwb2ludHNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGMgdGhlIHRoaXJkIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBkIHRoZSBmb3VydGggb3BlcmFuZFxuICogQHBhcmFtIHtOdW1iZXJ9IHQgaW50ZXJwb2xhdGlvbiBhbW91bnQsIGluIHRoZSByYW5nZSBbMC0xXSwgYmV0d2VlbiB0aGUgdHdvIGlucHV0c1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBiZXppZXIob3V0LCBhLCBiLCBjLCBkLCB0KSB7XG4gIHZhciBpbnZlcnNlRmFjdG9yID0gMSAtIHQ7XG4gIHZhciBpbnZlcnNlRmFjdG9yVGltZXNUd28gPSBpbnZlcnNlRmFjdG9yICogaW52ZXJzZUZhY3RvcjtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGludmVyc2VGYWN0b3JUaW1lc1R3byAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3IyID0gMyAqIHQgKiBpbnZlcnNlRmFjdG9yVGltZXNUd287XG4gIHZhciBmYWN0b3IzID0gMyAqIGZhY3RvclRpbWVzMiAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3I0ID0gZmFjdG9yVGltZXMyICogdDtcbiAgb3V0WzBdID0gYVswXSAqIGZhY3RvcjEgKyBiWzBdICogZmFjdG9yMiArIGNbMF0gKiBmYWN0b3IzICsgZFswXSAqIGZhY3RvcjQ7XG4gIG91dFsxXSA9IGFbMV0gKiBmYWN0b3IxICsgYlsxXSAqIGZhY3RvcjIgKyBjWzFdICogZmFjdG9yMyArIGRbMV0gKiBmYWN0b3I0O1xuICBvdXRbMl0gPSBhWzJdICogZmFjdG9yMSArIGJbMl0gKiBmYWN0b3IyICsgY1syXSAqIGZhY3RvcjMgKyBkWzJdICogZmFjdG9yNDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIHZlY3RvciB3aXRoIHRoZSBnaXZlbiBzY2FsZVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlXSBMZW5ndGggb2YgdGhlIHJlc3VsdGluZyB2ZWN0b3IuIElmIG9tbWl0dGVkLCBhIHVuaXQgdmVjdG9yIHdpbGwgYmUgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG91dCwgc2NhbGUpIHtcbiAgc2NhbGUgPSBzY2FsZSB8fCAxLjA7XG4gIHZhciByID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyLjAgKiBNYXRoLlBJO1xuICB2YXIgeiA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wIC0gMS4wO1xuICB2YXIgelNjYWxlID0gTWF0aC5zcXJ0KDEuMCAtIHogKiB6KSAqIHNjYWxlO1xuICBvdXRbMF0gPSBNYXRoLmNvcyhyKSAqIHpTY2FsZTtcbiAgb3V0WzFdID0gTWF0aC5zaW4ocikgKiB6U2NhbGU7XG4gIG91dFsyXSA9IHogKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgbWF0NC5cbiAqIDR0aCB2ZWN0b3IgY29tcG9uZW50IGlzIGltcGxpY2l0bHkgJzEnXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgdmFyIHcgPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV07XG4gIHcgPSB3IHx8IDEuMDtcbiAgb3V0WzBdID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAvIHc7XG4gIG91dFsxXSA9IChtWzFdICogeCArIG1bNV0gKiB5ICsgbVs5XSAqIHogKyBtWzEzXSkgLyB3O1xuICBvdXRbMl0gPSAobVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdKSAvIHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDMuXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0M30gbSB0aGUgM3gzIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQzKG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICBvdXRbMF0gPSB4ICogbVswXSArIHkgKiBtWzNdICsgeiAqIG1bNl07XG4gIG91dFsxXSA9IHggKiBtWzFdICsgeSAqIG1bNF0gKyB6ICogbVs3XTtcbiAgb3V0WzJdID0geCAqIG1bMl0gKyB5ICogbVs1XSArIHogKiBtWzhdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBxdWF0XG4gKiBDYW4gYWxzbyBiZSB1c2VkIGZvciBkdWFsIHF1YXRlcm5pb25zLiAoTXVsdGlwbHkgaXQgd2l0aCB0aGUgcmVhbCBwYXJ0KVxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICAvLyBiZW5jaG1hcmtzOiBodHRwczovL2pzcGVyZi5jb20vcXVhdGVybmlvbi10cmFuc2Zvcm0tdmVjMy1pbXBsZW1lbnRhdGlvbnMtZml4ZWRcbiAgdmFyIHF4ID0gcVswXSxcbiAgICAgIHF5ID0gcVsxXSxcbiAgICAgIHF6ID0gcVsyXSxcbiAgICAgIHF3ID0gcVszXTtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTsgLy8gdmFyIHF2ZWMgPSBbcXgsIHF5LCBxel07XG4gIC8vIHZhciB1diA9IHZlYzMuY3Jvc3MoW10sIHF2ZWMsIGEpO1xuXG4gIHZhciB1dnggPSBxeSAqIHogLSBxeiAqIHksXG4gICAgICB1dnkgPSBxeiAqIHggLSBxeCAqIHosXG4gICAgICB1dnogPSBxeCAqIHkgLSBxeSAqIHg7IC8vIHZhciB1dXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCB1dik7XG5cbiAgdmFyIHV1dnggPSBxeSAqIHV2eiAtIHF6ICogdXZ5LFxuICAgICAgdXV2eSA9IHF6ICogdXZ4IC0gcXggKiB1dnosXG4gICAgICB1dXZ6ID0gcXggKiB1dnkgLSBxeSAqIHV2eDsgLy8gdmVjMy5zY2FsZSh1diwgdXYsIDIgKiB3KTtcblxuICB2YXIgdzIgPSBxdyAqIDI7XG4gIHV2eCAqPSB3MjtcbiAgdXZ5ICo9IHcyO1xuICB1dnogKj0gdzI7IC8vIHZlYzMuc2NhbGUodXV2LCB1dXYsIDIpO1xuXG4gIHV1dnggKj0gMjtcbiAgdXV2eSAqPSAyO1xuICB1dXZ6ICo9IDI7IC8vIHJldHVybiB2ZWMzLmFkZChvdXQsIGEsIHZlYzMuYWRkKG91dCwgdXYsIHV1dikpO1xuXG4gIG91dFswXSA9IHggKyB1dnggKyB1dXZ4O1xuICBvdXRbMV0gPSB5ICsgdXZ5ICsgdXV2eTtcbiAgb3V0WzJdID0geiArIHV2eiArIHV1dno7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHgtYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVgob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdO1xuICByWzFdID0gcFsxXSAqIE1hdGguY29zKHJhZCkgLSBwWzJdICogTWF0aC5zaW4ocmFkKTtcbiAgclsyXSA9IHBbMV0gKiBNYXRoLnNpbihyYWQpICsgcFsyXSAqIE1hdGguY29zKHJhZCk7IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB5LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVZKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFsyXSAqIE1hdGguc2luKHJhZCkgKyBwWzBdICogTWF0aC5jb3MocmFkKTtcbiAgclsxXSA9IHBbMV07XG4gIHJbMl0gPSBwWzJdICogTWF0aC5jb3MocmFkKSAtIHBbMF0gKiBNYXRoLnNpbihyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgei1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWihvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMF0gKiBNYXRoLmNvcyhyYWQpIC0gcFsxXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMV0gPSBwWzBdICogTWF0aC5zaW4ocmFkKSArIHBbMV0gKiBNYXRoLmNvcyhyYWQpO1xuICByWzJdID0gcFsyXTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgYW5nbGUgYmV0d2VlbiB0d28gM0QgdmVjdG9yc1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYW5nbGUoYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdLFxuICAgICAgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdLFxuICAgICAgbWFnMSA9IE1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSArIGF6ICogYXopLFxuICAgICAgbWFnMiA9IE1hdGguc3FydChieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnopLFxuICAgICAgbWFnID0gbWFnMSAqIG1hZzIsXG4gICAgICBjb3NpbmUgPSBtYWcgJiYgZG90KGEsIGIpIC8gbWFnO1xuICByZXR1cm4gTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGNvc2luZSwgLTEpLCAxKSk7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzMgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWMzKFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl07XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl07XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzMuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzNzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzMuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWMzcyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSAzO1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xufSgpOyIsImltcG9ydCAqIGFzIGdsTWF0cml4IGZyb20gXCIuL2NvbW1vbi5qc1wiO1xuLyoqXG4gKiA0IERpbWVuc2lvbmFsIFZlY3RvclxuICogQG1vZHVsZSB2ZWM0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBlbXB0eSB2ZWM0XG4gKlxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcblxuICBpZiAoZ2xNYXRyaXguQVJSQVlfVFlQRSAhPSBGbG9hdDMyQXJyYXkpIHtcbiAgICBvdXRbMF0gPSAwO1xuICAgIG91dFsxXSA9IDA7XG4gICAgb3V0WzJdID0gMDtcbiAgICBvdXRbM10gPSAwO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdmFsdWVzIGZyb20gYW4gZXhpc3RpbmcgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNsb25lXG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDQpO1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzQgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVZhbHVlcyh4LCB5LCB6LCB3KSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIHZlYzQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgc291cmNlIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IHggWCBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFkgY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geiBaIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHcgVyBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeiwgdykge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICBvdXRbM10gPSB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIG91dFszXSA9IGFbM10gKyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTdWJ0cmFjdHMgdmVjdG9yIGIgZnJvbSB2ZWN0b3IgYVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC0gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAtIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLSBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC0gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTXVsdGlwbGllcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHkob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKiBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICogYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAqIGJbMl07XG4gIG91dFszXSA9IGFbM10gKiBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIG91dFszXSA9IGFbM10gLyBiWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLmNlaWwgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjZWlsXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNlaWwob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGguY2VpbChhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5jZWlsKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmNlaWwoYVsyXSk7XG4gIG91dFszXSA9IE1hdGguY2VpbChhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmZsb29yKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIG91dFszXSA9IE1hdGgubWluKGFbM10sIGJbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtYXhpbXVtIG9mIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtYXgob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWF4KGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1heChhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5tYXgoYVsyXSwgYlsyXSk7XG4gIG91dFszXSA9IE1hdGgubWF4KGFbM10sIGJbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBNYXRoLnJvdW5kIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcm91bmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm91bmQob3V0LCBhKSB7XG4gIG91dFswXSA9IE1hdGgucm91bmQoYVswXSk7XG4gIG91dFsxXSA9IE1hdGgucm91bmQoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGgucm91bmQoYVsyXSk7XG4gIG91dFszXSA9IE1hdGgucm91bmQoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNjYWxlcyBhIHZlYzQgYnkgYSBzY2FsYXIgbnVtYmVyXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gc2NhbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBiIGFtb3VudCB0byBzY2FsZSB0aGUgdmVjdG9yIGJ5XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIG91dFszXSA9IGFbM10gKyBiWzNdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWM0J3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICB2YXIgdyA9IGJbM10gLSBhWzNdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6LCB3KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsZW5ndGggb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgc3F1YXJlZCBsZW5ndGggb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZExlbmd0aChhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xufVxuLyoqXG4gKiBOZWdhdGVzIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbmVnYXRlXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5lZ2F0ZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gLWFbMF07XG4gIG91dFsxXSA9IC1hWzFdO1xuICBvdXRbMl0gPSAtYVsyXTtcbiAgb3V0WzNdID0gLWFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgb3V0WzNdID0gMS4wIC8gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIHcgPSBhWzNdO1xuICB2YXIgbGVuID0geCAqIHggKyB5ICogeSArIHogKiB6ICsgdyAqIHc7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gIH1cblxuICBvdXRbMF0gPSB4ICogbGVuO1xuICBvdXRbMV0gPSB5ICogbGVuO1xuICBvdXRbMl0gPSB6ICogbGVuO1xuICBvdXRbM10gPSB3ICogbGVuO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBkb3QgcHJvZHVjdCBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZG90IHByb2R1Y3Qgb2YgYSBhbmQgYlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkb3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXSArIGFbMl0gKiBiWzJdICsgYVszXSAqIGJbM107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGNyb3NzLXByb2R1Y3Qgb2YgdGhyZWUgdmVjdG9ycyBpbiBhIDQtZGltZW5zaW9uYWwgc3BhY2VcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gcmVzdWx0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gVSB0aGUgZmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gViB0aGUgc2Vjb25kIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFcgdGhlIHRoaXJkIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IHJlc3VsdFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcm9zcyhvdXQsIHUsIHYsIHcpIHtcbiAgdmFyIEEgPSB2WzBdICogd1sxXSAtIHZbMV0gKiB3WzBdLFxuICAgICAgQiA9IHZbMF0gKiB3WzJdIC0gdlsyXSAqIHdbMF0sXG4gICAgICBDID0gdlswXSAqIHdbM10gLSB2WzNdICogd1swXSxcbiAgICAgIEQgPSB2WzFdICogd1syXSAtIHZbMl0gKiB3WzFdLFxuICAgICAgRSA9IHZbMV0gKiB3WzNdIC0gdlszXSAqIHdbMV0sXG4gICAgICBGID0gdlsyXSAqIHdbM10gLSB2WzNdICogd1syXTtcbiAgdmFyIEcgPSB1WzBdO1xuICB2YXIgSCA9IHVbMV07XG4gIHZhciBJID0gdVsyXTtcbiAgdmFyIEogPSB1WzNdO1xuICBvdXRbMF0gPSBIICogRiAtIEkgKiBFICsgSiAqIEQ7XG4gIG91dFsxXSA9IC0oRyAqIEYpICsgSSAqIEMgLSBKICogQjtcbiAgb3V0WzJdID0gRyAqIEUgLSBIICogQyArIEogKiBBO1xuICBvdXRbM10gPSAtKEcgKiBEKSArIEggKiBCIC0gSSAqIEE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVycChvdXQsIGEsIGIsIHQpIHtcbiAgdmFyIGF4ID0gYVswXTtcbiAgdmFyIGF5ID0gYVsxXTtcbiAgdmFyIGF6ID0gYVsyXTtcbiAgdmFyIGF3ID0gYVszXTtcbiAgb3V0WzBdID0gYXggKyB0ICogKGJbMF0gLSBheCk7XG4gIG91dFsxXSA9IGF5ICsgdCAqIChiWzFdIC0gYXkpO1xuICBvdXRbMl0gPSBheiArIHQgKiAoYlsyXSAtIGF6KTtcbiAgb3V0WzNdID0gYXcgKyB0ICogKGJbM10gLSBhdyk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wOyAvLyBNYXJzYWdsaWEsIEdlb3JnZS4gQ2hvb3NpbmcgYSBQb2ludCBmcm9tIHRoZSBTdXJmYWNlIG9mIGFcbiAgLy8gU3BoZXJlLiBBbm4uIE1hdGguIFN0YXRpc3QuIDQzICgxOTcyKSwgbm8uIDIsIDY0NS0tNjQ2LlxuICAvLyBodHRwOi8vcHJvamVjdGV1Y2xpZC5vcmcvZXVjbGlkLmFvbXMvMTE3NzY5MjY0NDtcblxuICB2YXIgdjEsIHYyLCB2MywgdjQ7XG4gIHZhciBzMSwgczI7XG5cbiAgZG8ge1xuICAgIHYxID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICB2MiA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgczEgPSB2MSAqIHYxICsgdjIgKiB2MjtcbiAgfSB3aGlsZSAoczEgPj0gMSk7XG5cbiAgZG8ge1xuICAgIHYzID0gZ2xNYXRyaXguUkFORE9NKCkgKiAyIC0gMTtcbiAgICB2NCA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgczIgPSB2MyAqIHYzICsgdjQgKiB2NDtcbiAgfSB3aGlsZSAoczIgPj0gMSk7XG5cbiAgdmFyIGQgPSBNYXRoLnNxcnQoKDEgLSBzMSkgLyBzMik7XG4gIG91dFswXSA9IHNjYWxlICogdjE7XG4gIG91dFsxXSA9IHNjYWxlICogdjI7XG4gIG91dFsyXSA9IHNjYWxlICogdjMgKiBkO1xuICBvdXRbM10gPSBzY2FsZSAqIHY0ICogZDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgbWF0NC5cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtIG1hdHJpeCB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1NYXQ0KG91dCwgYSwgbSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdLFxuICAgICAgdyA9IGFbM107XG4gIG91dFswXSA9IG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdICogdztcbiAgb3V0WzFdID0gbVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10gKiB3O1xuICBvdXRbMl0gPSBtWzJdICogeCArIG1bNl0gKiB5ICsgbVsxMF0gKiB6ICsgbVsxNF0gKiB3O1xuICBvdXRbM10gPSBtWzNdICogeCArIG1bN10gKiB5ICsgbVsxMV0gKiB6ICsgbVsxNV0gKiB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWM0IHdpdGggYSBxdWF0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBxdWF0ZXJuaW9uIHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybVF1YXQob3V0LCBhLCBxKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107IC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjXG5cbiAgdmFyIGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICB2YXIgaXkgPSBxdyAqIHkgKyBxeiAqIHggLSBxeCAqIHo7XG4gIHZhciBpeiA9IHF3ICogeiArIHF4ICogeSAtIHF5ICogeDtcbiAgdmFyIGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejsgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuXG4gIG91dFswXSA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gIG91dFsxXSA9IGl5ICogcXcgKyBpdyAqIC1xeSArIGl6ICogLXF4IC0gaXggKiAtcXo7XG4gIG91dFsyXSA9IGl6ICogcXcgKyBpdyAqIC1xeiArIGl4ICogLXF5IC0gaXkgKiAtcXg7XG4gIG91dFszXSA9IGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzQgdG8gemVyb1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHplcm8ob3V0KSB7XG4gIG91dFswXSA9IDAuMDtcbiAgb3V0WzFdID0gMC4wO1xuICBvdXRbMl0gPSAwLjA7XG4gIG91dFszXSA9IDAuMDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcInZlYzQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleGFjdEVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBhWzBdID09PSBiWzBdICYmIGFbMV0gPT09IGJbMV0gJiYgYVsyXSA9PT0gYlsyXSAmJiBhWzNdID09PSBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbi5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpdmlkZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgZGl2ID0gZGl2aWRlO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuZGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpc3QgPSBkaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWREaXN0YW5jZX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyRGlzdCA9IHNxdWFyZWREaXN0YW5jZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0Lmxlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbGVuID0gbGVuZ3RoO1xuLyoqXG4gKiBBbGlhcyBmb3Ige0BsaW5rIHZlYzQuc3F1YXJlZExlbmd0aH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3FyTGVuID0gc3F1YXJlZExlbmd0aDtcbi8qKlxuICogUGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvdmVyIGFuIGFycmF5IG9mIHZlYzRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGEgdGhlIGFycmF5IG9mIHZlY3RvcnMgdG8gaXRlcmF0ZSBvdmVyXG4gKiBAcGFyYW0ge051bWJlcn0gc3RyaWRlIE51bWJlciBvZiBlbGVtZW50cyBiZXR3ZWVuIHRoZSBzdGFydCBvZiBlYWNoIHZlYzQuIElmIDAgYXNzdW1lcyB0aWdodGx5IHBhY2tlZFxuICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBOdW1iZXIgb2YgZWxlbWVudHMgdG8gc2tpcCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheVxuICogQHBhcmFtIHtOdW1iZXJ9IGNvdW50IE51bWJlciBvZiB2ZWM0cyB0byBpdGVyYXRlIG92ZXIuIElmIDAgaXRlcmF0ZXMgb3ZlciBlbnRpcmUgYXJyYXlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmVjdG9yIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHtPYmplY3R9IFthcmddIGFkZGl0aW9uYWwgYXJndW1lbnQgdG8gcGFzcyB0byBmblxuICogQHJldHVybnMge0FycmF5fSBhXG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB2ZWMgPSBjcmVhdGUoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBzdHJpZGUsIG9mZnNldCwgY291bnQsIGZuLCBhcmcpIHtcbiAgICB2YXIgaSwgbDtcblxuICAgIGlmICghc3RyaWRlKSB7XG4gICAgICBzdHJpZGUgPSA0O1xuICAgIH1cblxuICAgIGlmICghb2Zmc2V0KSB7XG4gICAgICBvZmZzZXQgPSAwO1xuICAgIH1cblxuICAgIGlmIChjb3VudCkge1xuICAgICAgbCA9IE1hdGgubWluKGNvdW50ICogc3RyaWRlICsgb2Zmc2V0LCBhLmxlbmd0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGwgPSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXQ7IGkgPCBsOyBpICs9IHN0cmlkZSkge1xuICAgICAgdmVjWzBdID0gYVtpXTtcbiAgICAgIHZlY1sxXSA9IGFbaSArIDFdO1xuICAgICAgdmVjWzJdID0gYVtpICsgMl07XG4gICAgICB2ZWNbM10gPSBhW2kgKyAzXTtcbiAgICAgIGZuKHZlYywgdmVjLCBhcmcpO1xuICAgICAgYVtpXSA9IHZlY1swXTtcbiAgICAgIGFbaSArIDFdID0gdmVjWzFdO1xuICAgICAgYVtpICsgMl0gPSB2ZWNbMl07XG4gICAgICBhW2kgKyAzXSA9IHZlY1szXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCJpbXBvcnQgeyBTeXN0ZW1Db3JlIH0gZnJvbSBcIi4uL3N5c3RlbS9zeXN0ZW1fY29yZVwiO1xyXG5cclxuLy8gQ3JlYXRlIGEgR1BVIGJ1ZmZlciBmcm9tIGFuIGFycmF5IG9mIGRhdGEsIGV4YWN0ICgrLSBwYWRkaW5nKSBzaXplXHJcbmNvbnN0IGNyZWF0ZV9ncHVfYnVmZmVyID0gPFQgZXh0ZW5kcyBBcnJheUJ1ZmZlclZpZXc+KFxyXG4gIGRhdGE6IFQsXHJcbiAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlRmxhZ3MgPSBHUFVCdWZmZXJVc2FnZS5WRVJURVggfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVFxyXG4pID0+IHtcclxuICBjb25zdCB7IGRldmljZSB9ID0gU3lzdGVtQ29yZTtcclxuICBjb25zdCBidWZmZXIgPSBkZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgIHNpemU6IGRhdGEuYnl0ZUxlbmd0aCxcclxuICAgIHVzYWdlLFxyXG4gICAgbWFwcGVkQXRDcmVhdGlvbjogdHJ1ZSxcclxuICB9KTtcclxuICBjb25zdCBtYXBwZWRSYW5nZSA9IGJ1ZmZlci5nZXRNYXBwZWRSYW5nZSgpO1xyXG4gIG5ldyBVaW50OEFycmF5KG1hcHBlZFJhbmdlKS5zZXQoXHJcbiAgICBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlciwgZGF0YS5ieXRlT2Zmc2V0LCBkYXRhLmJ5dGVMZW5ndGgpXHJcbiAgKTtcclxuICBidWZmZXIudW5tYXAoKTtcclxuICByZXR1cm4gYnVmZmVyO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgY3JlYXRlX2dwdV9idWZmZXIgfTtcclxuIiwiaW1wb3J0IHsgdmVjNCB9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgY3JlYXRlX2dwdV9idWZmZXIgfSBmcm9tIFwiLi4vdXRpbC9ncHVfdXRpbFwiO1xyXG5cclxuY29uc3QgbW9kZWxzOiB7IFtrZXk6IHN0cmluZ106IE1vZGVsRGF0YSB9ID0ge307XHJcblxyXG50eXBlIE1vZGVsRGF0YSA9IHtcclxuICB2ZXJ0ZXhfZGF0YV9ncHU6IEdQVUJ1ZmZlcjtcclxuICBpbmRpY2VzX2dwdTogR1BVQnVmZmVyO1xyXG4gIGluZGV4X2NvdW50OiBudW1iZXI7XHJcbn07XHJcblxyXG5jb25zdCBsb2FkX21vZGVsID0gYXN5bmMgKG1vZGVsX3BhdGg6IHN0cmluZyB8IHVuZGVmaW5lZCkgPT4ge1xyXG4gIGlmICghbW9kZWxfcGF0aCkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgaWYgKG1vZGVsc1ttb2RlbF9wYXRoXSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgbW9kZWxcIiwgbW9kZWxfcGF0aCk7XHJcblxyXG4gIC8vIEZldGNoIG1vZGVsXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChtb2RlbF9wYXRoKTtcclxuICBjb25zdCBtb2RlbCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuXHJcbiAgLy8gVHJhY2sgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIG1vZGVsXHJcbiAgY29uc3QgcG9zaXRpb25zOiB2ZWM0W10gPSBbXTtcclxuICBjb25zdCBub3JtYWxzOiB2ZWM0W10gPSBbXTtcclxuICBjb25zdCB1dnM6IHZlYzRbXSA9IFtdO1xyXG5cclxuICAvLyBUaGVzZSBhcmUgdGhlIGZpbmFsIHZlcnRpY2VzIG1ha2luZyB1cCB0aGUgZmFjZXMgaW4gb2JqIGZpbGVcclxuICBjb25zdCB2ZXJ0aWNlc19iZWZvcmVfaW5kZXhlZDogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgLy8gUGFyc2UgZGF0YSBmcm9tIG9iaiBmaWxlXHJcbiAgbGV0IG1heF9wb3NpdGlvbiA9IHZlYzQuY3JlYXRlKCk7XHJcbiAgbGV0IG1pbl9wb3NpdGlvbiA9IHZlYzQuY3JlYXRlKCk7XHJcbiAgbW9kZWwuc3BsaXQoXCJcXG5cIikuZm9yRWFjaCgobGluZSkgPT4ge1xyXG4gICAgY29uc3Qgc3BsaXRfbGluZSA9IGxpbmUuc3BsaXQoXCIgXCIpO1xyXG4gICAgY29uc3QgdHlwZSA9IHNwbGl0X2xpbmVbMF07XHJcblxyXG4gICAgaWYgKHR5cGUgPT09IFwidlwiKSB7XHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gdmVjNC5mcm9tVmFsdWVzKFxyXG4gICAgICAgIHBhcnNlRmxvYXQoc3BsaXRfbGluZVsxXSksXHJcbiAgICAgICAgcGFyc2VGbG9hdChzcGxpdF9saW5lWzJdKSxcclxuICAgICAgICBwYXJzZUZsb2F0KHNwbGl0X2xpbmVbM10pLFxyXG4gICAgICAgIDEuMFxyXG4gICAgICApO1xyXG5cclxuICAgICAgbWF4X3Bvc2l0aW9uWzBdID0gTWF0aC5tYXgobWF4X3Bvc2l0aW9uWzBdLCBwb3NpdGlvblswXSk7XHJcbiAgICAgIG1heF9wb3NpdGlvblsxXSA9IE1hdGgubWF4KG1heF9wb3NpdGlvblsxXSwgcG9zaXRpb25bMV0pO1xyXG4gICAgICBtYXhfcG9zaXRpb25bMl0gPSBNYXRoLm1heChtYXhfcG9zaXRpb25bMl0sIHBvc2l0aW9uWzJdKTtcclxuICAgICAgbWluX3Bvc2l0aW9uWzBdID0gTWF0aC5taW4obWluX3Bvc2l0aW9uWzBdLCBwb3NpdGlvblswXSk7XHJcbiAgICAgIG1pbl9wb3NpdGlvblsxXSA9IE1hdGgubWluKG1pbl9wb3NpdGlvblsxXSwgcG9zaXRpb25bMV0pO1xyXG4gICAgICBtaW5fcG9zaXRpb25bMl0gPSBNYXRoLm1pbihtaW5fcG9zaXRpb25bMl0sIHBvc2l0aW9uWzJdKTtcclxuXHJcbiAgICAgIHBvc2l0aW9ucy5wdXNoKHBvc2l0aW9uKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ2blwiKSB7XHJcbiAgICAgIGNvbnN0IG5vcm1hbCA9IHZlYzQuZnJvbVZhbHVlcyhcclxuICAgICAgICBwYXJzZUZsb2F0KHNwbGl0X2xpbmVbMV0pLFxyXG4gICAgICAgIHBhcnNlRmxvYXQoc3BsaXRfbGluZVsyXSksXHJcbiAgICAgICAgcGFyc2VGbG9hdChzcGxpdF9saW5lWzNdKSxcclxuICAgICAgICAwLjBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIG5vcm1hbHMucHVzaChub3JtYWwpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInZ0XCIpIHtcclxuICAgICAgY29uc3QgdXYgPSB2ZWM0LmZyb21WYWx1ZXMoXHJcbiAgICAgICAgcGFyc2VGbG9hdChzcGxpdF9saW5lWzFdKSxcclxuICAgICAgICBwYXJzZUZsb2F0KHNwbGl0X2xpbmVbMl0pLFxyXG4gICAgICAgIDAuMCxcclxuICAgICAgICAwLjBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHV2cy5wdXNoKHV2KTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJmXCIpIHtcclxuICAgICAgdmVydGljZXNfYmVmb3JlX2luZGV4ZWQucHVzaChzcGxpdF9saW5lWzFdKTtcclxuICAgICAgdmVydGljZXNfYmVmb3JlX2luZGV4ZWQucHVzaChzcGxpdF9saW5lWzJdKTtcclxuICAgICAgdmVydGljZXNfYmVmb3JlX2luZGV4ZWQucHVzaChzcGxpdF9saW5lWzNdKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gUmVjZW50ZXIgdGhlIG1vZGVsXHJcbiAgY29uc3QgY2VudGVyX3ggPSBtaW5fcG9zaXRpb25bMF0gKyAobWF4X3Bvc2l0aW9uWzBdIC0gbWluX3Bvc2l0aW9uWzBdKSAvIDI7XHJcbiAgY29uc3QgY2VudGVyX3kgPSBtaW5fcG9zaXRpb25bMV0gKyAobWF4X3Bvc2l0aW9uWzFdIC0gbWluX3Bvc2l0aW9uWzFdKSAvIDI7XHJcbiAgY29uc3QgY2VudGVyX3ogPSBtaW5fcG9zaXRpb25bMl0gKyAobWF4X3Bvc2l0aW9uWzJdIC0gbWluX3Bvc2l0aW9uWzJdKSAvIDI7XHJcblxyXG4gIC8vIC8vIFN1YnRyYWN0IHRoZSBjZW50ZXIgZnJvbSBlYWNoIHBvc2l0aW9uXHJcbiAgLy8gcG9zaXRpb25zLmZvckVhY2goKHBvc2l0aW9uKSA9PiB7XHJcbiAgLy8gICBwb3NpdGlvblswXSAtPSBjZW50ZXJfeDtcclxuICAvLyAgIHBvc2l0aW9uWzFdIC09IGNlbnRlcl95O1xyXG4gIC8vICAgcG9zaXRpb25bMl0gLT0gY2VudGVyX3o7XHJcbiAgLy8gfSk7XHJcblxyXG4gIC8vIEJ1aWxkIHVwIHRoZSBpbmRleGVkIHZlcnRpY2VzXHJcbiAgY29uc3QgaW5kaWNlczogR0xpbnRbXSA9IFtdO1xyXG4gIGNvbnN0IHZlcnRleF9tYXAgPSBuZXcgTWFwPHN0cmluZywgR0xpbnQ+KCk7IC8vIG51bWJlciBpcyB0aGUgc2l6ZSBhdCB0aW1lIG9mIGluc2VydGlvblxyXG4gIGxldCB2ZXJ0ZXhfZGF0YTogdmVjNFtdID0gW107XHJcblxyXG4gIHZlcnRpY2VzX2JlZm9yZV9pbmRleGVkLmZvckVhY2goKHZlcnRleCkgPT4ge1xyXG4gICAgaWYgKCF2ZXJ0ZXhfbWFwLmhhcyh2ZXJ0ZXgpKSB7XHJcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB2ZXJ0ZXguc3BsaXQoXCIvXCIpLmZpbHRlcigodikgPT4gdiAhPT0gXCJcIik7IC8vIEhhbmRsZSB3aGVuIGRvdWJsZSBzbGFzaGVzIGFyZSB1c2VkXHJcbiAgICAgIGNvbnN0IHBvc2l0aW9uX2luZGV4ID0gcGFyc2VJbnQoYXR0cmlidXRlc1swXSkgLSAxO1xyXG4gICAgICBjb25zdCB1dl9pbmRleCA9IHBhcnNlSW50KGF0dHJpYnV0ZXNbMV0pIC0gMTtcclxuICAgICAgY29uc3Qgbm9ybWFsX2luZGV4ID0gcGFyc2VJbnQoYXR0cmlidXRlc1syXSkgLSAxO1xyXG5cclxuICAgICAgdmVydGV4X2RhdGEucHVzaChwb3NpdGlvbnNbcG9zaXRpb25faW5kZXhdKTtcclxuICAgICAgdmVydGV4X2RhdGEucHVzaCh1dnNbdXZfaW5kZXhdIHx8IHZlYzQuY3JlYXRlKCkpO1xyXG4gICAgICB2ZXJ0ZXhfZGF0YS5wdXNoKG5vcm1hbHNbbm9ybWFsX2luZGV4XSB8fCB2ZWM0LmNyZWF0ZSgpKTtcclxuXHJcbiAgICAgIGNvbnN0IGluZGV4OiBHTGludCA9IHZlcnRleF9tYXAuc2l6ZTtcclxuICAgICAgdmVydGV4X21hcC5zZXQodmVydGV4LCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5kaWNlcy5wdXNoKHZlcnRleF9tYXAuZ2V0KHZlcnRleCkhKTtcclxuICB9KTtcclxuXHJcbiAgLy8gUG90ZW50aWFsbHkgc2xvd1xyXG4gIGNvbnN0IHZlcnRleF9kYXRhX2FycmF5ID0gdmVydGV4X2RhdGEuZmxhdE1hcCgodikgPT4gWy4uLnZdKTtcclxuXHJcbiAgY29uc3QgdmVydGV4X2RhdGFfZ3B1ID0gY3JlYXRlX2dwdV9idWZmZXIoXHJcbiAgICBuZXcgRmxvYXQzMkFycmF5KHZlcnRleF9kYXRhX2FycmF5KVxyXG4gICk7XHJcbiAgY29uc3QgaW5kaWNlc19ncHUgPSBjcmVhdGVfZ3B1X2J1ZmZlcihcclxuICAgIG5ldyBJbnQzMkFycmF5KGluZGljZXMpLFxyXG4gICAgR1BVQnVmZmVyVXNhZ2UuSU5ERVggfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGluZGV4X2NvdW50ID0gaW5kaWNlcy5sZW5ndGg7XHJcbiAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgdmVydGV4X2RhdGFfZ3B1LFxyXG4gICAgaW5kaWNlc19ncHUsXHJcbiAgICBpbmRleF9jb3VudCxcclxuICB9O1xyXG5cclxuICBtb2RlbHNbbW9kZWxfcGF0aF0gPSByZXN1bHQ7XHJcbn07XHJcblxyXG5leHBvcnQgeyBsb2FkX21vZGVsLCBtb2RlbHMgfTtcclxuIiwiaW1wb3J0IHsgbG9hZF9tb2RlbCwgbW9kZWxzIH0gZnJvbSBcIi4uL21vZGVsL21vZGVsX2xvYWRlclwiO1xyXG5pbXBvcnQgeyBtYXQ0LCB2ZWMzIH0gZnJvbSBcImdsLW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuLi9zY2VuZS9zY2VuZVwiO1xyXG5pbXBvcnQgeyBQaXBlTGluZSB9IGZyb20gXCIuLi9waXBlbGluZXMvcGlwZWxpbmVcIjtcclxuXHJcbnR5cGUgU2NlbmVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgc2NlbmU6IFNjZW5lO1xyXG4gIG1vZGVsPzogc3RyaW5nO1xyXG4gIHNoYWRlcl9wYXRoPzogc3RyaW5nO1xyXG4gIHBpcGVsaW5lPzogdHlwZW9mIFBpcGVMaW5lO1xyXG4gIHBvc2l0aW9uPzogdmVjMztcclxuICB2ZWxvY2l0eT86IHZlYzM7XHJcbiAgcm90YXRpb24/OiB2ZWMzO1xyXG4gIHNjYWxlPzogdmVjMztcclxuICB0ZXh0dXJlX2RpZmZ1c2U/OiBzdHJpbmc7XHJcbiAgdGV4dHVyZV9zcGVjdWxhcj86IHN0cmluZztcclxuICB0ZXh0dXJlX25vcm1hbD86IHN0cmluZztcclxuICB0ZXh0dXJlX2VtaXNzaXZlPzogc3RyaW5nO1xyXG59O1xyXG5cclxuY2xhc3MgU2NlbmVPYmplY3Qge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIG1vZGVsOiBzdHJpbmc7XHJcbiAgcG9zaXRpb246IHZlYzM7XHJcbiAgdmVsb2NpdHk6IHZlYzM7XHJcbiAgcm90YXRpb246IHZlYzM7XHJcbiAgc2NhbGU6IHZlYzM7XHJcbiAgc2hhZGVyX3BhdGg6IHN0cmluZztcclxuICBwaXBlbGluZTogdHlwZW9mIFBpcGVMaW5lIHwgdW5kZWZpbmVkO1xyXG4gIHBpcGVsaW5lX2tleTogc3RyaW5nO1xyXG4gIHRleHR1cmVfZGlmZnVzZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gIHRleHR1cmVfc3BlY3VsYXI6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICB0ZXh0dXJlX25vcm1hbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xyXG4gIHRleHR1cmVfZW1pc3NpdmU6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgaWQsXHJcbiAgICBuYW1lLFxyXG4gICAgc2NlbmUsXHJcbiAgICBtb2RlbCA9IFwiXCIsXHJcbiAgICBzaGFkZXJfcGF0aCA9IFwiXCIsXHJcbiAgICBwaXBlbGluZSxcclxuICAgIHBvc2l0aW9uID0gdmVjMy5jcmVhdGUoKSxcclxuICAgIHZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKSxcclxuICAgIHJvdGF0aW9uID0gdmVjMy5jcmVhdGUoKSxcclxuICAgIHNjYWxlID0gdmVjMy5mcm9tVmFsdWVzKDEuMCwgMS4wLCAxLjApLFxyXG4gICAgdGV4dHVyZV9kaWZmdXNlID0gdW5kZWZpbmVkLFxyXG4gICAgdGV4dHVyZV9zcGVjdWxhciA9IHVuZGVmaW5lZCxcclxuICAgIHRleHR1cmVfbm9ybWFsID0gdW5kZWZpbmVkLFxyXG4gICAgdGV4dHVyZV9lbWlzc2l2ZSA9IHVuZGVmaW5lZCxcclxuICB9OiBTY2VuZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcykge1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIHRoaXMudmVsb2NpdHkgPSB2ZWxvY2l0eTtcclxuICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcclxuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuICAgIHRoaXMudGV4dHVyZV9kaWZmdXNlID0gdGV4dHVyZV9kaWZmdXNlO1xyXG4gICAgdGhpcy50ZXh0dXJlX3NwZWN1bGFyID0gdGV4dHVyZV9zcGVjdWxhcjtcclxuICAgIHRoaXMudGV4dHVyZV9ub3JtYWwgPSB0ZXh0dXJlX25vcm1hbDtcclxuICAgIHRoaXMudGV4dHVyZV9lbWlzc2l2ZSA9IHRleHR1cmVfZW1pc3NpdmU7XHJcbiAgICB0aGlzLnNoYWRlcl9wYXRoID0gc2hhZGVyX3BhdGg7XHJcblxyXG4gICAgdGhpcy5waXBlbGluZSA9IHBpcGVsaW5lO1xyXG4gICAgdGhpcy5waXBlbGluZV9rZXkgPSBwaXBlbGluZT8uZ2V0X3BpcGVsaW5lX2tleShzaGFkZXJfcGF0aCkgfHwgXCJcIjtcclxuICB9XHJcblxyXG4gIGdldF9tb2RlbF9tYXRyaXggPSAoKSA9PiB7XHJcbiAgICAvLyBOb3RlIHRoZXNlIG9wZXJhdGlvbnMgYXBwZWFyIGluIHJldmVyc2Ugb3JkZXIgYmVjYXVzZSB0aGV5IGFyZSByaWdodCBtdWx0aXBsaWVkXHJcbiAgICBjb25zdCBtb2RlbF9tYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgbWF0NC50cmFuc2xhdGUobW9kZWxfbWF0cml4LCBtb2RlbF9tYXRyaXgsIHRoaXMucG9zaXRpb24pO1xyXG4gICAgbWF0NC5yb3RhdGVYKG1vZGVsX21hdHJpeCwgbW9kZWxfbWF0cml4LCB0aGlzLnJvdGF0aW9uWzBdKTtcclxuICAgIG1hdDQucm90YXRlWShtb2RlbF9tYXRyaXgsIG1vZGVsX21hdHJpeCwgdGhpcy5yb3RhdGlvblsxXSk7XHJcbiAgICBtYXQ0LnJvdGF0ZVoobW9kZWxfbWF0cml4LCBtb2RlbF9tYXRyaXgsIHRoaXMucm90YXRpb25bMl0pO1xyXG4gICAgbWF0NC5zY2FsZShtb2RlbF9tYXRyaXgsIG1vZGVsX21hdHJpeCwgdGhpcy5zY2FsZSk7XHJcbiAgICByZXR1cm4gbW9kZWxfbWF0cml4O1xyXG4gIH07XHJcblxyXG4gIGdldF9tb2RlbF9kYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgbG9hZF9tb2RlbCh0aGlzLm1vZGVsKTtcclxuICAgIHJldHVybiBtb2RlbHNbdGhpcy5tb2RlbF07XHJcbiAgfTtcclxuXHJcbiAgaGFzX3RleHR1cmVfZGlmZnVzZSA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLnRleHR1cmVfZGlmZnVzZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGV4dHVyZV9kaWZmdXNlICE9PSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGhhc190ZXh0dXJlX3NwZWN1bGFyID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZV9zcGVjdWxhciAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGV4dHVyZV9zcGVjdWxhciAhPT0gXCJcIjtcclxuICB9O1xyXG5cclxuICBoYXNfdGV4dHVyZV9ub3JtYWwgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlX25vcm1hbCAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGV4dHVyZV9ub3JtYWwgIT09IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgaGFzX3RleHR1cmVfZW1pc3NpdmUgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlX2VtaXNzaXZlICE9PSB1bmRlZmluZWQgJiYgdGhpcy50ZXh0dXJlX2VtaXNzaXZlICE9PSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZSA9IGFzeW5jIChzY2VuZTogU2NlbmUpID0+IHt9O1xyXG4gIHJlbW92ZV9mcm9tX3NjZW5lID0gKHNjZW5lOiBTY2VuZSkgPT4ge1xyXG4gICAgc2NlbmUub2JqZWN0cyA9IHNjZW5lLm9iamVjdHMuZmlsdGVyKChvYmplY3QpID0+IG9iamVjdCAhPT0gdGhpcyk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgU2NlbmVPYmplY3QsIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zIH07XHJcbiIsImltcG9ydCB7IG1hdDQsIHZlYzMgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcbmltcG9ydCB7XHJcbiAgU2NlbmVPYmplY3QsXHJcbiAgU2NlbmVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMsXHJcbn0gZnJvbSBcIi4uL3NjZW5lX29iamVjdC9zY2VuZV9vYmplY3RcIjtcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtQ29yZSB9IGZyb20gXCIuLi9zeXN0ZW0vc3lzdGVtX2NvcmVcIjtcclxuXHJcbmVudW0gQ2FtZXJhTW92ZW1lbnRNb2RlIHtcclxuICBST1RBVEVfT1JJR0lOLFxyXG4gIEZSRUUsXHJcbiAgRklYRUQsXHJcbn1cclxuXHJcbnR5cGUgQ2FtZXJhQ29uc3RydWN0aW9uUGFyYW1zID0ge1xyXG4gIGxvb2tfYXRfdGFyZ2V0PzogdmVjMztcclxufSAmIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zO1xyXG5cclxuY2xhc3MgQ2FtZXJhIGV4dGVuZHMgU2NlbmVPYmplY3Qge1xyXG4gIHVwOiB2ZWMzID0gdmVjMy5mcm9tVmFsdWVzKDAuMCwgMS4wLCAwLjApO1xyXG4gIGxvb2tfYXRfdGFyZ2V0OiB2ZWMzID0gdmVjMy5jcmVhdGUoKTtcclxuICBtb3ZlbWVudF9tb2RlOiBDYW1lcmFNb3ZlbWVudE1vZGUgPSBDYW1lcmFNb3ZlbWVudE1vZGUuUk9UQVRFX09SSUdJTjtcclxuICByb3RhdGlvbl9zcGVlZDogbnVtYmVyID0gMWUtMjtcclxuICBtb3ZlbWVudF9zcGVlZDogbnVtYmVyID0gMWUtMjtcclxuICBtb3VzZV9zZW5zaXRpdml0eTogbnVtYmVyID0gMWUtMztcclxuXHJcbiAgY29uc3RydWN0b3IoeyBsb29rX2F0X3RhcmdldCwgLi4uc3VwZXJfYXJncyB9OiBDYW1lcmFDb25zdHJ1Y3Rpb25QYXJhbXMpIHtcclxuICAgIHN1cGVyKHN1cGVyX2FyZ3MpO1xyXG4gICAgdGhpcy5sb29rX2F0KGxvb2tfYXRfdGFyZ2V0IHx8IHZlYzMuY3JlYXRlKCkpO1xyXG4gIH1cclxuXHJcbiAgbG9va19hdCA9ICh0YXJnZXQ6IHZlYzMpID0+IHtcclxuICAgIHRoaXMubG9va19hdF90YXJnZXQgPSB0YXJnZXQ7XHJcbiAgfTtcclxuXHJcbiAgZ2V0X2NhbWVyYV9mb3J3YXJkID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHZlYzMubm9ybWFsaXplKFxyXG4gICAgICB2ZWMzLmNyZWF0ZSgpLFxyXG4gICAgICB2ZWMzLnN1YnRyYWN0KHZlYzMuY3JlYXRlKCksIHRoaXMubG9va19hdF90YXJnZXQsIHRoaXMucG9zaXRpb24pXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIGdldF9jYW1lcmFfcmlnaHQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdmVjMy5ub3JtYWxpemUoXHJcbiAgICAgIHZlYzMuY3JlYXRlKCksXHJcbiAgICAgIHZlYzMuY3Jvc3ModmVjMy5jcmVhdGUoKSwgdGhpcy5nZXRfY2FtZXJhX2ZvcndhcmQoKSwgdGhpcy51cClcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgZ2V0X3ZpZXdfbWF0cml4ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdmlldyA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICBtYXQ0LnRyYW5zbGF0ZSh2aWV3LCB2aWV3LCB0aGlzLnBvc2l0aW9uKTtcclxuICAgIG1hdDQubG9va0F0KHZpZXcsIHRoaXMucG9zaXRpb24sIHRoaXMubG9va19hdF90YXJnZXQsIHRoaXMudXApO1xyXG4gICAgcmV0dXJuIHZpZXc7XHJcbiAgfTtcclxuXHJcbiAgZ2V0X3Byb2plY3Rpb25fbWF0cml4ID0gKGFzcGVjdD86IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKCFhc3BlY3QpIHtcclxuICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgY29uc3QgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICBhc3BlY3QgPSB3aWR0aCAvIGhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcm9qZWN0aW9uID0gbWF0NC5jcmVhdGUoKTtcclxuICAgIG1hdDQucGVyc3BlY3RpdmUocHJvamVjdGlvbiwgTWF0aC5QSSAvIDQsIGFzcGVjdCwgMC4xLCAxMDAwLjApO1xyXG4gICAgcmV0dXJuIHByb2plY3Rpb247XHJcbiAgfTtcclxuXHJcbiAgdXBkYXRlID0gYXN5bmMgKHNjZW5lOiBTY2VuZSkgPT4ge1xyXG4gICAgY29uc3QgeyBrZXlfcHJlc3MsIGtleV9zdGF0ZSwgbW91c2Vfc3RhdGUgfSA9IFN5c3RlbUNvcmUuc3lzdGVtX2lucHV0O1xyXG4gICAgY29uc3QgeyBjYW52YXMgfSA9IHNjZW5lO1xyXG5cclxuICAgIGlmIChrZXlfcHJlc3MuZ2V0KFwiYFwiKSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRvZ2dsaW5nIGNhbWVyYSBtb2RlXCIpO1xyXG4gICAgICBpZiAodGhpcy5tb3ZlbWVudF9tb2RlID09PSBDYW1lcmFNb3ZlbWVudE1vZGUuUk9UQVRFX09SSUdJTikge1xyXG4gICAgICAgIC8vIEVuYWJsZSBwb2ludGVyIGxvY2tcclxuICAgICAgICB0aGlzLm1vdmVtZW50X21vZGUgPSBDYW1lcmFNb3ZlbWVudE1vZGUuRlJFRTtcclxuICAgICAgICBjYW52YXM/LnJlcXVlc3RQb2ludGVyTG9jaygpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMubW92ZW1lbnRfbW9kZSA9PT0gQ2FtZXJhTW92ZW1lbnRNb2RlLkZSRUUpIHtcclxuICAgICAgICAvLyBEaXNhYmxlIHBvaW50ZXIgbG9ja1xyXG4gICAgICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xyXG4gICAgICAgIHRoaXMubW92ZW1lbnRfbW9kZSA9IENhbWVyYU1vdmVtZW50TW9kZS5GSVhFRDtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vdmVtZW50X21vZGUgPT09IENhbWVyYU1vdmVtZW50TW9kZS5GSVhFRCkge1xyXG4gICAgICAgIHRoaXMubW92ZW1lbnRfbW9kZSA9IENhbWVyYU1vdmVtZW50TW9kZS5ST1RBVEVfT1JJR0lOO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMubW92ZW1lbnRfbW9kZSA9PT0gQ2FtZXJhTW92ZW1lbnRNb2RlLlJPVEFURV9PUklHSU4pIHtcclxuICAgICAgaWYgKGtleV9zdGF0ZS5nZXQoXCJhXCIpIHx8IGtleV9zdGF0ZS5nZXQoXCJkXCIpKSB7XHJcbiAgICAgICAgY29uc3QgZnJhbWVfcm90YXRpb25fc3BlZWQgPSBrZXlfc3RhdGUuZ2V0KFwiYVwiKVxyXG4gICAgICAgICAgPyB0aGlzLnJvdGF0aW9uX3NwZWVkXHJcbiAgICAgICAgICA6IC10aGlzLnJvdGF0aW9uX3NwZWVkO1xyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uX21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgbWF0NC50cmFuc2xhdGUocm90YXRpb25fbWF0cml4LCByb3RhdGlvbl9tYXRyaXgsIHRoaXMubG9va19hdF90YXJnZXQpO1xyXG4gICAgICAgIG1hdDQucm90YXRlWShyb3RhdGlvbl9tYXRyaXgsIHJvdGF0aW9uX21hdHJpeCwgZnJhbWVfcm90YXRpb25fc3BlZWQpO1xyXG4gICAgICAgIG1hdDQudHJhbnNsYXRlKFxyXG4gICAgICAgICAgcm90YXRpb25fbWF0cml4LFxyXG4gICAgICAgICAgcm90YXRpb25fbWF0cml4LFxyXG4gICAgICAgICAgdmVjMy5uZWdhdGUodmVjMy5jcmVhdGUoKSwgdGhpcy5sb29rX2F0X3RhcmdldClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB2ZWMzLnRyYW5zZm9ybU1hdDQodGhpcy5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbiwgcm90YXRpb25fbWF0cml4KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLm1vdmVtZW50X21vZGUgPT09IENhbWVyYU1vdmVtZW50TW9kZS5GUkVFKSB7XHJcbiAgICAgIGlmIChtb3VzZV9zdGF0ZS5keCB8fCBtb3VzZV9zdGF0ZS5keSkge1xyXG4gICAgICAgIGNvbnN0IGNhbWVyYV9mb3J3YXJkID0gdGhpcy5nZXRfY2FtZXJhX2ZvcndhcmQoKTtcclxuICAgICAgICBjb25zdCBjYW1lcmFfcmlnaHQgPSB0aGlzLmdldF9jYW1lcmFfcmlnaHQoKTtcclxuICAgICAgICBjb25zdCBkeCA9IG1vdXNlX3N0YXRlLmR4ICogdGhpcy5tb3VzZV9zZW5zaXRpdml0eTtcclxuICAgICAgICBjb25zdCBkeSA9IG1vdXNlX3N0YXRlLmR5ICogdGhpcy5tb3VzZV9zZW5zaXRpdml0eTtcclxuXHJcbiAgICAgICAgY29uc3Qgcm90YXRpb25fbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICBtYXQ0LnJvdGF0ZShyb3RhdGlvbl9tYXRyaXgsIHJvdGF0aW9uX21hdHJpeCwgLWR4LCB0aGlzLnVwKTtcclxuICAgICAgICBtYXQ0LnJvdGF0ZShyb3RhdGlvbl9tYXRyaXgsIHJvdGF0aW9uX21hdHJpeCwgLWR5LCBjYW1lcmFfcmlnaHQpO1xyXG5cclxuICAgICAgICB2ZWMzLnRyYW5zZm9ybU1hdDQodGhpcy5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbiwgcm90YXRpb25fbWF0cml4KTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV3X2NhbWVyYV9mb3J3YXJkID0gdGhpcy5nZXRfY2FtZXJhX2ZvcndhcmQoKTtcclxuICAgICAgICBjb25zdCBuZXdfY2FtZXJhX3JpZ2h0ID0gdGhpcy5nZXRfY2FtZXJhX3JpZ2h0KCk7XHJcblxyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMubG9va19hdF90YXJnZXQsIHRoaXMucG9zaXRpb24sIG5ld19jYW1lcmFfZm9yd2FyZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChrZXlfc3RhdGUuZ2V0KFwid1wiKSB8fCBrZXlfc3RhdGUuZ2V0KFwic1wiKSkge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lX3RyYW5zbGF0aW9uX3NwZWVkID0ga2V5X3N0YXRlLmdldChcIndcIilcclxuICAgICAgICAgID8gdGhpcy5tb3ZlbWVudF9zcGVlZFxyXG4gICAgICAgICAgOiAtdGhpcy5tb3ZlbWVudF9zcGVlZDtcclxuICAgICAgICBjb25zdCBmb3J3YXJkID0gdGhpcy5nZXRfY2FtZXJhX2ZvcndhcmQoKTtcclxuICAgICAgICB2ZWMzLnNjYWxlKGZvcndhcmQsIGZvcndhcmQsIGZyYW1lX3RyYW5zbGF0aW9uX3NwZWVkKTtcclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLnBvc2l0aW9uLCB0aGlzLnBvc2l0aW9uLCBmb3J3YXJkKTtcclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLmxvb2tfYXRfdGFyZ2V0LCB0aGlzLmxvb2tfYXRfdGFyZ2V0LCBmb3J3YXJkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGtleV9zdGF0ZS5nZXQoXCJhXCIpIHx8IGtleV9zdGF0ZS5nZXQoXCJkXCIpKSB7XHJcbiAgICAgICAgY29uc3QgZnJhbWVfdHJhbnNsYXRpb25fc3BlZWQgPSBrZXlfc3RhdGUuZ2V0KFwiYVwiKVxyXG4gICAgICAgICAgPyAtdGhpcy5tb3ZlbWVudF9zcGVlZFxyXG4gICAgICAgICAgOiB0aGlzLm1vdmVtZW50X3NwZWVkO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5nZXRfY2FtZXJhX3JpZ2h0KCk7XHJcbiAgICAgICAgdmVjMy5zY2FsZShyaWdodCwgcmlnaHQsIGZyYW1lX3RyYW5zbGF0aW9uX3NwZWVkKTtcclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLnBvc2l0aW9uLCB0aGlzLnBvc2l0aW9uLCByaWdodCk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5sb29rX2F0X3RhcmdldCwgdGhpcy5sb29rX2F0X3RhcmdldCwgcmlnaHQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRoaXMubW92ZW1lbnRfbW9kZSA9PT0gQ2FtZXJhTW92ZW1lbnRNb2RlLkZJWEVEKSB7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgQ2FtZXJhIH07XHJcbiIsImltcG9ydCB7IHZlYzMsIHZlYzQgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcbmltcG9ydCB7XHJcbiAgU2NlbmVPYmplY3QsXHJcbiAgU2NlbmVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMsXHJcbn0gZnJvbSBcIi4uL3NjZW5lX29iamVjdC9zY2VuZV9vYmplY3RcIjtcclxuXHJcbnR5cGUgTGlnaHRDb25zdHJ1Y3Rpb25QYXJhbXMgPSB7XHJcbiAgY29sb3I/OiB2ZWMzO1xyXG4gIGludGVuc2l0eT86IG51bWJlcjtcclxufSAmIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zO1xyXG5cclxuY2xhc3MgTGlnaHQgZXh0ZW5kcyBTY2VuZU9iamVjdCB7XHJcbiAgY29sb3I6IHZlYzQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIGNvbG9yID0gdmVjMy5mcm9tVmFsdWVzKDEuMCwgMS4wLCAxLjApLFxyXG4gICAgaW50ZW5zaXR5ID0gMS4wLFxyXG4gICAgLi4uc3VwZXJfYXJnc1xyXG4gIH06IExpZ2h0Q29uc3RydWN0aW9uUGFyYW1zKSB7XHJcbiAgICBzdXBlcihzdXBlcl9hcmdzKTtcclxuICAgIHRoaXMuY29sb3IgPSB2ZWM0LmZyb21WYWx1ZXMoY29sb3JbMF0sIGNvbG9yWzFdLCBjb2xvclsyXSwgaW50ZW5zaXR5KTtcclxuICB9XHJcblxyXG4gIGdldF91bmlmb3JtX2RhdGEgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwb3NpdGlvbjogWy4uLnRoaXMucG9zaXRpb24sIDAuMF0sXHJcbiAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBMaWdodCB9O1xyXG4iLCJpbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuLi9zY2VuZS9zY2VuZVwiO1xyXG5pbXBvcnQgeyBQaXBlTGluZSB9IGZyb20gXCIuL3BpcGVsaW5lXCI7XHJcblxyXG5jbGFzcyBQaXBlTGluZU1hbmFnZXIge1xyXG4gIHJlZ2lzdGVyZWRfcGlwZWxpbmVzID0gbmV3IE1hcDxzdHJpbmcsIFBpcGVMaW5lPigpOyAvLyBwaXBlbGluZSBrZXkgKGV4OiBzaGFkZXJfbmFtZSArIHBpcGVsaW5lX2xhYmVsKSAtPiBwaXBlbGluZVxyXG5cclxuICByZWdpc3Rlcl9waXBlbGluZSA9IChcclxuICAgIHBpcGVsaW5lOiB0eXBlb2YgUGlwZUxpbmUsXHJcbiAgICBzaGFkZXJfcGF0aDogc3RyaW5nLFxyXG4gICAgc2NlbmU6IFNjZW5lXHJcbiAgKSA9PiB7XHJcbiAgICBjb25zdCBwaXBlbGluZV9rZXkgPSBwaXBlbGluZS5nZXRfcGlwZWxpbmVfa2V5KHNoYWRlcl9wYXRoKTtcclxuICAgIGlmICh0aGlzLnJlZ2lzdGVyZWRfcGlwZWxpbmVzLmhhcyhwaXBlbGluZV9rZXkpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBwaXBlbGluZS5jb25zdHJ1Y3RfcGlwZWxpbmUoc2hhZGVyX3BhdGgsIHNjZW5lKS50aGVuKChwaXBlbGluZSkgPT4ge1xyXG4gICAgICB0aGlzLnJlZ2lzdGVyZWRfcGlwZWxpbmVzLnNldChwaXBlbGluZV9rZXksIHBpcGVsaW5lKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGdldF9yZWdpc3RlcmVkX3BpcGVsaW5lID0gKHBpcGVsaW5lX2tleTogc3RyaW5nKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWdpc3RlcmVkX3BpcGVsaW5lcy5nZXQocGlwZWxpbmVfa2V5KTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBQaXBlTGluZU1hbmFnZXIgfTtcclxuIiwiY2xhc3MgU2hhZGVyTWFuYWdlciB7XHJcbiAgc2hhZGVycyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7IC8vIHNoYWRlcl9uYW1lIC0+IHNoYWRlclxyXG5cclxuICBnZXRfc2hhZGVyID0gYXN5bmMgKHNoYWRlcl9wYXRoOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghdGhpcy5zaGFkZXJzLmhhcyhzaGFkZXJfcGF0aCkpIHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzaGFkZXJfcGF0aCk7XHJcbiAgICAgIHRoaXMuc2hhZGVycy5zZXQoc2hhZGVyX3BhdGgsIGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc2hhZGVycy5nZXQoc2hhZGVyX3BhdGgpITtcclxuICB9O1xyXG5cclxuICBnZXRfcmVnaXN0ZXJlZF9zaGFkZXIgPSAoc2hhZGVyX3BhdGg6IHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuc2hhZGVycy5nZXQoc2hhZGVyX3BhdGgpO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNoYWRlck1hbmFnZXIgfTtcclxuIiwiZXhwb3J0IGNvbnN0IGVudW0gU2NlbmVFdmVudEVudW1zIHtcclxuICBTQ0VORV9GUkFNRV9TVEFSVCA9IFwiU0NFTkVfRlJBTUVfU1RBUlRcIixcclxuICBTQ0VORV9GUkFNRV9FTkQgPSBcIlNDRU5FX0ZSQU1FX0VORFwiLFxyXG4gIFNDRU5FX1VQREFURV9TVEFSVCA9IFwiU0NFTkVfVVBEQVRFX1NUQVJUXCIsXHJcbiAgU0NFTkVfVVBEQVRFX0VORCA9IFwiU0NFTkVfVVBEQVRFX0VORFwiLFxyXG4gIFNDRU5FX1JFTkRFUl9TVEFSVCA9IFwiU0NFTkVfUkVOREVSX1NUQVJUXCIsXHJcbiAgU0NFTkVfUkVOREVSX0VORCA9IFwiU0NFTkVfUkVOREVSX0VORFwiLFxyXG59XHJcbiIsInR5cGUgRXZlbnRDYWxsQmFjayA9IChkYXRhOiBhbnkpID0+IFByb21pc2U8dm9pZD47XHJcblxyXG5jbGFzcyBHYW1lRXZlbnRTeXN0ZW0ge1xyXG4gIHByaXZhdGUgZXZlbnRzOiBNYXA8c3RyaW5nLCBFdmVudENhbGxCYWNrW10+O1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZXZlbnRzID0gbmV3IE1hcDxzdHJpbmcsIEV2ZW50Q2FsbEJhY2tbXT4oKTtcclxuICB9XHJcblxyXG4gIHN1YnNjcmliZShldmVudF9uYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBFdmVudENhbGxCYWNrKSB7XHJcbiAgICBpZiAoIXRoaXMuZXZlbnRzLmhhcyhldmVudF9uYW1lKSkge1xyXG4gICAgICB0aGlzLmV2ZW50cy5zZXQoZXZlbnRfbmFtZSwgW10pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmV2ZW50cy5nZXQoZXZlbnRfbmFtZSkhLmluY2x1ZGVzKGNhbGxiYWNrKSkge1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2s7IC8vIEFscmVhZHkgc3Vic2NyaWJlZFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZXZlbnRzLmdldChldmVudF9uYW1lKSEucHVzaChjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gY2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICB1bnN1YnNjcmliZShldmVudF9uYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBFdmVudENhbGxCYWNrKSB7XHJcbiAgICBjb25zdCBldmVudF9jYWxsYmFja3MgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnRfbmFtZSkhO1xyXG4gICAgY29uc3QgaW5kZXggPSBldmVudF9jYWxsYmFja3M/LmluZGV4T2YoY2FsbGJhY2spID8/IC0xO1xyXG5cclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgIGV2ZW50X2NhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgcHVibGlzaChldmVudF9uYW1lOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9KSB7XHJcbiAgICBpZiAoIXRoaXMuZXZlbnRzLmhhcyhldmVudF9uYW1lKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZXZlbnRfY2FsbGJhY2tzID0gdGhpcy5ldmVudHMuZ2V0KGV2ZW50X25hbWUpITtcclxuICAgIGNvbnN0IHByb21pc2VzID0gZXZlbnRfY2FsbGJhY2tzLm1hcCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGRhdGEpKTtcclxuICAgIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEdhbWVFdmVudFN5c3RlbSwgRXZlbnRDYWxsQmFjayB9O1xyXG4iLCJpbXBvcnQgeyBTeXN0ZW1Db3JlIH0gZnJvbSBcIi4uL3N5c3RlbS9zeXN0ZW1fY29yZVwiO1xyXG5cclxuY2xhc3MgVGV4dHVyZU1hbmFnZXIge1xyXG4gIHRleHR1cmVzOiB7IFtrZXk6IHN0cmluZ106IEdQVVRleHR1cmUgfTtcclxuICBlbXB0eV90ZXh0dXJlOiBHUFVUZXh0dXJlO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMudGV4dHVyZXMgPSB7fTtcclxuICAgIHRoaXMuZW1wdHlfdGV4dHVyZSA9IHRoaXMuZ2V0X2RlZmF1bHRfdGV4dHVyZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0X2RlZmF1bHRfdGV4dHVyZSgpIHtcclxuICAgIHJldHVybiBTeXN0ZW1Db3JlLmRldmljZS5jcmVhdGVUZXh0dXJlKHtcclxuICAgICAgc2l6ZTogWzEsIDFdLFxyXG4gICAgICBmb3JtYXQ6IFwicmdiYTh1bm9ybVwiLFxyXG4gICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlRFWFRVUkVfQklORElORyB8IEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgbG9hZF90ZXh0dXJlKFxyXG4gICAgdGV4dHVyZV9wYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcbiAgICBmb3JtYXQ6IEdQVVRleHR1cmVGb3JtYXQgPSBcInJnYmE4dW5vcm1cIlxyXG4gICkge1xyXG4gICAgaWYgKHRleHR1cmVfcGF0aCA9PT0gdW5kZWZpbmVkIHx8IHRleHR1cmVfcGF0aCA9PT0gXCJcIikge1xyXG4gICAgICByZXR1cm4gdGhpcy5lbXB0eV90ZXh0dXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnRleHR1cmVzW3RleHR1cmVfcGF0aF0pIHtcclxuICAgICAgcmV0dXJuIHRoaXMudGV4dHVyZXNbdGV4dHVyZV9wYXRoXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIHRoZSB0ZXh0dXJlXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRleHR1cmVfcGF0aCk7XHJcbiAgICBjb25zdCB0ZXh0dXJlX2Jsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XHJcbiAgICBjb25zdCB0ZXh0dXJlX2RhdGEgPSBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcCh0ZXh0dXJlX2Jsb2IsIHtcclxuICAgICAgY29sb3JTcGFjZUNvbnZlcnNpb246IFwibm9uZVwiLFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGdwdSB0ZXh0dXJlXHJcbiAgICBjb25zdCB0ZXh0dXJlX2dwdSA9IFN5c3RlbUNvcmUuZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xyXG4gICAgICBsYWJlbDogdGV4dHVyZV9wYXRoLFxyXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcclxuICAgICAgc2l6ZTogW3RleHR1cmVfZGF0YS53aWR0aCwgdGV4dHVyZV9kYXRhLmhlaWdodF0sXHJcbiAgICAgIHVzYWdlOlxyXG4gICAgICAgIEdQVVRleHR1cmVVc2FnZS5URVhUVVJFX0JJTkRJTkcgfFxyXG4gICAgICAgIEdQVVRleHR1cmVVc2FnZS5DT1BZX0RTVCB8XHJcbiAgICAgICAgR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5ULFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVXBsb2FkIGxvY2FsIHRleHR1cmUgZGF0YSB0byBncHUgdGV4dHVyZVxyXG4gICAgU3lzdGVtQ29yZS5kZXZpY2UucXVldWUuY29weUV4dGVybmFsSW1hZ2VUb1RleHR1cmUoXHJcbiAgICAgIHsgc291cmNlOiB0ZXh0dXJlX2RhdGEgfSxcclxuICAgICAgeyB0ZXh0dXJlOiB0ZXh0dXJlX2dwdSB9LFxyXG4gICAgICBbdGV4dHVyZV9kYXRhLndpZHRoLCB0ZXh0dXJlX2RhdGEuaGVpZ2h0XVxyXG4gICAgKTtcclxuXHJcbiAgICB0aGlzLnRleHR1cmVzW3RleHR1cmVfcGF0aF0gPSB0ZXh0dXJlX2dwdTtcclxuICAgIHJldHVybiB0ZXh0dXJlX2dwdTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IFRleHR1cmVNYW5hZ2VyIH07XHJcbiIsImltcG9ydCB7XHJcbiAgU2NlbmVPYmplY3QsXHJcbiAgU2NlbmVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMsXHJcbn0gZnJvbSBcIi4uL3NjZW5lX29iamVjdC9zY2VuZV9vYmplY3RcIjtcclxuXHJcbnR5cGUgQ29tcHV0ZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcyA9IFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zICYge1xyXG4gIHdvcmtncm91cF9zaXplOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcbn07XHJcblxyXG5jbGFzcyBDb21wdXRlT2JqZWN0IGV4dGVuZHMgU2NlbmVPYmplY3Qge1xyXG4gIHdvcmtncm91cF9zaXplOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl07XHJcblxyXG4gIGNvbnN0cnVjdG9yKHBhcmFtczogQ29tcHV0ZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcykge1xyXG4gICAgc3VwZXIocGFyYW1zKTtcclxuICAgIGNvbnN0IHNjZW5lX3dpZHRoID0gcGFyYW1zLnNjZW5lLmNhbnZhcz8ud2lkdGggfHwgMTtcclxuICAgIGNvbnN0IHNjZW5lX2hlaWdodCA9IHBhcmFtcy5zY2VuZS5jYW52YXM/LmhlaWdodCB8fCAxO1xyXG4gICAgdGhpcy53b3JrZ3JvdXBfc2l6ZSA9IFtcclxuICAgICAgdGhpcy5wYXJzZV93b3JrZ3JvdXBfc2l6ZShcclxuICAgICAgICBwYXJhbXMud29ya2dyb3VwX3NpemVbMF0sXHJcbiAgICAgICAgc2NlbmVfd2lkdGgsXHJcbiAgICAgICAgc2NlbmVfaGVpZ2h0XHJcbiAgICAgICksXHJcbiAgICAgIHRoaXMucGFyc2Vfd29ya2dyb3VwX3NpemUoXHJcbiAgICAgICAgcGFyYW1zLndvcmtncm91cF9zaXplWzFdLFxyXG4gICAgICAgIHNjZW5lX3dpZHRoLFxyXG4gICAgICAgIHNjZW5lX2hlaWdodFxyXG4gICAgICApLFxyXG4gICAgICB0aGlzLnBhcnNlX3dvcmtncm91cF9zaXplKFxyXG4gICAgICAgIHBhcmFtcy53b3JrZ3JvdXBfc2l6ZVsyXSxcclxuICAgICAgICBzY2VuZV93aWR0aCxcclxuICAgICAgICBzY2VuZV9oZWlnaHRcclxuICAgICAgKSxcclxuICAgIF07XHJcbiAgfVxyXG5cclxuICBwYXJzZV93b3JrZ3JvdXBfc2l6ZSA9IChcclxuICAgIGRpbWVuc2lvbjogc3RyaW5nIHwgbnVtYmVyLFxyXG4gICAgY2FudmFzX3dpZHRoOiBudW1iZXIsXHJcbiAgICBjYW52YXNfaGVpZ2h0OiBudW1iZXJcclxuICApID0+IHtcclxuICAgIGlmICh0eXBlb2YgZGltZW5zaW9uID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIHN3aXRjaCAoZGltZW5zaW9uKSB7XHJcbiAgICAgICAgY2FzZSBcImNhbnZhc193aWR0aFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGNhbnZhc193aWR0aDtcclxuICAgICAgICBjYXNlIFwiY2FudmFzX2hlaWdodFwiOlxyXG4gICAgICAgICAgcmV0dXJuIGNhbnZhc19oZWlnaHQ7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZGltZW5zaW9uO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IENvbXB1dGVPYmplY3QgfTtcclxuIiwiaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2NhbWVyYS9jYW1lcmFcIjtcclxuaW1wb3J0IHsgQ29tcHV0ZU9iamVjdCB9IGZyb20gXCIuLi9jb21wdXRlL2NvbXB1dGVfb2JqZWN0XCI7XHJcbmltcG9ydCB7IExpZ2h0IH0gZnJvbSBcIi4uL2xpZ2h0cy9saWdodFwiO1xyXG5pbXBvcnQgeyBTY2VuZU9iamVjdCB9IGZyb20gXCIuL3NjZW5lX29iamVjdFwiO1xyXG5cclxuaW50ZXJmYWNlIFJlZ2lzdGVyZWRUeXBlcyB7XHJcbiAgW2tleTogc3RyaW5nXTogdHlwZW9mIFNjZW5lT2JqZWN0O1xyXG59XHJcblxyXG5jb25zdCByZWdpc3RlcmVkX3NjZW5lX29iamVjdF90eXBlczogUmVnaXN0ZXJlZFR5cGVzID0ge1xyXG4gIFNjZW5lT2JqZWN0LFxyXG4gIExpZ2h0LFxyXG4gIENhbWVyYSxcclxuICBDb21wdXRlT2JqZWN0LFxyXG59O1xyXG5cclxuZXhwb3J0IHsgcmVnaXN0ZXJlZF9zY2VuZV9vYmplY3RfdHlwZXMgfTtcclxuIiwiaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcclxuXHJcbmFic3RyYWN0IGNsYXNzIFBpcGVMaW5lIHtcclxuICBzaGFkZXJfcGF0aDogc3RyaW5nO1xyXG4gIGdwdV9waXBlbGluZTogR1BVUmVuZGVyUGlwZWxpbmUgfCBHUFVDb21wdXRlUGlwZWxpbmU7XHJcbiAgb3JkZXI6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBzaGFkZXJfcGF0aDogc3RyaW5nLFxyXG4gICAgZ3B1X3BpcGVsaW5lOiBHUFVSZW5kZXJQaXBlbGluZSB8IEdQVUNvbXB1dGVQaXBlbGluZSxcclxuICAgIHByaW9yaXR5OiBudW1iZXIgPSAwXHJcbiAgKSB7XHJcbiAgICB0aGlzLnNoYWRlcl9wYXRoID0gc2hhZGVyX3BhdGg7XHJcbiAgICB0aGlzLm9yZGVyID0gcHJpb3JpdHk7XHJcbiAgICB0aGlzLmdwdV9waXBlbGluZSA9IGdwdV9waXBlbGluZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRfcGlwZWxpbmVfa2V5KHNoYWRlcl9wYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAke3NoYWRlcl9wYXRofSske3RoaXMuZ2V0X3BpcGVsaW5lX2xhYmVsKCl9YDtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRfcGlwZWxpbmVfbGFiZWwoKTogc3RyaW5nIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgXCJQbGVhc2UgcmV0dXJuIGEgdW5pcXVlIGxhYmVsIGZvciB5b3VyIHBpcGVsaW5lIGZyb20gZ2V0X3BpcGVsaW5lX2xhYmVsXCJcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBTbyB0aGlzIGlzIGludGVyZXN0aW5nIGJlY2F1c2UgaXQgaXMgYWJzdHJhY3QgKHdvcmthcm91bmQgdmlhIGVycm9yKSBhbmQgc3RhdGljLiBOb3Qgc29tZXRoaW5nIHBvc3NpYmxlIGluIGphdmEgbG9sLlxyXG4gIC8vXHJcbiAgLy8gV2h5IHN0YXRpYz9cclxuICAvLyAgVGhpcyBpcyBhIGJ1aWxkZXIgZm9yIGFjdHVhbCBpbXBsZW1lbnRhdGlvbnMgYW5kIGdpdmVzIHlvdSB0aGUgaW5zdGFuY2UuXHJcbiAgLy9cclxuICAvLyBXaHkgbm90IGp1c3QgYSBjb25zdHJ1Y3Rvci9pbmhlcml0YW5jZT9cclxuICAvLyBCZWNhdXNlIGNvbnN0cnVjdG9ycyBjYW5ub3QgYmUgYXN5bmMsIHNvIEkgaGF2ZSB0byB1c2UgYSBzdGF0aWMgYXN5bmMgZnVuY3Rpb24gdG8gYnVpbGQgdGhlIHBpcGVsaW5lLlxyXG4gIC8vICBUaGUgYWx0ZXJuYXRpdmUgaXMgdG8gaGF2ZSB0aGUgY29uc3RydWN0b3Igb2YgZGVyaXZlZCBjbGFzcyBjYWxsIHRoZSBhc3luYyBmdW5jdGlvbiB3aXRoIGEgZmxhZyB0aGF0IHRoZSBwaXBlbGluZSBpcyByZWFkeS4uLmJ1dCBJIGRvbid0IHdhbnQgdG8gY2hlY2sgZmxhZ3MuXHJcbiAgLy9cclxuICAvLyBXaHkgYWJzdHJhY3Q/XHJcbiAgLy8gSSB3YW50IHRoaXMgYWJzdHJhY3QgYmVjYXVzZSBldmVyeSBwaXBlbGluZSB3aWxsIGhhdmUgYSB1bmlxdWUgbGF5b3V0IGFuZCBjb25zdHJ1Y3Rpb24gcmVxdWlyZW1lbnRzLCBzbyBJIGhhdmUgdG8gZGVmZXIgdGhlIGltcGxlbWVudGF0aW9uLlxyXG4gIC8vIFN0aWxsIHRoaW5raW5nIG9mIGEgYmV0dGVyIHdheSB0byBkbyB0aGlzLi4udHJpY2tpZXN0IHBhcnQgb2YgdGhlIGNvZGUgcm5cclxuICAvL1xyXG4gIHN0YXRpYyBhc3luYyBjb25zdHJ1Y3RfcGlwZWxpbmUoXHJcbiAgICBzaGFkZXJfcGF0aDogc3RyaW5nLFxyXG4gICAgc2NlbmU6IFNjZW5lXHJcbiAgKTogUHJvbWlzZTxQaXBlTGluZT4ge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBcIlBsZWFzZSBpbXBsZW1lbnQgbG9naWMgZm9yIGNyZWF0aW5nIHlvdXIgcGlwZWxpbmUsIG1ha2Ugc3VyZSB0byBjYWxsIHN1cGVyKCkgc28gdGhlIHBpcGVsaW5lIGlzIHJlZ2lzdGVyZWQuXCJcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvLyBBIHBpcGVsaW5lIGNhbiB0YWtlIHdoYXRldmVyIGRhdGEgaXQgbmVlZHMgZnJvbSB0aGUgc2NlbmUgYW5kIHJlbmRlciBpbnRlcm5hbGx5LlxyXG4gIC8vIFRoZSByZWFzb24gaXQgaXNuJ3QgcGVyIG9iamVjdCBpcyBiZWNhdXNlIHRoZSBwaXBlbGluZSB3aWxsIGFkZCBhbGwgb2JqZWN0cyB0byBhIHZibyBhbmQgcmVuZGVyIHRoZW0gYWxsIGF0IG9uY2UuXHJcbiAgYWJzdHJhY3QgcmVuZGVyKHNjZW5lOiBTY2VuZSk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCB7IFBpcGVMaW5lIH07XHJcbiIsImltcG9ydCB7IENvbXB1dGVPYmplY3QgfSBmcm9tIFwiLi4vY29tcHV0ZS9jb21wdXRlX29iamVjdFwiO1xyXG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gXCIuLi9zY2VuZS9zY2VuZVwiO1xyXG5pbXBvcnQgeyBTeXN0ZW1Db3JlIH0gZnJvbSBcIi4uL3N5c3RlbS9zeXN0ZW1fY29yZVwiO1xyXG5pbXBvcnQgeyBQaXBlTGluZSB9IGZyb20gXCIuL3BpcGVsaW5lXCI7XHJcblxyXG5jbGFzcyBEZWZhdWx0MkRDb21wdXRlUGlwZUxpbmUgZXh0ZW5kcyBQaXBlTGluZSB7XHJcbiAgc3RhdGljIGdldF9waXBlbGluZV9sYWJlbCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFwiZGVmYXVsdF8yZF9jb21wdXRlXCI7XHJcbiAgfVxyXG5cclxuICAvLyBOZWNlc3NhcnkgdG8gY29uc3RydWN0IGFzeW5jaG9ub3VzbHlcclxuICBzdGF0aWMgYXN5bmMgY29uc3RydWN0X3BpcGVsaW5lKHNoYWRlcl9wYXRoOiBzdHJpbmcsIHNjZW5lOiBTY2VuZSkge1xyXG4gICAgY29uc3Qgc2hhZGVyID0gYXdhaXQgc2NlbmUuc2hhZGVyX21hbmFnZXIuZ2V0X3NoYWRlcihzaGFkZXJfcGF0aCk7XHJcbiAgICBjb25zdCB7IGRldmljZSB9ID0gU3lzdGVtQ29yZTtcclxuXHJcbiAgICBjb25zdCBtb2R1bGUgPSBkZXZpY2UuY3JlYXRlU2hhZGVyTW9kdWxlKHtcclxuICAgICAgY29kZTogc2hhZGVyLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcGlwZWxpbmUgPSBkZXZpY2UuY3JlYXRlQ29tcHV0ZVBpcGVsaW5lKHtcclxuICAgICAgbGF5b3V0OiBcImF1dG9cIixcclxuICAgICAgY29tcHV0ZToge1xyXG4gICAgICAgIG1vZHVsZSxcclxuICAgICAgICBlbnRyeVBvaW50OiBcIm1haW5cIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBuZXcgRGVmYXVsdDJEQ29tcHV0ZVBpcGVMaW5lKHNoYWRlcl9wYXRoLCBwaXBlbGluZSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyByZW5kZXIoc2NlbmU6IFNjZW5lKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBwaXBlbGluZV9rZXkgPSBEZWZhdWx0MkRDb21wdXRlUGlwZUxpbmUuZ2V0X3BpcGVsaW5lX2tleShcclxuICAgICAgdGhpcy5zaGFkZXJfcGF0aFxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBHZXQgcmVsZXZhbnQgc2NlbmUgb2JqZWN0c1xyXG4gICAgY29uc3QgcmVsZXZhbnRfY29tcHV0ZV9vYmplY3RzID0gc2NlbmUub2JqZWN0cy5maWx0ZXIoXHJcbiAgICAgIChvYmplY3QpID0+IG9iamVjdC5waXBlbGluZV9rZXkgPT09IHBpcGVsaW5lX2tleVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocmVsZXZhbnRfY29tcHV0ZV9vYmplY3RzLmxlbmd0aCA9PT0gMCB8fCAhc2NlbmUudGV4dHVyZV92aWV3KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb21wdXRlX3Bhc3MgPSBTeXN0ZW1Db3JlLmNvbW1hbmRfZW5jb2Rlci5iZWdpbkNvbXB1dGVQYXNzKCk7XHJcbiAgICBjb21wdXRlX3Bhc3Muc2V0UGlwZWxpbmUodGhpcy5ncHVfcGlwZWxpbmUgYXMgR1BVQ29tcHV0ZVBpcGVsaW5lKTtcclxuXHJcbiAgICBjb25zdCBkZWZhdWx0X2JpbmRncm91cF9kZXNjcmlwdG9yOiBHUFVCaW5kR3JvdXBEZXNjcmlwdG9yID0ge1xyXG4gICAgICBsYXlvdXQ6IHRoaXMuZ3B1X3BpcGVsaW5lLmdldEJpbmRHcm91cExheW91dCgwKSxcclxuICAgICAgZW50cmllczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJpbmRpbmc6IDAsXHJcbiAgICAgICAgICByZXNvdXJjZTogc2NlbmUudGV4dHVyZV92aWV3LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG4gICAgY29tcHV0ZV9wYXNzLnNldEJpbmRHcm91cChcclxuICAgICAgMCxcclxuICAgICAgU3lzdGVtQ29yZS5kZXZpY2UuY3JlYXRlQmluZEdyb3VwKGRlZmF1bHRfYmluZGdyb3VwX2Rlc2NyaXB0b3IpXHJcbiAgICApO1xyXG5cclxuICAgIHJlbGV2YW50X2NvbXB1dGVfb2JqZWN0cy5mb3JFYWNoKChvYmopID0+IHtcclxuICAgICAgY29uc3QgY29tcHV0ZV9vYmogPSBvYmogYXMgQ29tcHV0ZU9iamVjdDtcclxuICAgICAgY29tcHV0ZV9wYXNzLmRpc3BhdGNoV29ya2dyb3VwcyhcclxuICAgICAgICBjb21wdXRlX29iai53b3JrZ3JvdXBfc2l6ZVswXSxcclxuICAgICAgICBjb21wdXRlX29iai53b3JrZ3JvdXBfc2l6ZVsxXSxcclxuICAgICAgICBjb21wdXRlX29iai53b3JrZ3JvdXBfc2l6ZVsyXVxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29tcHV0ZV9wYXNzLmVuZCgpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRGVmYXVsdDJEQ29tcHV0ZVBpcGVMaW5lIH07XHJcbiIsImltcG9ydCB7IG1hdDQsIHZlYzQgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcbmltcG9ydCB7IGNyZWF0ZV9ncHVfYnVmZmVyIH0gZnJvbSBcIi4uL3V0aWwvZ3B1X3V0aWxcIjtcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtQ29yZSB9IGZyb20gXCIuLi9zeXN0ZW0vc3lzdGVtX2NvcmVcIjtcclxuaW1wb3J0IHsgUGlwZUxpbmUgfSBmcm9tIFwiLi9waXBlbGluZVwiO1xyXG5cclxuY29uc3QgREVGQVVMVF8zRF9VTklGT1JNX0RBVEFfU0laRV9GTE9BVCA9IDQgKyA0ICogNCArIDQgKiA0ICsgMTAgKiA0ICogMjtcclxudHlwZSBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhID0ge1xyXG4gIHBvc2l0aW9uOiB2ZWM0OyAvLyBJbmNsdWRlcyB0eXBlIGluIHRoZSB3IGNoYW5uZWwgKHVudXNlZClcclxuICBjb2xvcjogdmVjNDsgLy8gSW5jbHVkZXMgaW50ZW5zaXR5IGluIHRoZSBhbHBoYSBjaGFubmVsXHJcbn07XHJcbnR5cGUgRGVmYXVsdDNEVW5pZm9ybURhdGEgPSB7XHJcbiAgZGlmZnVzZV9wcmVzZW50OiBHTGZsb2F0O1xyXG4gIHNwZWN1bGFyX3ByZXNlbnQ6IEdMZmxvYXQ7XHJcbiAgbm9ybWFsX3ByZXNlbnQ6IEdMZmxvYXQ7XHJcbiAgbGlnaHRfY291bnQ6IEdMZmxvYXQ7XHJcbiAgdmlld19tYXRyaXg6IG1hdDQ7XHJcbiAgcHJvamVjdGlvbl9tYXRyaXg6IG1hdDQ7XHJcbiAgbGlnaHRzOiBbXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhLFxyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSxcclxuICAgIERlZmF1bHQzRExpZ2h0VW5pZm9ybURhdGEsXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhLFxyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSxcclxuICAgIERlZmF1bHQzRExpZ2h0VW5pZm9ybURhdGEsXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhLFxyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSxcclxuICAgIERlZmF1bHQzRExpZ2h0VW5pZm9ybURhdGEsXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhXHJcbiAgXTtcclxufTtcclxuXHJcbmNvbnN0IGJpbmRfZ3JvdXBfbGF5b3V0X2Rlc2NyaXB0b3I6IEdQVUJpbmRHcm91cExheW91dERlc2NyaXB0b3IgPSB7XHJcbiAgZW50cmllczogW1xyXG4gICAge1xyXG4gICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5WRVJURVggfCBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcclxuICAgICAgYnVmZmVyOiB7XHJcbiAgICAgICAgdHlwZTogXCJ1bmlmb3JtXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBiaW5kaW5nOiAxLFxyXG4gICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcclxuICAgICAgc2FtcGxlcjoge30sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAvLyBEaWZmdXNlIHRleHR1cmVcclxuICAgICAgYmluZGluZzogMixcclxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgIHRleHR1cmU6IHt9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgLy8gU3BlY3VsYXIgdGV4dHVyZVxyXG4gICAgICBiaW5kaW5nOiAzLFxyXG4gICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcclxuICAgICAgdGV4dHVyZToge30sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAvLyBOb3JtYWwgdGV4dHVyZVxyXG4gICAgICBiaW5kaW5nOiA0LFxyXG4gICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcclxuICAgICAgdGV4dHVyZToge30sXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAvLyBNb2RlbCB0cmFuc2Zvcm1zXHJcbiAgICAgIGJpbmRpbmc6IDUsXHJcbiAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLlZFUlRFWCxcclxuICAgICAgYnVmZmVyOiB7XHJcbiAgICAgICAgdHlwZTogXCJyZWFkLW9ubHktc3RvcmFnZVwiLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICBdLFxyXG59O1xyXG5cclxuY2xhc3MgRGVmYXVsdDNEUGlwZUxpbmUgZXh0ZW5kcyBQaXBlTGluZSB7XHJcbiAgbW9kZWxfdHJhbnNmb3JtczogR1BVQnVmZmVyIHwgdW5kZWZpbmVkO1xyXG4gIHVuaWZvcm1fYnVmZmVyOiBHUFVCdWZmZXIgfCB1bmRlZmluZWQ7XHJcblxyXG4gIHN0YXRpYyBnZXRfcGlwZWxpbmVfbGFiZWwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBcImRlZmF1bHRfM2RcIjtcclxuICB9XHJcblxyXG4gIC8vIE5lY2Vzc2FyeSB0byBjb25zdHJ1Y3QgYXN5bmNob25vdXNseVxyXG4gIHN0YXRpYyBhc3luYyBjb25zdHJ1Y3RfcGlwZWxpbmUoc2hhZGVyX3BhdGg6IHN0cmluZywgc2NlbmU6IFNjZW5lKSB7XHJcbiAgICBjb25zdCB7IHNoYWRlcl9tYW5hZ2VyIH0gPSBzY2VuZTtcclxuICAgIGNvbnN0IHNoYWRlciA9IGF3YWl0IHNoYWRlcl9tYW5hZ2VyLmdldF9zaGFkZXIoc2hhZGVyX3BhdGgpO1xyXG5cclxuICAgIC8vIEdldCBnbG9iYWxzXHJcbiAgICBjb25zdCB7IGRldmljZSB9ID0gU3lzdGVtQ29yZTtcclxuICAgIGNvbnN0IHsgcHJlc2VudGF0aW9uX2Zvcm1hdCB9ID0gc2NlbmU7XHJcblxyXG4gICAgLy8gQ29tcGlsZSBzaGFkZXJzIHVzZWQgaW4gdGhpcyBwaXBlbGluZVxyXG4gICAgY29uc3QgbW9kdWxlID0gZGV2aWNlLmNyZWF0ZVNoYWRlck1vZHVsZSh7XHJcbiAgICAgIGNvZGU6IHNoYWRlcixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGJpbmRfZ3JvdXBfbGF5b3V0ID0gZGV2aWNlLmNyZWF0ZUJpbmRHcm91cExheW91dChcclxuICAgICAgYmluZF9ncm91cF9sYXlvdXRfZGVzY3JpcHRvclxyXG4gICAgKTtcclxuICAgIGNvbnN0IHBpcGVsaW5lID0gZGV2aWNlLmNyZWF0ZVJlbmRlclBpcGVsaW5lKHtcclxuICAgICAgbGFiZWw6IFwiZGVmYXVsdF8zZFwiLFxyXG4gICAgICBsYXlvdXQ6IGRldmljZS5jcmVhdGVQaXBlbGluZUxheW91dCh7XHJcbiAgICAgICAgYmluZEdyb3VwTGF5b3V0czogW2JpbmRfZ3JvdXBfbGF5b3V0XSwgLy8gZ3JvdXAgMCwgYmluZGluZyAwXHJcbiAgICAgIH0pLFxyXG4gICAgICB2ZXJ0ZXg6IHtcclxuICAgICAgICBtb2R1bGU6IG1vZHVsZSxcclxuICAgICAgICBidWZmZXJzOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGFycmF5U3RyaWRlOiAxNiAqIDMsXHJcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzaGFkZXJMb2NhdGlvbjogMCwgLy8gUG9zaXRpb25cclxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDRcIixcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNoYWRlckxvY2F0aW9uOiAxLCAvLyBVVlxyXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAxNixcclxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJmbG9hdDMyeDRcIixcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNoYWRlckxvY2F0aW9uOiAyLCAvLyBOb3JtYWxcclxuICAgICAgICAgICAgICAgIG9mZnNldDogMzIsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMng0XCIsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgZnJhZ21lbnQ6IHtcclxuICAgICAgICBtb2R1bGU6IG1vZHVsZSxcclxuICAgICAgICB0YXJnZXRzOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvcm1hdDogcHJlc2VudGF0aW9uX2Zvcm1hdCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgICAgfSxcclxuICAgICAgcHJpbWl0aXZlOiB7XHJcbiAgICAgICAgdG9wb2xvZ3k6IFwidHJpYW5nbGUtbGlzdFwiLFxyXG4gICAgICB9LFxyXG4gICAgICBkZXB0aFN0ZW5jaWw6IHtcclxuICAgICAgICBmb3JtYXQ6IFwiZGVwdGgyNHBsdXNcIixcclxuICAgICAgICBkZXB0aFdyaXRlRW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICBkZXB0aENvbXBhcmU6IFwibGVzc1wiLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdF8zZF9waXBlbGluZSA9IG5ldyBEZWZhdWx0M0RQaXBlTGluZShzaGFkZXJfcGF0aCwgcGlwZWxpbmUpO1xyXG5cclxuICAgIGRlZmF1bHRfM2RfcGlwZWxpbmUudW5pZm9ybV9idWZmZXIgPSBjcmVhdGVfZ3B1X2J1ZmZlcihcclxuICAgICAgbmV3IEZsb2F0MzJBcnJheShERUZBVUxUXzNEX1VOSUZPUk1fREFUQV9TSVpFX0ZMT0FUKSxcclxuICAgICAgR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiBkZWZhdWx0XzNkX3BpcGVsaW5lO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVuZGVyKHNjZW5lOiBTY2VuZSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgeyBkZXZpY2UsIGNvbW1hbmRfZW5jb2RlciB9ID0gU3lzdGVtQ29yZTtcclxuICAgIGNvbnN0IHsgdGV4dHVyZV9tYW5hZ2VyLCB0ZXh0dXJlX3ZpZXcsIGRlcHRoX3RleHR1cmVfdmlldyB9ID0gc2NlbmU7XHJcblxyXG4gICAgY29uc3QgcGlwZWxpbmVfa2V5ID0gRGVmYXVsdDNEUGlwZUxpbmUuZ2V0X3BpcGVsaW5lX2tleSh0aGlzLnNoYWRlcl9wYXRoKTtcclxuXHJcbiAgICAvLyBHZXQgcmVsZXZhbnQgc2NlbmUgb2JqZWN0c1xyXG4gICAgLy8gUG90ZW50aWFsbHkgc2xvdyB0byBmaWx0ZXIgb2JqZWN0cyB0aGlzIHdheVxyXG4gICAgLy8gQ2hhbmdlIHRvIHN0b3JlIG9iamVjdHMgaW4gc2NlbmUgc3RydWN0dXJlZCBieSBwaXBlbGluZSBrZXkgKGFuZCBtb3JlIGZpbHRlcnMgbGlrZSB0ZXh0dXJlKVxyXG4gICAgY29uc3QgcmVsZXZhbnRfc2NlbmVfb2JqZWN0cyA9IHNjZW5lLm9iamVjdHMuZmlsdGVyKFxyXG4gICAgICAob2JqZWN0KSA9PiBvYmplY3QucGlwZWxpbmVfa2V5ID09PSBwaXBlbGluZV9rZXlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICByZWxldmFudF9zY2VuZV9vYmplY3RzLmxlbmd0aCA9PT0gMCB8fFxyXG4gICAgICAhdGV4dHVyZV92aWV3IHx8XHJcbiAgICAgICFkZXB0aF90ZXh0dXJlX3ZpZXdcclxuICAgICkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVuZGVyX3Bhc3MgPSBjb21tYW5kX2VuY29kZXIuYmVnaW5SZW5kZXJQYXNzKHtcclxuICAgICAgY29sb3JBdHRhY2htZW50czogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHZpZXc6IHRleHR1cmVfdmlldyxcclxuICAgICAgICAgIGNsZWFyVmFsdWU6IFswLjAsIDAuMCwgMC4wLCAxXSxcclxuICAgICAgICAgIGxvYWRPcDogXCJjbGVhclwiLFxyXG4gICAgICAgICAgc3RvcmVPcDogXCJzdG9yZVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICAgIGRlcHRoU3RlbmNpbEF0dGFjaG1lbnQ6IHtcclxuICAgICAgICB2aWV3OiBkZXB0aF90ZXh0dXJlX3ZpZXcsXHJcbiAgICAgICAgZGVwdGhDbGVhclZhbHVlOiAxLjAsXHJcbiAgICAgICAgc3RlbmNpbENsZWFyVmFsdWU6IDAsXHJcbiAgICAgICAgZGVwdGhMb2FkT3A6IFwiY2xlYXJcIixcclxuICAgICAgICBkZXB0aFN0b3JlT3A6IFwic3RvcmVcIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgcmVuZGVyX3Bhc3Muc2V0UGlwZWxpbmUodGhpcy5ncHVfcGlwZWxpbmUgYXMgR1BVUmVuZGVyUGlwZWxpbmUpO1xyXG5cclxuICAgIC8vIEdldCB0ZXh0dXJlc1xyXG4gICAgLy8gRm9yIG5vdyBJIHdpbGwgcmVuZGVyIHdpdGggc2FtZSB0ZXh0dXJlXHJcbiAgICAvLyBJIHdpbGwgbmVlZCB0byBzb2x2ZSB0aGlzIHdpdGggYmluZGxlc3MgdGV4dHVyZXMsIDJkIGFycmF5LCBkeW5hbWljYWxseSBjcmVhdGluZyBhbiBhdGxhcyBldGMuXHJcbiAgICBjb25zdCBvYmplY3RfMCA9IHJlbGV2YW50X3NjZW5lX29iamVjdHNbMF07XHJcbiAgICBjb25zdCBoYXNfdGV4dHVyZV9kaWZmdXNlID0gb2JqZWN0XzAuaGFzX3RleHR1cmVfZGlmZnVzZSgpID8gMS4wIDogMC4wO1xyXG4gICAgY29uc3QgaGFzX3RleHR1cmVfc3BlY3VsYXIgPSBvYmplY3RfMC5oYXNfdGV4dHVyZV9zcGVjdWxhcigpID8gMS4wIDogMC4wO1xyXG4gICAgY29uc3QgaGFzX3RleHR1cmVfbm9ybWFsID0gb2JqZWN0XzAuaGFzX3RleHR1cmVfbm9ybWFsKCkgPyAxLjAgOiAwLjA7XHJcbiAgICBjb25zdCB0ZXh0dXJlX2RpZmZ1c2UgPSBhd2FpdCB0ZXh0dXJlX21hbmFnZXIubG9hZF90ZXh0dXJlKFxyXG4gICAgICBvYmplY3RfMC50ZXh0dXJlX2RpZmZ1c2VcclxuICAgICk7XHJcbiAgICBjb25zdCB0ZXh0dXJlX3NwZWN1bGFyID0gYXdhaXQgdGV4dHVyZV9tYW5hZ2VyLmxvYWRfdGV4dHVyZShcclxuICAgICAgb2JqZWN0XzAudGV4dHVyZV9zcGVjdWxhclxyXG4gICAgKTtcclxuICAgIGNvbnN0IHRleHR1cmVfbm9ybWFsID0gYXdhaXQgdGV4dHVyZV9tYW5hZ2VyLmxvYWRfdGV4dHVyZShcclxuICAgICAgb2JqZWN0XzAudGV4dHVyZV9ub3JtYWxcclxuICAgICk7XHJcblxyXG4gICAgLy8gU2V0dXAgdGhlIG1vZGVsIHRyYW5zZm9ybXNcclxuICAgIGNvbnN0IG1vZGVsX3RyYW5zZm9ybXMgPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICByZWxldmFudF9zY2VuZV9vYmplY3RzLmZsYXRNYXAoKG9iaikgPT4gWy4uLm9iai5nZXRfbW9kZWxfbWF0cml4KCldKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBuZWVkZWRfbW9kZWxfdHJhbnNmb3JtX3NpemUgPSByZWxldmFudF9zY2VuZV9vYmplY3RzLmxlbmd0aCAqIDE2ICogNDtcclxuICAgIGNvbnN0IGN1cnJlbnRfbW9kZWxfdHJhbnNmb3Jtc19zaXplID0gdGhpcy5tb2RlbF90cmFuc2Zvcm1zPy5zaXplID8/IDA7XHJcblxyXG4gICAgLy8gQmUgY2FyZWZ1bCwgY291bGQgbGVhZCB0byBhIG1lbSBsZWFrLiBNYXliZSBhZGQgYSAxLzIgYnVmZmVyIHJlZHVjdGlvbi5cclxuICAgIGlmIChuZWVkZWRfbW9kZWxfdHJhbnNmb3JtX3NpemUgPiBjdXJyZW50X21vZGVsX3RyYW5zZm9ybXNfc2l6ZSkge1xyXG4gICAgICB0aGlzLm1vZGVsX3RyYW5zZm9ybXM/LmRlc3Ryb3koKTtcclxuICAgICAgdGhpcy5tb2RlbF90cmFuc2Zvcm1zID0gY3JlYXRlX2dwdV9idWZmZXIoXHJcbiAgICAgICAgbW9kZWxfdHJhbnNmb3JtcyxcclxuICAgICAgICBHUFVCdWZmZXJVc2FnZS5TVE9SQUdFIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1RcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEp1c3Qgd3JpdGUgdGhlIGRhdGFcclxuICAgICAgZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKHRoaXMubW9kZWxfdHJhbnNmb3JtcyEsIDAsIG1vZGVsX3RyYW5zZm9ybXMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldHVwIHRoZSB1bmlmb3JtIGRhdGFcclxuICAgIGNvbnN0IHVuaWZvcm1fZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xyXG4gICAgICBoYXNfdGV4dHVyZV9kaWZmdXNlLFxyXG4gICAgICBoYXNfdGV4dHVyZV9zcGVjdWxhcixcclxuICAgICAgaGFzX3RleHR1cmVfbm9ybWFsLFxyXG4gICAgICBzY2VuZS5saWdodHMubGVuZ3RoLFxyXG4gICAgICAuLi5zY2VuZS5jYW1lcmEuZ2V0X3ZpZXdfbWF0cml4KCksXHJcbiAgICAgIC4uLnNjZW5lLmNhbWVyYS5nZXRfcHJvamVjdGlvbl9tYXRyaXgoKSxcclxuICAgICAgLi4uc2NlbmUubGlnaHRzLnJlZHVjZShcclxuICAgICAgICAoYWNjLCBsaWdodCkgPT4gYWNjLmNvbmNhdChbLi4ubGlnaHQucG9zaXRpb24sIDAuMCwgLi4ubGlnaHQuY29sb3JdKSxcclxuICAgICAgICBbXSBhcyBudW1iZXJbXVxyXG4gICAgICApLFxyXG4gICAgXSk7XHJcbiAgICBkZXZpY2UucXVldWUud3JpdGVCdWZmZXIodGhpcy51bmlmb3JtX2J1ZmZlciEsIDAsIHVuaWZvcm1fZGF0YSk7XHJcblxyXG4gICAgLy8gU2V0dXAgYmluZGdyb3VwXHJcbiAgICBjb25zdCBiaW5kZ3JvdXBfZGVzY3JpcHRvcjogR1BVQmluZEdyb3VwRGVzY3JpcHRvciA9IHtcclxuICAgICAgbGF5b3V0OiB0aGlzLmdwdV9waXBlbGluZS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksXHJcbiAgICAgIGVudHJpZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICAgICAgcmVzb3VyY2U6IHtcclxuICAgICAgICAgICAgYnVmZmVyOiB0aGlzLnVuaWZvcm1fYnVmZmVyISxcclxuICAgICAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgICAgICBzaXplOiB0aGlzLnVuaWZvcm1fYnVmZmVyIS5zaXplLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJpbmRpbmc6IDEsXHJcbiAgICAgICAgICByZXNvdXJjZTogZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe30pLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgLy8gRGlmZnVzZSB0ZXh0dXJlXHJcbiAgICAgICAgICBiaW5kaW5nOiAyLFxyXG4gICAgICAgICAgcmVzb3VyY2U6IHRleHR1cmVfZGlmZnVzZS5jcmVhdGVWaWV3KCksXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAvLyBTcGVjdWxhciB0ZXh0dXJlXHJcbiAgICAgICAgICBiaW5kaW5nOiAzLFxyXG4gICAgICAgICAgcmVzb3VyY2U6IHRleHR1cmVfc3BlY3VsYXIuY3JlYXRlVmlldygpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgLy8gTm9ybWFsIHRleHR1cmVcclxuICAgICAgICAgIGJpbmRpbmc6IDQsXHJcbiAgICAgICAgICByZXNvdXJjZTogdGV4dHVyZV9ub3JtYWwuY3JlYXRlVmlldygpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgLy8gTW9kZWwgdHJhbnNmb3Jtc1xyXG4gICAgICAgICAgYmluZGluZzogNSxcclxuICAgICAgICAgIHJlc291cmNlOiB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcjogdGhpcy5tb2RlbF90cmFuc2Zvcm1zISxcclxuICAgICAgICAgICAgb2Zmc2V0OiAwLFxyXG4gICAgICAgICAgICBzaXplOiB0aGlzLm1vZGVsX3RyYW5zZm9ybXMhLnNpemUsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG4gICAgcmVuZGVyX3Bhc3Muc2V0QmluZEdyb3VwKDAsIGRldmljZS5jcmVhdGVCaW5kR3JvdXAoYmluZGdyb3VwX2Rlc2NyaXB0b3IpKTsgLy8gSXMgdGhpcyBleHBlbnNpdmU/XHJcblxyXG4gICAgLy8gUmVuZGVyIGVhY2ggb2JqZWN0XHJcbiAgICBjb25zdCB7IHZlcnRleF9kYXRhX2dwdSwgaW5kaWNlc19ncHUsIGluZGV4X2NvdW50IH0gPVxyXG4gICAgICBhd2FpdCBvYmplY3RfMC5nZXRfbW9kZWxfZGF0YSgpO1xyXG4gICAgcmVuZGVyX3Bhc3Muc2V0VmVydGV4QnVmZmVyKDAsIHZlcnRleF9kYXRhX2dwdSk7XHJcbiAgICByZW5kZXJfcGFzcy5zZXRJbmRleEJ1ZmZlcihpbmRpY2VzX2dwdSwgXCJ1aW50MzJcIik7XHJcbiAgICByZW5kZXJfcGFzcy5kcmF3SW5kZXhlZChcclxuICAgICAgaW5kZXhfY291bnQsXHJcbiAgICAgIHJlbGV2YW50X3NjZW5lX29iamVjdHMubGVuZ3RoLFxyXG4gICAgICAwLFxyXG4gICAgICAwLFxyXG4gICAgICAwXHJcbiAgICApO1xyXG5cclxuICAgIHJlbmRlcl9wYXNzLmVuZCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRGVmYXVsdDNEUGlwZUxpbmUgfTtcclxuIiwiaW1wb3J0IHsgRGVmYXVsdDJEQ29tcHV0ZVBpcGVMaW5lIH0gZnJvbSBcIi4vZGVmYXVsdF8yZF9jb21wdXRlX3BpcGVsaW5lXCI7XHJcbmltcG9ydCB7IERlZmF1bHQzRFBpcGVMaW5lIH0gZnJvbSBcIi4vZGVmYXVsdF8zZF9waXBlbGluZVwiO1xyXG5pbXBvcnQgeyBQaXBlTGluZSB9IGZyb20gXCIuL3BpcGVsaW5lXCI7XHJcblxyXG5pbnRlcmZhY2UgUmVnaXN0ZXJlZFBpcGVsaW5lVHlwZXMge1xyXG4gIFtrZXk6IHN0cmluZ106IHR5cGVvZiBQaXBlTGluZTtcclxufVxyXG5cclxuY29uc3QgcmVnaXN0ZXJlZF9waXBlbGluZV90eXBlczogUmVnaXN0ZXJlZFBpcGVsaW5lVHlwZXMgPSB7XHJcbiAgRGVmYXVsdDJEQ29tcHV0ZVBpcGVMaW5lLFxyXG4gIERlZmF1bHQzRFBpcGVMaW5lLFxyXG59O1xyXG5cclxuZXhwb3J0IHsgcmVnaXN0ZXJlZF9waXBlbGluZV90eXBlcyB9O1xyXG4iLCJpbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vY2FtZXJhL2NhbWVyYVwiO1xyXG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuLi9saWdodHMvbGlnaHRcIjtcclxuaW1wb3J0IHsgUGlwZUxpbmUgfSBmcm9tIFwiLi4vcGlwZWxpbmVzL3BpcGVsaW5lXCI7XHJcbmltcG9ydCB7IFBpcGVMaW5lTWFuYWdlciB9IGZyb20gXCIuLi9waXBlbGluZXMvcGlwZWxpbmVfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTaGFkZXJNYW5hZ2VyIH0gZnJvbSBcIi4uL3BpcGVsaW5lcy9zaGFkZXJfbWFuYWdlclwiO1xyXG5pbXBvcnQgeyBTY2VuZU9iamVjdCB9IGZyb20gXCIuLi9zY2VuZV9vYmplY3Qvc2NlbmVfb2JqZWN0XCI7XHJcbmltcG9ydCB7IFNjZW5lRXZlbnRFbnVtcyB9IGZyb20gXCIuL3NjZW5lX2V2ZW50X2VudW1zXCI7XHJcbmltcG9ydCB7IEdhbWVFdmVudFN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW0vZXZlbnRfc3lzdGVtXCI7XHJcbmltcG9ydCB7IFN5c3RlbUNvcmUgfSBmcm9tIFwiLi4vc3lzdGVtL3N5c3RlbV9jb3JlXCI7XHJcbmltcG9ydCB7IFRleHR1cmVNYW5hZ2VyIH0gZnJvbSBcIi4uL3RleHR1cmUvdGV4dHVyZV9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHJlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzIH0gZnJvbSBcIi4uL3NjZW5lX29iamVjdC9yZWdpc3RlcmVkX3NjZW5lX29iamVjdF90eXBlc1wiO1xyXG5pbXBvcnQgeyByZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzIH0gZnJvbSBcIi4uL3BpcGVsaW5lcy9yZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzXCI7XHJcblxyXG50eXBlIFNjZW5lRGF0YSA9IHtcclxuICBjYW52YXM6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICBvYmplY3RzOiB7XHJcbiAgICB0eXBlOiBrZXlvZiB0eXBlb2YgcmVnaXN0ZXJlZF9zY2VuZV9vYmplY3RfdHlwZXM7XHJcbiAgICBwaXBlbGluZToga2V5b2YgdHlwZW9mIHJlZ2lzdGVyZWRfcGlwZWxpbmVfdHlwZXMgfCB1bmRlZmluZWQ7XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbiAgfVtdO1xyXG59O1xyXG5cclxuY2xhc3MgU2NlbmUge1xyXG4gIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgY3VycmVudF9mcmFtZTogbnVtYmVyID0gMDtcclxuXHJcbiAgZXZlbnRfc3lzdGVtOiBHYW1lRXZlbnRTeXN0ZW0gPSBuZXcgR2FtZUV2ZW50U3lzdGVtKCk7XHJcbiAgdGV4dHVyZV9tYW5hZ2VyOiBUZXh0dXJlTWFuYWdlciA9IG5ldyBUZXh0dXJlTWFuYWdlcigpO1xyXG4gIHBpcGVsaW5lX21hbmFnZXI6IFBpcGVMaW5lTWFuYWdlciA9IG5ldyBQaXBlTGluZU1hbmFnZXIoKTtcclxuICBzaGFkZXJfbWFuYWdlcjogU2hhZGVyTWFuYWdlciA9IG5ldyBTaGFkZXJNYW5hZ2VyKCk7XHJcblxyXG4gIGNhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHRleHR1cmVfdmlldz86IEdQVVRleHR1cmVWaWV3O1xyXG4gIGRlcHRoX3RleHR1cmVfdmlldz86IEdQVVRleHR1cmVWaWV3O1xyXG5cclxuICBwcmVzZW50YXRpb25fZm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0ID0gXCJyZ2JhOHVub3JtXCI7IC8vIENoYW5nZSB0aGlzIGlmIHlvdSB3YW50IEhEUiBvciBzb21ldGhpbmcgZWxzZS4gSSBhbSBzdGlja2luZyB3aXRoIHRoaXMgYXMgaXRzIG1vc3Qgc3VwcG9ydGVkLlxyXG5cclxuICBsaWdodHM6IExpZ2h0W10gPSBbXTtcclxuICBjYW1lcmE6IENhbWVyYSA9IG5ldyBDYW1lcmEoe1xyXG4gICAgaWQ6IFwiLTFcIixcclxuICAgIG5hbWU6IFwiY2FtZXJhXCIsXHJcbiAgICBzY2VuZTogdGhpcyxcclxuICB9KTtcclxuICBvYmplY3RzOiBTY2VuZU9iamVjdFtdID0gW107XHJcblxyXG4gIC8vIFRPRE86IExvYWQgc2NlbmUgZnJvbSBmaWxlXHJcbiAgLy8gQSBzY2VuZSB3aWxsIGhhdmUgcmVzb3VyY2UgbWFuYWdlcnMgdGhhdCB3aWxsIGxvYWQvY2FjaGUgcmVzb3VyY2VzICh0ZXh0dXJlcywgcGlwZWxpbmVzLCBzaGFkZXJzLCBtb2RlbHMgZXRjKS4gVW5sb2FkaW5nIGEgc2NlbmUgd2lsbCB1bmxvYWQgYWxsIHJlc291cmNlcyBjbGVhbmx5LlxyXG4gIC8vIEluIG90aGVyIHdvcmRzLCByZXNvdXJjZSBtYW5hZ2VycyBzaG91bGQgbm90IGJlIHN0YXRpYywgcmF0aGVyIGNsYXNzZXMgdGhhdCBhcmUgaW5zdGFudGlhdGVkIHBlciBzY2VuZS5cclxuICBjb25zdHJ1Y3RvcihzY2VuZV9wYXRoOiBzdHJpbmcgPSBcIlwiLCBjYW52YXNfaWQ6IHN0cmluZyA9IFwiY2FudmFzXCIpIHtcclxuICAgIC8vIEluaXQgc2NlbmUgZnJvbSBmaWxlLi4uXHJcbiAgICB0aGlzLmxvYWRfc2NlbmUoc2NlbmVfcGF0aCwgdGhpcykudGhlbigoKSA9PiB7XHJcbiAgICAgIC8vIFJlZ2lzdGVyIGxpc3RlbmVyc1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZV9zY2VuZSk7XHJcbiAgICAgIHRoaXMuZXZlbnRfc3lzdGVtLnN1YnNjcmliZShcclxuICAgICAgICBTY2VuZUV2ZW50RW51bXMuU0NFTkVfRlJBTUVfU1RBUlQsXHJcbiAgICAgICAgdGhpcy51cGRhdGVcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5ldmVudF9zeXN0ZW0uc3Vic2NyaWJlKFxyXG4gICAgICAgIFNjZW5lRXZlbnRFbnVtcy5TQ0VORV9VUERBVEVfRU5ELFxyXG4gICAgICAgIHRoaXMucmVuZGVyXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuZXZlbnRfc3lzdGVtLnN1YnNjcmliZShcclxuICAgICAgICBTY2VuZUV2ZW50RW51bXMuU0NFTkVfUkVOREVSX0VORCxcclxuICAgICAgICB0aGlzLmZyYW1lX2VuZFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2FkX3NjZW5lID0gYXN5bmMgKHNjZW5lX3BhdGg6IHN0cmluZywgc2NlbmU6IFNjZW5lKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgTG9hZGluZyBzY2VuZSBmcm9tOiAke3NjZW5lX3BhdGh9YCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNjZW5lX3BhdGgpO1xyXG4gICAgICBjb25zdCBzY2VuZV9kYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgU2NlbmVEYXRhO1xyXG5cclxuICAgICAgLy8gSW5pdCBDYW52YXNcclxuICAgICAgY29uc3QgY2FudmFzX2lkID0gc2NlbmVfZGF0YS5jYW52YXMgfHwgXCJjYW52YXNcIjtcclxuICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNfaWQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgICB0aGlzLnJlc2l6ZV9zY2VuZSgpO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xyXG4gICAgICAgIGFsZXJ0KFwiQ2FudmFzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgbm90IGZvdW5kXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcclxuICAgICAgICBcIndlYmdwdVwiXHJcbiAgICAgICkgYXMgdW5rbm93biBhcyBHUFVDYW52YXNDb250ZXh0O1xyXG4gICAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICBhbGVydChcIldlYkdQVSBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIldlYkdQVSBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb250ZXh0LmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgZGV2aWNlOiBTeXN0ZW1Db3JlLmRldmljZSxcclxuICAgICAgICBmb3JtYXQ6IHRoaXMucHJlc2VudGF0aW9uX2Zvcm1hdCxcclxuICAgICAgICB1c2FnZTpcclxuICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCB8IEdQVVRleHR1cmVVc2FnZS5TVE9SQUdFX0JJTkRJTkcsIC8vIEFkZGVkIHN0b3JhZ2UgYmluZGluZyBmb3IgZGlyZWN0IG91dHB1dCBmb3IgY29tcHV0ZSBzaGFkZXJzXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQ29uc3RydWN0IHRoZSBzY2VuZSBvYmplY3RzXHJcbiAgICAgIGNvbnN0IHNjZW5lX29iamVjdHNfcGF0aCA9IFwib2JqZWN0c1wiO1xyXG4gICAgICBzY2VuZV9kYXRhW3NjZW5lX29iamVjdHNfcGF0aF0uZm9yRWFjaCgob2JqZWN0X2RhdGEpID0+IHtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHBpcGVsaW5lLCAuLi5hcmdzIH0gPSBvYmplY3RfZGF0YTtcclxuICAgICAgICBjb25zdCBvYmplY3RfdHlwZSA9IHJlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzW3R5cGVdO1xyXG4gICAgICAgIGlmIChvYmplY3RfdHlwZSkge1xyXG4gICAgICAgICAgLy8gRm9yIG5vdyB3ZSB0cmVhdCBsaWdodHMsIGNhbWVyYSBhbmQgb2JqZWN0IGRpZmZlcmVudGx5IGJlY2F1c2Ugb2YgdGhlIHdheSBVQk8gaXMgbG9hZGVkLlxyXG4gICAgICAgICAgLy8gQnV0IGluIGZ1dHVyZSBpdCBzaG91bGQgYmUgZ2VuZXJpYywgYW5kIHN1Y2ggZGlzdGluY3Rpb24gc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIHBpcGVsaW5lLlxyXG4gICAgICAgICAgY29uc3Qgb2JqZWN0ID0gbmV3IG9iamVjdF90eXBlKHtcclxuICAgICAgICAgICAgLi4uKGFyZ3MgYXMgYW55KSxcclxuICAgICAgICAgICAgc2NlbmU6IHRoaXMsXHJcbiAgICAgICAgICAgIHBpcGVsaW5lOiBwaXBlbGluZSAmJiByZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzW3BpcGVsaW5lXSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBDYW1lcmEpIHtcclxuICAgICAgICAgICAgc2NlbmUuY2FtZXJhID0gb2JqZWN0O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBMaWdodCkge1xyXG4gICAgICAgICAgICBzY2VuZS5hZGRfbGlnaHQob2JqZWN0KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjZW5lLmFkZF9vYmplY3Qob2JqZWN0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYFVucmVjb2duaXplZCBvYmplY3QgdHlwZTogJHt0eXBlfSwgZGlkIHlvdSBhZGQgaXQgdG8gdGhlIHJlZ2lzdGVyZWQgdHlwZXMgZmlsZT9gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIHNjZW5lOiAke2Vycm9yfWApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJlc2l6ZV9zY2VuZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmNhbnZhcz8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgcmVjdCkge1xyXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG5cclxuICAgICAgdGhpcy5kZXB0aF90ZXh0dXJlX3ZpZXcgPSBTeXN0ZW1Db3JlLmRldmljZVxyXG4gICAgICAgIC5jcmVhdGVUZXh0dXJlKHtcclxuICAgICAgICAgIGxhYmVsOiBcIkRlcHRoIFRleHR1cmVcIixcclxuICAgICAgICAgIHNpemU6IHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuY2FudmFzIS53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNhbnZhcyEuaGVpZ2h0LFxyXG4gICAgICAgICAgICBkZXB0aE9yQXJyYXlMYXllcnM6IDEsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZm9ybWF0OiBcImRlcHRoMjRwbHVzXCIsXHJcbiAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5ULFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNyZWF0ZVZpZXcoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBhZGRfbGlnaHQgPSAobGlnaHQ6IExpZ2h0KSA9PiB7XHJcbiAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcclxuICB9O1xyXG5cclxuICBhZGRfb2JqZWN0ID0gKG9iamVjdDogU2NlbmVPYmplY3QpID0+IHtcclxuICAgIHRoaXMub2JqZWN0cy5wdXNoKG9iamVjdCk7XHJcblxyXG4gICAgaWYgKG9iamVjdC5waXBlbGluZSkge1xyXG4gICAgICB0aGlzLnBpcGVsaW5lX21hbmFnZXIucmVnaXN0ZXJfcGlwZWxpbmUoXHJcbiAgICAgICAgb2JqZWN0LnBpcGVsaW5lLFxyXG4gICAgICAgIG9iamVjdC5zaGFkZXJfcGF0aCxcclxuICAgICAgICB0aGlzXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnJhbWVfc3RhcnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXM/LmdldENvbnRleHQoXHJcbiAgICAgIFwid2ViZ3B1XCJcclxuICAgICkgYXMgdW5rbm93biBhcyBHUFVDYW52YXNDb250ZXh0O1xyXG4gICAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHJlbmRlciB0ZXh0dXJlcyBmb3IgdGhpcyBmcmFtZVxyXG4gICAgdGhpcy50ZXh0dXJlX3ZpZXcgPSBjb250ZXh0LmdldEN1cnJlbnRUZXh0dXJlKCkuY3JlYXRlVmlldygpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goU2NlbmVFdmVudEVudW1zLlNDRU5FX0ZSQU1FX1NUQVJUKTtcclxuICB9O1xyXG5cclxuICBmcmFtZV9lbmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0aGlzLmN1cnJlbnRfZnJhbWUrKztcclxuXHJcbiAgICBhd2FpdCB0aGlzLmV2ZW50X3N5c3RlbS5wdWJsaXNoKFNjZW5lRXZlbnRFbnVtcy5TQ0VORV9GUkFNRV9FTkQpO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmIChTeXN0ZW1Db3JlLnN5c3RlbV9pbnB1dC5rZXlfcHJlc3MuZ2V0KFwicVwiKSB8fCAhdGhpcy5hY3RpdmUpIHtcclxuICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coXCJFbmRpbmcgc2NlbmUuLi5cIik7XHJcbiAgICAgIC8vIFRPRE86IFNob3VsZCBwcm9iYWJseSBwdWJsaXNoIHNvbWV0aGluZyBhYm91dCBzY2VuZSBlbmRcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goU2NlbmVFdmVudEVudW1zLlNDRU5FX1VQREFURV9TVEFSVCk7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlX3Byb21pc2VzID0gWy4uLnRoaXMub2JqZWN0cywgLi4udGhpcy5saWdodHMsIHRoaXMuY2FtZXJhXS5tYXAoXHJcbiAgICAgIChvYmplY3QpID0+IG9iamVjdC51cGRhdGUodGhpcylcclxuICAgICk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh1cGRhdGVfcHJvbWlzZXMpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goU2NlbmVFdmVudEVudW1zLlNDRU5FX1VQREFURV9FTkQpO1xyXG4gIH07XHJcblxyXG4gIHJlbmRlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goU2NlbmVFdmVudEVudW1zLlNDRU5FX1JFTkRFUl9TVEFSVCk7XHJcblxyXG4gICAgY29uc3QgdW5pcXVlX3BpcGVsaW5lcyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMucGlwZWxpbmVfbWFuYWdlci5yZWdpc3RlcmVkX3BpcGVsaW5lcy52YWx1ZXMoKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBvcmRlcmVkX3BpcGVsaW5lcyA9IHVuaXF1ZV9waXBlbGluZXMucmVkdWNlKChhY2MsIHBpcGVsaW5lKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9yZGVyID0gcGlwZWxpbmUub3JkZXI7XHJcbiAgICAgIGlmICghYWNjLmhhcyhvcmRlcikpIHtcclxuICAgICAgICBhY2Muc2V0KG9yZGVyLCBbXSk7XHJcbiAgICAgIH1cclxuICAgICAgYWNjLmdldChvcmRlcikhLnB1c2gocGlwZWxpbmUpO1xyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwgbmV3IE1hcCgpIGFzIE1hcDxudW1iZXIsIFBpcGVMaW5lW10+KTtcclxuXHJcbiAgICBjb25zdCBvcmRlcmVkX2tleXMgPSBBcnJheS5mcm9tKG9yZGVyZWRfcGlwZWxpbmVzLmtleXMoKSkuc29ydCgpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgb2Ygb3JkZXJlZF9rZXlzKSB7XHJcbiAgICAgIGNvbnN0IHBpcGVsaW5lcyA9IG9yZGVyZWRfcGlwZWxpbmVzLmdldChrZXkpITtcclxuICAgICAgY29uc3QgcmVuZGVyX3Byb21pc2VzID0gcGlwZWxpbmVzLm1hcCgocGlwZWxpbmUpID0+XHJcbiAgICAgICAgcGlwZWxpbmUucmVuZGVyKHRoaXMpXHJcbiAgICAgICk7XHJcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJlbmRlcl9wcm9taXNlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdGhpcy5ldmVudF9zeXN0ZW0ucHVibGlzaChTY2VuZUV2ZW50RW51bXMuU0NFTkVfUkVOREVSX0VORCk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgU2NlbmUgfTtcclxuIiwidHlwZSBNb3VzZVN0YXRlID0ge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgZHg6IG51bWJlcjtcclxuICBkeTogbnVtYmVyO1xyXG4gIGxlZnQ6IGJvb2xlYW47XHJcbiAgcmlnaHQ6IGJvb2xlYW47XHJcbiAgbWlkZGxlOiBib29sZWFuO1xyXG4gIGxlZnRfY2xpY2s6IGJvb2xlYW47XHJcbiAgcmlnaHRfY2xpY2s6IGJvb2xlYW47XHJcbiAgbWlkZGxlX2NsaWNrOiBib29sZWFuO1xyXG59O1xyXG5cclxuY2xhc3MgU3lzdGVtSW5wdXRIYW5kbGVyIHtcclxuICBrZXlfc3RhdGU6IE1hcDxzdHJpbmcsIGJvb2xlYW4+O1xyXG4gIGtleV9wcmVzczogTWFwPHN0cmluZywgYm9vbGVhbj47XHJcbiAgbW91c2Vfc3RhdGU6IE1vdXNlU3RhdGU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5rZXlfc3RhdGUgPSBuZXcgTWFwPHN0cmluZywgYm9vbGVhbj4oKTtcclxuICAgIHRoaXMua2V5X3ByZXNzID0gbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCk7XHJcbiAgICB0aGlzLm1vdXNlX3N0YXRlID0ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICBkeDogMCxcclxuICAgICAgZHk6IDAsXHJcbiAgICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgICByaWdodDogZmFsc2UsXHJcbiAgICAgIG1pZGRsZTogZmFsc2UsXHJcbiAgICAgIGxlZnRfY2xpY2s6IGZhbHNlLFxyXG4gICAgICByaWdodF9jbGljazogZmFsc2UsXHJcbiAgICAgIG1pZGRsZV9jbGljazogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaXQgZXh0ZXJuYWwgbGlzdGVuZXJzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgdGhpcy5rZXlfc3RhdGUuc2V0KGUua2V5LCB0cnVlKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLmtleV9zdGF0ZS5zZXQoZS5rZXksIGZhbHNlKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLmtleV9wcmVzcy5zZXQoZS5rZXksIHRydWUpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1vdXNlX3N0YXRlLmR4ID0gZS5tb3ZlbWVudFg7XHJcbiAgICAgIHRoaXMubW91c2Vfc3RhdGUuZHkgPSBlLm1vdmVtZW50WTtcclxuICAgICAgdGhpcy5tb3VzZV9zdGF0ZS54ID0gZS54O1xyXG4gICAgICB0aGlzLm1vdXNlX3N0YXRlLnkgPSBlLnk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMubW91c2Vfc3RhdGUubGVmdCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24gPT09IDEpIHtcclxuICAgICAgICB0aGlzLm1vdXNlX3N0YXRlLm1pZGRsZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24gPT09IDIpIHtcclxuICAgICAgICB0aGlzLm1vdXNlX3N0YXRlLnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKGUuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZV9zdGF0ZS5sZWZ0ID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24gPT09IDEpIHtcclxuICAgICAgICB0aGlzLm1vdXNlX3N0YXRlLm1pZGRsZSA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGUuYnV0dG9uID09PSAyKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZV9zdGF0ZS5yaWdodCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKGUuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZV9zdGF0ZS5sZWZ0X2NsaWNrID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChlLmJ1dHRvbiA9PT0gMSkge1xyXG4gICAgICAgIHRoaXMubW91c2Vfc3RhdGUubWlkZGxlX2NsaWNrID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChlLmJ1dHRvbiA9PT0gMikge1xyXG4gICAgICAgIHRoaXMubW91c2Vfc3RhdGUucmlnaHRfY2xpY2sgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5rZXlfc3RhdGUuY2xlYXIoKTtcclxuICAgIHRoaXMua2V5X3ByZXNzLmNsZWFyKCk7XHJcbiAgICB0aGlzLm1vdXNlX3N0YXRlID0ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICBkeDogMCxcclxuICAgICAgZHk6IDAsXHJcbiAgICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgICByaWdodDogZmFsc2UsXHJcbiAgICAgIG1pZGRsZTogZmFsc2UsXHJcbiAgICAgIGxlZnRfY2xpY2s6IGZhbHNlLFxyXG4gICAgICByaWdodF9jbGljazogZmFsc2UsXHJcbiAgICAgIG1pZGRsZV9jbGljazogZmFsc2UsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgU3lzdGVtSW5wdXRIYW5kbGVyIH07XHJcbiIsImltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XHJcbmltcG9ydCB7IFN5c3RlbUNvbmZpZ1R5cGUgfSBmcm9tIFwiLi9zeXN0ZW1fY29uZmlnXCI7XHJcbmltcG9ydCB7IFN5c3RlbUlucHV0SGFuZGxlciB9IGZyb20gXCIuL3N5c3RlbV9pbnB1dFwiO1xyXG5cclxuLy8gSSBvbmx5IGludGVuZCBvbiBoYXZpbmcgb25lIHN5c3RlbSwgc28gdGhpcyBjbGFzcyB3aWxsIGJlIHN0YXRpYy5cclxuLy8gU2ltcGxpZmllcyBhY2Nlc3MsIGFuZCBtYXkgaGF2ZSBwZXJmb3JtYW5jZSBiZW5lZml0cy5cclxuY2xhc3MgU3lzdGVtQ29yZSB7XHJcbiAgc3RhdGljIHNjZW5lczogU2NlbmVbXSA9IFtdO1xyXG4gIHN0YXRpYyBjb25maWc6IFN5c3RlbUNvbmZpZ1R5cGU7XHJcblxyXG4gIHN0YXRpYyBhZGFwdGVyOiBHUFVBZGFwdGVyO1xyXG4gIHN0YXRpYyBkZXZpY2U6IEdQVURldmljZTtcclxuICBzdGF0aWMgY29tbWFuZF9lbmNvZGVyOiBHUFVDb21tYW5kRW5jb2RlcjtcclxuXHJcbiAgc3RhdGljIHN5c3RlbV9pbnB1dDogU3lzdGVtSW5wdXRIYW5kbGVyO1xyXG5cclxuICBzdGF0aWMgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICAvLyBJbml0IFdlYkdQVVxyXG4gICAgYXdhaXQgU3lzdGVtQ29yZS5pbml0X3dlYmdwdSgpO1xyXG5cclxuICAgIC8vIFNldHVwIGNvcmUgc3lzdGVtc1xyXG4gICAgY29uc3QgY29uZmlnX3BhdGggPSBcIi4vc3lzdGVtX2NvcmVfY29uZmlnLmpzb25cIjtcclxuICAgIFN5c3RlbUNvcmUuY29uZmlnID0gYXdhaXQgKGF3YWl0IGZldGNoKGNvbmZpZ19wYXRoKSkuanNvbigpO1xyXG4gICAgU3lzdGVtQ29yZS5zeXN0ZW1faW5wdXQgPSBuZXcgU3lzdGVtSW5wdXRIYW5kbGVyKCk7XHJcblxyXG4gICAgLy8gRm9yIG5vdyB3ZSBoYXZlIG9uZSBzY2VuZVxyXG4gICAgU3lzdGVtQ29yZS5zY2VuZXMucHVzaChuZXcgU2NlbmUoU3lzdGVtQ29yZS5jb25maWcuc3RhcnRfc2NlbmUpKTtcclxuXHJcbiAgICAvLyBLaWNrIG9mZiBldmVudCBsb29wXHJcbiAgICBjb25zb2xlLmxvZyhcIlN5c3RlbUNvcmUgaW5pdGlhbGl6ZWQsIHN0YXJ0aW5nIGV2ZW50IGxvb3AuLi5cIik7XHJcbiAgICBTeXN0ZW1Db3JlLmV2ZW50X2xvb3AoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBpbml0X3dlYmdwdSgpIHtcclxuICAgIC8vIEdldCBkZXZpY2VcclxuICAgIGNvbnN0IGFkYXB0ZXIgPSBhd2FpdCBuYXZpZ2F0b3IuZ3B1Py5yZXF1ZXN0QWRhcHRlcigpO1xyXG4gICAgY29uc3QgZGV2aWNlID0gYXdhaXQgYWRhcHRlcj8ucmVxdWVzdERldmljZSgpO1xyXG4gICAgaWYgKCFhZGFwdGVyIHx8ICFkZXZpY2UpIHtcclxuICAgICAgYWxlcnQoXCJXZWJHUFUgbm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViR1BVIG5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHN5c3RlbSB2YXJpYWJsZXNcclxuICAgIFN5c3RlbUNvcmUuYWRhcHRlciA9IGFkYXB0ZXI7XHJcbiAgICBTeXN0ZW1Db3JlLmRldmljZSA9IGRldmljZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBldmVudF9sb29wKCkge1xyXG4gICAgU3lzdGVtQ29yZS5jb21tYW5kX2VuY29kZXIgPSBTeXN0ZW1Db3JlLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpOyAvLyBSZXNldCBjb21tYW5kIGVuY29kZXJcclxuXHJcbiAgICAvLyBVcGRhdGUgc2NlbmVzXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLnNjZW5lcy5tYXAoKHNjZW5lKSA9PiBzY2VuZS5mcmFtZV9zdGFydCgpKSk7XHJcblxyXG4gICAgU3lzdGVtQ29yZS5kZXZpY2UucXVldWUuc3VibWl0KFtTeXN0ZW1Db3JlLmNvbW1hbmRfZW5jb2Rlci5maW5pc2goKV0pOyAvLyBTdWJtaXQgcmVuZGVyIGNvbW1hbmRzIHRvIEdQVVxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IFN5c3RlbUNvcmUuZXZlbnRfbG9vcCgpKTtcclxuICAgIHRoaXMuc3lzdGVtX2lucHV0LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBTeXN0ZW1Db3JlIH07XHJcbiJdLCJuYW1lcyI6WyJFUFNJTE9OIiwiQVJSQVlfVFlQRSIsInkiLCJpIiwiY3JlYXRlIiwib3V0IiwiZ2xNYXRyaXguQVJSQVlfVFlQRSIsImlkZW50aXR5IiwidHJhbnNsYXRlIiwiYSIsInYiLCJ4IiwieiIsImEwMCIsImEwMSIsImEwMiIsImEwMyIsImExMCIsImExMSIsImExMiIsImExMyIsImEyMCIsImEyMSIsImEyMiIsImEyMyIsInNjYWxlIiwicm90YXRlIiwicmFkIiwiYXhpcyIsImxlbiIsInMiLCJjIiwidCIsImIwMCIsImIwMSIsImIwMiIsImIxMCIsImIxMSIsImIxMiIsImIyMCIsImIyMSIsImIyMiIsImdsTWF0cml4LkVQU0lMT04iLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJwZXJzcGVjdGl2ZU5PIiwiZm92eSIsImFzcGVjdCIsIm5lYXIiLCJmYXIiLCJmIiwibmYiLCJwZXJzcGVjdGl2ZSIsImxvb2tBdCIsImV5ZSIsImNlbnRlciIsInVwIiwieDAiLCJ4MSIsIngyIiwieTAiLCJ5MSIsInkyIiwiejAiLCJ6MSIsInoyIiwiZXlleCIsImV5ZXkiLCJleWV6IiwidXB4IiwidXB5IiwidXB6IiwiY2VudGVyeCIsImNlbnRlcnkiLCJjZW50ZXJ6IiwiZnJvbVZhbHVlcyIsImFkZCIsImIiLCJzdWJ0cmFjdCIsIm5lZ2F0ZSIsIm5vcm1hbGl6ZSIsImNyb3NzIiwiYXgiLCJheSIsImF6IiwiYngiLCJieSIsImJ6IiwidHJhbnNmb3JtTWF0NCIsIm0iLCJ3IiwidmVjIiwic3RyaWRlIiwib2Zmc2V0IiwiY291bnQiLCJmbiIsImFyZyIsImwiLCJjcmVhdGVfZ3B1X2J1ZmZlciIsImRhdGEiLCJ1c2FnZSIsImRldmljZSIsIlN5c3RlbUNvcmUiLCJidWZmZXIiLCJtYXBwZWRSYW5nZSIsIm1vZGVscyIsImxvYWRfbW9kZWwiLCJtb2RlbF9wYXRoIiwibW9kZWwiLCJwb3NpdGlvbnMiLCJub3JtYWxzIiwidXZzIiwidmVydGljZXNfYmVmb3JlX2luZGV4ZWQiLCJtYXhfcG9zaXRpb24iLCJ2ZWM0LmNyZWF0ZSIsIm1pbl9wb3NpdGlvbiIsImxpbmUiLCJzcGxpdF9saW5lIiwidHlwZSIsInBvc2l0aW9uIiwidmVjNC5mcm9tVmFsdWVzIiwibm9ybWFsIiwidXYiLCJpbmRpY2VzIiwidmVydGV4X21hcCIsInZlcnRleF9kYXRhIiwidmVydGV4IiwiYXR0cmlidXRlcyIsInBvc2l0aW9uX2luZGV4IiwidXZfaW5kZXgiLCJub3JtYWxfaW5kZXgiLCJpbmRleCIsInZlcnRleF9kYXRhX2FycmF5IiwidmVydGV4X2RhdGFfZ3B1IiwiaW5kaWNlc19ncHUiLCJpbmRleF9jb3VudCIsInJlc3VsdCIsIlNjZW5lT2JqZWN0IiwiaWQiLCJuYW1lIiwic2NlbmUiLCJzaGFkZXJfcGF0aCIsInBpcGVsaW5lIiwidmVjMy5jcmVhdGUiLCJ2ZWxvY2l0eSIsInJvdGF0aW9uIiwidmVjMy5mcm9tVmFsdWVzIiwidGV4dHVyZV9kaWZmdXNlIiwidGV4dHVyZV9zcGVjdWxhciIsInRleHR1cmVfbm9ybWFsIiwidGV4dHVyZV9lbWlzc2l2ZSIsIm1vZGVsX21hdHJpeCIsIm1hdDQuY3JlYXRlIiwibWF0NC50cmFuc2xhdGUiLCJtYXQ0LnJvdGF0ZVgiLCJtYXQ0LnJvdGF0ZVkiLCJtYXQ0LnJvdGF0ZVoiLCJtYXQ0LnNjYWxlIiwib2JqZWN0IiwiQ2FtZXJhIiwibG9va19hdF90YXJnZXQiLCJzdXBlcl9hcmdzIiwidGFyZ2V0IiwidmVjMy5ub3JtYWxpemUiLCJ2ZWMzLnN1YnRyYWN0IiwidmVjMy5jcm9zcyIsInZpZXciLCJtYXQ0Lmxvb2tBdCIsIndpZHRoIiwiaGVpZ2h0IiwicHJvamVjdGlvbiIsIm1hdDQucGVyc3BlY3RpdmUiLCJrZXlfcHJlc3MiLCJrZXlfc3RhdGUiLCJtb3VzZV9zdGF0ZSIsImNhbnZhcyIsImZyYW1lX3JvdGF0aW9uX3NwZWVkIiwicm90YXRpb25fbWF0cml4IiwidmVjMy5uZWdhdGUiLCJ2ZWMzLnRyYW5zZm9ybU1hdDQiLCJjYW1lcmFfcmlnaHQiLCJkeCIsImR5IiwibWF0NC5yb3RhdGUiLCJuZXdfY2FtZXJhX2ZvcndhcmQiLCJ2ZWMzLmFkZCIsImZyYW1lX3RyYW5zbGF0aW9uX3NwZWVkIiwiZm9yd2FyZCIsInZlYzMuc2NhbGUiLCJyaWdodCIsIkxpZ2h0IiwiY29sb3IiLCJpbnRlbnNpdHkiLCJQaXBlTGluZU1hbmFnZXIiLCJwaXBlbGluZV9rZXkiLCJTaGFkZXJNYW5hZ2VyIiwicmVzcG9uc2UiLCJTY2VuZUV2ZW50RW51bXMiLCJHYW1lRXZlbnRTeXN0ZW0iLCJldmVudF9uYW1lIiwiY2FsbGJhY2siLCJldmVudF9jYWxsYmFja3MiLCJwcm9taXNlcyIsIlRleHR1cmVNYW5hZ2VyIiwidGV4dHVyZV9wYXRoIiwiZm9ybWF0IiwidGV4dHVyZV9ibG9iIiwidGV4dHVyZV9kYXRhIiwidGV4dHVyZV9ncHUiLCJDb21wdXRlT2JqZWN0IiwicGFyYW1zIiwiX2EiLCJfYiIsImRpbWVuc2lvbiIsImNhbnZhc193aWR0aCIsImNhbnZhc19oZWlnaHQiLCJzY2VuZV93aWR0aCIsInNjZW5lX2hlaWdodCIsInJlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzIiwiUGlwZUxpbmUiLCJncHVfcGlwZWxpbmUiLCJwcmlvcml0eSIsIkRlZmF1bHQyRENvbXB1dGVQaXBlTGluZSIsInNoYWRlciIsIm1vZHVsZSIsInJlbGV2YW50X2NvbXB1dGVfb2JqZWN0cyIsImNvbXB1dGVfcGFzcyIsImRlZmF1bHRfYmluZGdyb3VwX2Rlc2NyaXB0b3IiLCJvYmoiLCJjb21wdXRlX29iaiIsIkRFRkFVTFRfM0RfVU5JRk9STV9EQVRBX1NJWkVfRkxPQVQiLCJiaW5kX2dyb3VwX2xheW91dF9kZXNjcmlwdG9yIiwiRGVmYXVsdDNEUGlwZUxpbmUiLCJzaGFkZXJfbWFuYWdlciIsInByZXNlbnRhdGlvbl9mb3JtYXQiLCJiaW5kX2dyb3VwX2xheW91dCIsImRlZmF1bHRfM2RfcGlwZWxpbmUiLCJjb21tYW5kX2VuY29kZXIiLCJ0ZXh0dXJlX21hbmFnZXIiLCJ0ZXh0dXJlX3ZpZXciLCJkZXB0aF90ZXh0dXJlX3ZpZXciLCJyZWxldmFudF9zY2VuZV9vYmplY3RzIiwicmVuZGVyX3Bhc3MiLCJvYmplY3RfMCIsImhhc190ZXh0dXJlX2RpZmZ1c2UiLCJoYXNfdGV4dHVyZV9zcGVjdWxhciIsImhhc190ZXh0dXJlX25vcm1hbCIsIm1vZGVsX3RyYW5zZm9ybXMiLCJuZWVkZWRfbW9kZWxfdHJhbnNmb3JtX3NpemUiLCJjdXJyZW50X21vZGVsX3RyYW5zZm9ybXNfc2l6ZSIsInVuaWZvcm1fZGF0YSIsImFjYyIsImxpZ2h0IiwiYmluZGdyb3VwX2Rlc2NyaXB0b3IiLCJyZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzIiwiU2NlbmUiLCJzY2VuZV9wYXRoIiwiY2FudmFzX2lkIiwic2NlbmVfZGF0YSIsImNvbnRleHQiLCJvYmplY3RfZGF0YSIsImFyZ3MiLCJvYmplY3RfdHlwZSIsImVycm9yIiwicmVjdCIsInVwZGF0ZV9wcm9taXNlcyIsIm9yZGVyZWRfcGlwZWxpbmVzIiwib3JkZXIiLCJvcmRlcmVkX2tleXMiLCJrZXkiLCJyZW5kZXJfcHJvbWlzZXMiLCJTeXN0ZW1JbnB1dEhhbmRsZXIiLCJlIiwiX1N5c3RlbUNvcmUiLCJjb25maWdfcGF0aCIsImFkYXB0ZXIiXSwibWFwcGluZ3MiOiJBQUtPLElBQUlBLElBQVUsTUFDVkMsSUFBYSxPQUFPLGVBQWlCLE1BQWMsZUFBZTtBQWtDeEUsS0FBSyxVQUFPLEtBQUssUUFBUSxXQUFZ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O0FBQ2xDLE1BQUFBLEVBQUUsV0FBVyxJQUNmLEtBQUssWUFBWSxhQUFhLEtBQ3JCQSxFQUFFLFdBQVcsSUFDdEIsS0FBSyxZQUFZLGVBQWUsS0FDdkJBLEVBQUUsV0FBVyxNQUN0QixLQUFLLFlBQVksY0FBYztBQUFBLElBQ2pDLENBQ0Q7QUFBQSxFQUNIO0FBQUEsRUFFQSxRQUFRO0FBQ04sU0FBSyxVQUFVLFNBQ2YsS0FBSyxVQUFVLFNBQ2YsS0FBSyxjQUFjO0FBQUEsTUFDakIsR0FBRztBQUFBLE1BQ0gsR0FBRztBQUFBLE1BQ0gsSUFBSTtBQUFBLE1BQ0osSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sT0FBTztBQUFBLE1BQ1AsUUFBUTtBQUFBLE1BQ1IsWUFBWTtBQUFBLE1BQ1osYUFBYTtBQUFBLE1BQ2IsY0FBYztBQUFBLElBQUE7QUFBQSxFQUVsQjtBQUNGO0FDekZBLE1BQU1DLElBQU4sTUFBTUEsRUFBVztBQUFBLEVBVWYsYUFBYSxRQUFRO0FBRW5CLFVBQU1BLEVBQVc7QUFHakIsVUFBTUMsSUFBYztBQUNwQixJQUFBRCxFQUFXLFNBQVMsT0FBTyxNQUFNLE1BQU1DLENBQVcsR0FBRyxRQUMxQ0QsRUFBQSxlQUFlLElBQUlGLE1BRzlCRSxFQUFXLE9BQU8sS0FBSyxJQUFJbEIsR0FBTWtCLEVBQVcsT0FBTyxXQUFXLENBQUMsR0FHL0QsUUFBUSxJQUFJLGdEQUFnRCxHQUM1REEsRUFBVyxXQUFXO0FBQUEsRUFDeEI7QUFBQSxFQUVBLGFBQWEsY0FBYztBdEJqQzdCLFFBQUE5RDtBc0JtQ0ksVUFBTWdFLElBQVUsUUFBTWhFLElBQUEsVUFBVSxRQUFWLGdCQUFBQSxFQUFlLG1CQUMvQjlHLElBQVMsT0FBTThLLEtBQUEsZ0JBQUFBLEVBQVM7QUFDMUIsUUFBQSxDQUFDQSxLQUFXLENBQUM5SztBQUNmLGtCQUFNLHNCQUFzQixHQUN0QixJQUFJLE1BQU0sc0JBQXNCO0FBSXhDLElBQUE0SyxFQUFXLFVBQVVFLEdBQ3JCRixFQUFXLFNBQVM1SztBQUFBLEVBQ3RCO0FBQUEsRUFFQSxhQUFhLGFBQWE7QUFDYixJQUFBNEssRUFBQSxrQkFBa0JBLEVBQVcsT0FBTyxxQkFBcUIsR0FHOUQsTUFBQSxRQUFRLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQ3JJLE1BQVVBLEVBQU0sWUFBYSxDQUFBLENBQUMsR0FFdERxSSxFQUFBLE9BQU8sTUFBTSxPQUFPLENBQUNBLEVBQVcsZ0JBQWdCLE9BQVEsQ0FBQSxDQUFDLEdBQzlDLHNCQUFBLE1BQU1BLEVBQVcsV0FBQSxDQUFZLEdBQ25ELEtBQUssYUFBYTtFQUNwQjtBQUNGO0FBbERFQSxFQUFPLFNBQWtCO0FBRDNCLElBQU0zSyxJQUFOMks7IiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDNdfQ==
