var j = 1e-6, U = typeof Float32Array < "u" ? Float32Array : Array;
Math.hypot || (Math.hypot = function() {
  for (var e = 0, t = arguments.length; t--; )
    e += arguments[t] * arguments[t];
  return Math.sqrt(e);
});
function L() {
  var e = new U(16);
  return U != Float32Array && (e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0), e[0] = 1, e[5] = 1, e[10] = 1, e[15] = 1, e;
}
function ie(e) {
  return e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 1, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[10] = 1, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, e;
}
function I(e, t, r) {
  var s = r[0], i = r[1], n = r[2], a, o, c, h, _, l, p, f, g, d, y, m;
  return t === e ? (e[12] = t[0] * s + t[4] * i + t[8] * n + t[12], e[13] = t[1] * s + t[5] * i + t[9] * n + t[13], e[14] = t[2] * s + t[6] * i + t[10] * n + t[14], e[15] = t[3] * s + t[7] * i + t[11] * n + t[15]) : (a = t[0], o = t[1], c = t[2], h = t[3], _ = t[4], l = t[5], p = t[6], f = t[7], g = t[8], d = t[9], y = t[10], m = t[11], e[0] = a, e[1] = o, e[2] = c, e[3] = h, e[4] = _, e[5] = l, e[6] = p, e[7] = f, e[8] = g, e[9] = d, e[10] = y, e[11] = m, e[12] = a * s + _ * i + g * n + t[12], e[13] = o * s + l * i + d * n + t[13], e[14] = c * s + p * i + y * n + t[14], e[15] = h * s + f * i + m * n + t[15]), e;
}
function re(e, t, r) {
  var s = r[0], i = r[1], n = r[2];
  return e[0] = t[0] * s, e[1] = t[1] * s, e[2] = t[2] * s, e[3] = t[3] * s, e[4] = t[4] * i, e[5] = t[5] * i, e[6] = t[6] * i, e[7] = t[7] * i, e[8] = t[8] * n, e[9] = t[9] * n, e[10] = t[10] * n, e[11] = t[11] * n, e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15], e;
}
function Z(e, t, r, s) {
  var i = s[0], n = s[1], a = s[2], o = Math.hypot(i, n, a), c, h, _, l, p, f, g, d, y, m, u, w, v, E, T, M, G, N, P, k, R, C, z, D;
  return o < j ? null : (o = 1 / o, i *= o, n *= o, a *= o, c = Math.sin(r), h = Math.cos(r), _ = 1 - h, l = t[0], p = t[1], f = t[2], g = t[3], d = t[4], y = t[5], m = t[6], u = t[7], w = t[8], v = t[9], E = t[10], T = t[11], M = i * i * _ + h, G = n * i * _ + a * c, N = a * i * _ - n * c, P = i * n * _ - a * c, k = n * n * _ + h, R = a * n * _ + i * c, C = i * a * _ + n * c, z = n * a * _ - i * c, D = a * a * _ + h, e[0] = l * M + d * G + w * N, e[1] = p * M + y * G + v * N, e[2] = f * M + m * G + E * N, e[3] = g * M + u * G + T * N, e[4] = l * P + d * k + w * R, e[5] = p * P + y * k + v * R, e[6] = f * P + m * k + E * R, e[7] = g * P + u * k + T * R, e[8] = l * C + d * z + w * D, e[9] = p * C + y * z + v * D, e[10] = f * C + m * z + E * D, e[11] = g * C + u * z + T * D, t !== e && (e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e);
}
function ne(e, t, r) {
  var s = Math.sin(r), i = Math.cos(r), n = t[4], a = t[5], o = t[6], c = t[7], h = t[8], _ = t[9], l = t[10], p = t[11];
  return t !== e && (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e[4] = n * i + h * s, e[5] = a * i + _ * s, e[6] = o * i + l * s, e[7] = c * i + p * s, e[8] = h * i - n * s, e[9] = _ * i - a * s, e[10] = l * i - o * s, e[11] = p * i - c * s, e;
}
function ee(e, t, r) {
  var s = Math.sin(r), i = Math.cos(r), n = t[0], a = t[1], o = t[2], c = t[3], h = t[8], _ = t[9], l = t[10], p = t[11];
  return t !== e && (e[4] = t[4], e[5] = t[5], e[6] = t[6], e[7] = t[7], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e[0] = n * i - h * s, e[1] = a * i - _ * s, e[2] = o * i - l * s, e[3] = c * i - p * s, e[8] = n * s + h * i, e[9] = a * s + _ * i, e[10] = o * s + l * i, e[11] = c * s + p * i, e;
}
function ae(e, t, r) {
  var s = Math.sin(r), i = Math.cos(r), n = t[0], a = t[1], o = t[2], c = t[3], h = t[4], _ = t[5], l = t[6], p = t[7];
  return t !== e && (e[8] = t[8], e[9] = t[9], e[10] = t[10], e[11] = t[11], e[12] = t[12], e[13] = t[13], e[14] = t[14], e[15] = t[15]), e[0] = n * i + h * s, e[1] = a * i + _ * s, e[2] = o * i + l * s, e[3] = c * i + p * s, e[4] = h * i - n * s, e[5] = _ * i - a * s, e[6] = l * i - o * s, e[7] = p * i - c * s, e;
}
function oe(e, t, r, s, i) {
  var n = 1 / Math.tan(t / 2), a;
  return e[0] = n / r, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = n, e[6] = 0, e[7] = 0, e[8] = 0, e[9] = 0, e[11] = -1, e[12] = 0, e[13] = 0, e[15] = 0, i != null && i !== 1 / 0 ? (a = 1 / (s - i), e[10] = (i + s) * a, e[14] = 2 * i * s * a) : (e[10] = -1, e[14] = -2 * s), e;
}
var ce = oe;
function he(e, t, r, s) {
  var i, n, a, o, c, h, _, l, p, f, g = t[0], d = t[1], y = t[2], m = s[0], u = s[1], w = s[2], v = r[0], E = r[1], T = r[2];
  return Math.abs(g - v) < j && Math.abs(d - E) < j && Math.abs(y - T) < j ? ie(e) : (_ = g - v, l = d - E, p = y - T, f = 1 / Math.hypot(_, l, p), _ *= f, l *= f, p *= f, i = u * p - w * l, n = w * _ - m * p, a = m * l - u * _, f = Math.hypot(i, n, a), f ? (f = 1 / f, i *= f, n *= f, a *= f) : (i = 0, n = 0, a = 0), o = l * a - p * n, c = p * i - _ * a, h = _ * n - l * i, f = Math.hypot(o, c, h), f ? (f = 1 / f, o *= f, c *= f, h *= f) : (o = 0, c = 0, h = 0), e[0] = i, e[1] = o, e[2] = _, e[3] = 0, e[4] = n, e[5] = c, e[6] = l, e[7] = 0, e[8] = a, e[9] = h, e[10] = p, e[11] = 0, e[12] = -(i * g + n * d + a * y), e[13] = -(o * g + c * d + h * y), e[14] = -(_ * g + l * d + p * y), e[15] = 1, e);
}
function S() {
  var e = new U(3);
  return U != Float32Array && (e[0] = 0, e[1] = 0, e[2] = 0), e;
}
function H(e, t, r) {
  var s = new U(3);
  return s[0] = e, s[1] = t, s[2] = r, s;
}
function F(e, t, r) {
  return e[0] = t[0] + r[0], e[1] = t[1] + r[1], e[2] = t[2] + r[2], e;
}
function _e(e, t, r) {
  return e[0] = t[0] - r[0], e[1] = t[1] - r[1], e[2] = t[2] - r[2], e;
}
function J(e, t, r) {
  return e[0] = t[0] * r, e[1] = t[1] * r, e[2] = t[2] * r, e;
}
function le(e, t) {
  return e[0] = -t[0], e[1] = -t[1], e[2] = -t[2], e;
}
function K(e, t) {
  var r = t[0], s = t[1], i = t[2], n = r * r + s * s + i * i;
  return n > 0 && (n = 1 / Math.sqrt(n)), e[0] = t[0] * n, e[1] = t[1] * n, e[2] = t[2] * n, e;
}
function de(e, t, r) {
  var s = t[0], i = t[1], n = t[2], a = r[0], o = r[1], c = r[2];
  return e[0] = i * c - n * o, e[1] = n * a - s * c, e[2] = s * o - i * a, e;
}
function Q(e, t, r) {
  var s = t[0], i = t[1], n = t[2], a = r[3] * s + r[7] * i + r[11] * n + r[15];
  return a = a || 1, e[0] = (r[0] * s + r[4] * i + r[8] * n + r[12]) / a, e[1] = (r[1] * s + r[5] * i + r[9] * n + r[13]) / a, e[2] = (r[2] * s + r[6] * i + r[10] * n + r[14]) / a, e;
}
(function() {
  var e = S();
  return function(t, r, s, i, n, a) {
    var o, c;
    for (r || (r = 3), s || (s = 0), i ? c = Math.min(i * r + s, t.length) : c = t.length, o = s; o < c; o += r)
      e[0] = t[o], e[1] = t[o + 1], e[2] = t[o + 2], n(e, e, a), t[o] = e[0], t[o + 1] = e[1], t[o + 2] = e[2];
    return t;
  };
})();
function B() {
  var e = new U(4);
  return U != Float32Array && (e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 0), e;
}
function O(e, t, r, s) {
  var i = new U(4);
  return i[0] = e, i[1] = t, i[2] = r, i[3] = s, i;
}
(function() {
  var e = B();
  return function(t, r, s, i, n, a) {
    var o, c;
    for (r || (r = 4), s || (s = 0), i ? c = Math.min(i * r + s, t.length) : c = t.length, o = s; o < c; o += r)
      e[0] = t[o], e[1] = t[o + 1], e[2] = t[o + 2], e[3] = t[o + 3], n(e, e, a), t[o] = e[0], t[o + 1] = e[1], t[o + 2] = e[2], t[o + 3] = e[3];
    return t;
  };
})();
const q = (e, t = GPUBufferUsage.VERTEX | GPUBufferUsage.COPY_DST) => {
  const { device: r } = b, s = r.createBuffer({
    size: e.byteLength,
    usage: t,
    mappedAtCreation: !0
  }), i = s.getMappedRange();
  return new Uint8Array(i).set(
    new Uint8Array(e.buffer, e.byteOffset, e.byteLength)
  ), s.unmap(), s;
}, X = {}, pe = async (e) => {
  if (!e || X[e])
    return;
  console.log("Loading model", e);
  const r = await (await fetch(e)).text(), s = [], i = [], n = [], a = [];
  let o = B(), c = B();
  r.split(`
`).forEach((m) => {
    const u = m.split(" "), w = u[0];
    if (w === "v") {
      const v = O(
        parseFloat(u[1]),
        parseFloat(u[2]),
        parseFloat(u[3]),
        1
      );
      o[0] = Math.max(o[0], v[0]), o[1] = Math.max(o[1], v[1]), o[2] = Math.max(o[2], v[2]), c[0] = Math.min(c[0], v[0]), c[1] = Math.min(c[1], v[1]), c[2] = Math.min(c[2], v[2]), s.push(v);
    } else if (w === "vn") {
      const v = O(
        parseFloat(u[1]),
        parseFloat(u[2]),
        parseFloat(u[3]),
        0
      );
      i.push(v);
    } else if (w === "vt") {
      const v = O(
        parseFloat(u[1]),
        parseFloat(u[2]),
        0,
        0
      );
      n.push(v);
    } else w === "f" && (a.push(u[1]), a.push(u[2]), a.push(u[3]));
  }), c[0] + (o[0] - c[0]) / 2, c[1] + (o[1] - c[1]) / 2, c[2] + (o[2] - c[2]) / 2;
  const h = [], _ = /* @__PURE__ */ new Map();
  let l = [];
  a.forEach((m) => {
    if (!_.has(m)) {
      const u = m.split("/").filter((M) => M !== ""), w = parseInt(u[0]) - 1, v = parseInt(u[1]) - 1, E = parseInt(u[2]) - 1;
      l.push(s[w]), l.push(n[v] || B()), l.push(i[E] || B());
      const T = _.size;
      _.set(m, T);
    }
    h.push(_.get(m));
  });
  const p = l.flatMap((m) => [...m]), f = q(
    new Float32Array(p)
  ), g = q(
    new Int32Array(h),
    GPUBufferUsage.INDEX | GPUBufferUsage.COPY_DST
  ), d = h.length, y = {
    vertex_data_gpu: f,
    indices_gpu: g,
    index_count: d
  };
  X[e] = y;
};
class $ {
  constructor({
    id: t,
    name: r,
    scene: s,
    model: i = "",
    shader_path: n = "",
    pipeline: a,
    position: o = S(),
    velocity: c = S(),
    rotation: h = S(),
    scale: _ = H(1, 1, 1),
    texture_diffuse: l = void 0,
    texture_specular: p = void 0,
    texture_normal: f = void 0,
    texture_emissive: g = void 0
  }) {
    this.get_model_matrix = () => {
      const d = L();
      return I(d, d, this.position), ne(d, d, this.rotation[0]), ee(d, d, this.rotation[1]), ae(d, d, this.rotation[2]), re(d, d, this.scale), d;
    }, this.get_model_data = async () => (await pe(this.model), X[this.model]), this.has_texture_diffuse = () => this.texture_diffuse !== void 0 && this.texture_diffuse !== "", this.has_texture_specular = () => this.texture_specular !== void 0 && this.texture_specular !== "", this.has_texture_normal = () => this.texture_normal !== void 0 && this.texture_normal !== "", this.has_texture_emissive = () => this.texture_emissive !== void 0 && this.texture_emissive !== "", this.update = async (d) => {
    }, this.remove_from_scene = (d) => {
      d.objects = d.objects.filter((y) => y !== this);
    }, this.id = t, this.name = r, this.position = o, this.velocity = c, this.rotation = h, this.scale = _, this.model = i, this.texture_diffuse = l, this.texture_specular = p, this.texture_normal = f, this.texture_emissive = g, this.shader_path = n, this.pipeline = a, this.pipeline_key = (a == null ? void 0 : a.get_pipeline_key(n)) || "";
  }
}
class W extends $ {
  constructor({ look_at_target: t, ...r }) {
    super(r), this.up = H(0, 1, 0), this.look_at_target = S(), this.movement_mode = 0, this.rotation_speed = 0.01, this.movement_speed = 0.01, this.mouse_sensitivity = 1e-3, this.look_at = (s) => {
      this.look_at_target = s;
    }, this.get_camera_forward = () => K(
      S(),
      _e(S(), this.look_at_target, this.position)
    ), this.get_camera_right = () => K(
      S(),
      de(S(), this.get_camera_forward(), this.up)
    ), this.get_view_matrix = () => {
      const s = L();
      return I(s, s, this.position), he(s, this.position, this.look_at_target, this.up), s;
    }, this.get_projection_matrix = (s) => {
      if (!s) {
        const n = window.innerWidth, a = window.innerHeight;
        s = n / a;
      }
      const i = L();
      return ce(i, Math.PI / 4, s, 0.1, 1e3), i;
    }, this.update = async (s) => {
      const { key_press: i, key_state: n, mouse_state: a } = b.system_input, { canvas: o } = s;
      if (i.get("`") && (console.log("toggling camera mode"), this.movement_mode === 0 ? (this.movement_mode = 1, o == null || o.requestPointerLock()) : this.movement_mode === 1 ? (document.exitPointerLock(), this.movement_mode = 2) : this.movement_mode === 2 && (this.movement_mode = 0)), this.movement_mode === 0) {
        if (n.get("a") || n.get("d")) {
          const c = n.get("a") ? this.rotation_speed : -this.rotation_speed, h = L();
          I(h, h, this.look_at_target), ee(h, h, c), I(
            h,
            h,
            le(S(), this.look_at_target)
          ), Q(this.position, this.position, h);
        }
      } else if (this.movement_mode === 1) {
        if (a.dx || a.dy) {
          this.get_camera_forward();
          const c = this.get_camera_right(), h = a.dx * this.mouse_sensitivity, _ = a.dy * this.mouse_sensitivity, l = L();
          Z(l, l, -h, this.up), Z(l, l, -_, c), Q(this.position, this.position, l);
          const p = this.get_camera_forward();
          this.get_camera_right(), F(this.look_at_target, this.position, p);
        }
        if (n.get("w") || n.get("s")) {
          const c = n.get("w") ? this.movement_speed : -this.movement_speed, h = this.get_camera_forward();
          J(h, h, c), F(this.position, this.position, h), F(this.look_at_target, this.look_at_target, h);
        }
        if (n.get("a") || n.get("d")) {
          const c = n.get("a") ? -this.movement_speed : this.movement_speed, h = this.get_camera_right();
          J(h, h, c), F(this.position, this.position, h), F(this.look_at_target, this.look_at_target, h);
        }
      } else this.movement_mode;
    }, this.look_at(t || S());
  }
}
class te extends $ {
  constructor({
    color: t = H(1, 1, 1),
    intensity: r = 1,
    ...s
  }) {
    super(s), this.get_uniform_data = () => ({
      position: [...this.position, 0],
      color: this.color
    }), this.color = O(t[0], t[1], t[2], r);
  }
}
class fe {
  constructor() {
    this.registered_pipelines = /* @__PURE__ */ new Map(), this.register_pipeline = (t, r, s) => {
      const i = t.get_pipeline_key(r);
      this.registered_pipelines.has(i) || t.construct_pipeline(r, s).then((n) => {
        this.registered_pipelines.set(i, n);
      });
    }, this.get_registered_pipeline = (t) => this.registered_pipelines.get(t);
  }
}
class ue {
  constructor() {
    this.shaders = /* @__PURE__ */ new Map(), this.get_shader = async (t) => {
      if (!this.shaders.has(t)) {
        const r = await fetch(t);
        this.shaders.set(t, await r.text());
      }
      return this.shaders.get(t);
    }, this.get_registered_shader = (t) => this.shaders.get(t);
  }
}
var A = /* @__PURE__ */ ((e) => (e[e.SCENE_FRAME_START = 0] = "SCENE_FRAME_START", e[e.SCENE_FRAME_END = 1] = "SCENE_FRAME_END", e[e.SCENE_UPDATE_START = 2] = "SCENE_UPDATE_START", e[e.SCENE_UPDATE_END = 3] = "SCENE_UPDATE_END", e[e.SCENE_RENDER_START = 4] = "SCENE_RENDER_START", e[e.SCENE_RENDER_END = 5] = "SCENE_RENDER_END", e))(A || {});
class ge {
  constructor() {
    this.events = /* @__PURE__ */ new Map();
  }
  subscribe(t, r) {
    return this.events.has(t) || this.events.set(t, []), this.events.get(t).includes(r) || this.events.get(t).push(r), r;
  }
  unsubscribe(t, r) {
    const s = this.events.get(t), i = (s == null ? void 0 : s.indexOf(r)) ?? -1;
    i >= 0 && s.splice(i, 1);
  }
  async publish(t, r = {}) {
    if (!this.events.has(t))
      return;
    const i = this.events.get(t).map((n) => n(r));
    await Promise.all(i);
  }
}
class me {
  constructor() {
    this.textures = {}, this.empty_texture = this.get_default_texture();
  }
  get_default_texture() {
    return b.device.createTexture({
      size: [1, 1],
      format: "rgba8unorm",
      usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST
    });
  }
  async load_texture(t, r = "rgba8unorm") {
    if (t === void 0 || t === "")
      return this.empty_texture;
    if (this.textures[t])
      return this.textures[t];
    const i = await (await fetch(t)).blob(), n = await createImageBitmap(i, {
      colorSpaceConversion: "none"
    }), a = b.device.createTexture({
      label: t,
      format: r,
      size: [n.width, n.height],
      usage: GPUTextureUsage.TEXTURE_BINDING | GPUTextureUsage.COPY_DST | GPUTextureUsage.RENDER_ATTACHMENT
    });
    return b.device.queue.copyExternalImageToTexture(
      { source: n },
      { texture: a },
      [n.width, n.height]
    ), this.textures[t] = a, a;
  }
}
class ve extends $ {
  constructor(t) {
    var i, n;
    super(t), this.parse_workgroup_size = (a, o, c) => {
      if (typeof a == "string")
        switch (a) {
          case "canvas_width":
            return o;
          case "canvas_height":
            return c;
          default:
            return 1;
        }
      else
        return a;
    };
    const r = ((i = t.scene.canvas) == null ? void 0 : i.width) || 1, s = ((n = t.scene.canvas) == null ? void 0 : n.height) || 1;
    this.workgroup_size = [
      this.parse_workgroup_size(
        t.workgroup_size[0],
        r,
        s
      ),
      this.parse_workgroup_size(
        t.workgroup_size[1],
        r,
        s
      ),
      this.parse_workgroup_size(
        t.workgroup_size[2],
        r,
        s
      )
    ];
  }
}
const ye = {
  SceneObject: $,
  Light: te,
  Camera: W,
  ComputeObject: ve
};
class se {
  constructor(t, r, s = 0) {
    this.shader_path = t, this.order = s, this.gpu_pipeline = r;
  }
  static get_pipeline_key(t) {
    return `${t}+${this.get_pipeline_label()}`;
  }
  static get_pipeline_label() {
    throw new Error(
      "Please return a unique label for your pipeline from get_pipeline_label"
    );
  }
  // So this is interesting because it is abstract (workaround via error) and static. Not something possible in java lol.
  //
  // Why static?
  //  This is a builder for actual implementations and gives you the instance.
  //
  // Why not just a constructor/inheritance?
  // Because constructors cannot be async, so I have to use a static async function to build the pipeline.
  //  The alternative is to have the constructor of derived class call the async function with a flag that the pipeline is ready...but I don't want to check flags.
  //
  // Why abstract?
  // I want this abstract because every pipeline will have a unique layout and construction requirements, so I have to defer the implementation.
  // Still thinking of a better way to do this...trickiest part of the code rn
  //
  static async construct_pipeline(t, r) {
    throw new Error(
      "Please implement logic for creating your pipeline, make sure to call super() so the pipeline is registered."
    );
  }
}
class V extends se {
  static get_pipeline_label() {
    return "default_2d_compute";
  }
  // Necessary to construct asynchonously
  static async construct_pipeline(t, r) {
    const s = await r.shader_manager.get_shader(t), { device: i } = b, n = i.createShaderModule({
      code: s
    }), a = i.createComputePipeline({
      layout: "auto",
      compute: {
        module: n,
        entryPoint: "main"
      }
    });
    return new V(t, a);
  }
  async render(t) {
    const r = V.get_pipeline_key(
      this.shader_path
    ), s = t.objects.filter(
      (a) => a.pipeline_key === r
    );
    if (s.length === 0 || !t.texture_view)
      return;
    const i = b.command_encoder.beginComputePass();
    i.setPipeline(this.gpu_pipeline);
    const n = {
      layout: this.gpu_pipeline.getBindGroupLayout(0),
      entries: [
        {
          binding: 0,
          resource: t.texture_view
        }
      ]
    };
    i.setBindGroup(
      0,
      b.device.createBindGroup(n)
    ), s.forEach((a) => {
      const o = a;
      i.dispatchWorkgroups(
        o.workgroup_size[0],
        o.workgroup_size[1],
        o.workgroup_size[2]
      );
    }), i.end();
  }
}
const we = 4 + 4 * 4 + 4 * 4 + 10 * 4 * 2, xe = {
  entries: [
    {
      binding: 0,
      visibility: GPUShaderStage.VERTEX | GPUShaderStage.FRAGMENT,
      buffer: {
        type: "uniform"
      }
    },
    {
      binding: 1,
      visibility: GPUShaderStage.FRAGMENT,
      sampler: {}
    },
    {
      // Diffuse texture
      binding: 2,
      visibility: GPUShaderStage.FRAGMENT,
      texture: {}
    },
    {
      // Specular texture
      binding: 3,
      visibility: GPUShaderStage.FRAGMENT,
      texture: {}
    },
    {
      // Normal texture
      binding: 4,
      visibility: GPUShaderStage.FRAGMENT,
      texture: {}
    },
    {
      // Model transforms
      binding: 5,
      visibility: GPUShaderStage.VERTEX,
      buffer: {
        type: "read-only-storage"
      }
    }
  ]
};
class Y extends se {
  static get_pipeline_label() {
    return "default_3d";
  }
  // Necessary to construct asynchonously
  static async construct_pipeline(t, r) {
    const { shader_manager: s } = r, i = await s.get_shader(t), { device: n } = b, { presentation_format: a } = r, o = n.createShaderModule({
      code: i
    }), c = n.createBindGroupLayout(
      xe
    ), h = n.createRenderPipeline({
      label: "default_3d",
      layout: n.createPipelineLayout({
        bindGroupLayouts: [c]
        // group 0, binding 0
      }),
      vertex: {
        module: o,
        buffers: [
          {
            arrayStride: 16 * 3,
            attributes: [
              {
                shaderLocation: 0,
                // Position
                offset: 0,
                format: "float32x4"
              },
              {
                shaderLocation: 1,
                // UV
                offset: 16,
                format: "float32x4"
              },
              {
                shaderLocation: 2,
                // Normal
                offset: 32,
                format: "float32x4"
              }
            ]
          }
        ]
      },
      fragment: {
        module: o,
        targets: [
          {
            format: a
          }
        ]
      },
      primitive: {
        topology: "triangle-list"
      },
      depthStencil: {
        format: "depth24plus",
        depthWriteEnabled: !0,
        depthCompare: "less"
      }
    }), _ = new Y(t, h);
    return _.uniform_buffer = q(
      new Float32Array(we),
      GPUBufferUsage.UNIFORM | GPUBufferUsage.COPY_DST
    ), _;
  }
  async render(t) {
    var N, P;
    const { device: r, command_encoder: s } = b, { texture_manager: i, texture_view: n, depth_texture_view: a } = t, o = Y.get_pipeline_key(this.shader_path), c = t.objects.filter(
      (k) => k.pipeline_key === o
    );
    if (c.length === 0 || !n || !a)
      return;
    const h = s.beginRenderPass({
      colorAttachments: [
        {
          view: n,
          clearValue: [0, 0, 0, 1],
          loadOp: "clear",
          storeOp: "store"
        }
      ],
      depthStencilAttachment: {
        view: a,
        depthClearValue: 1,
        stencilClearValue: 0,
        depthLoadOp: "clear",
        depthStoreOp: "store"
      }
    });
    h.setPipeline(this.gpu_pipeline);
    const _ = c[0], l = _.has_texture_diffuse() ? 1 : 0, p = _.has_texture_specular() ? 1 : 0, f = _.has_texture_normal() ? 1 : 0, g = await i.load_texture(
      _.texture_diffuse
    ), d = await i.load_texture(
      _.texture_specular
    ), y = await i.load_texture(
      _.texture_normal
    ), m = new Float32Array(
      c.flatMap((k) => [...k.get_model_matrix()])
    ), u = c.length * 16 * 4, w = ((N = this.model_transforms) == null ? void 0 : N.size) ?? 0;
    u > w ? ((P = this.model_transforms) == null || P.destroy(), this.model_transforms = q(
      m,
      GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_DST
    )) : r.queue.writeBuffer(this.model_transforms, 0, m);
    const v = new Float32Array([
      l,
      p,
      f,
      t.lights.length,
      ...t.camera.get_view_matrix(),
      ...t.camera.get_projection_matrix(),
      ...t.lights.reduce(
        (k, R) => k.concat([...R.position, 0, ...R.color]),
        []
      )
    ]);
    r.queue.writeBuffer(this.uniform_buffer, 0, v);
    const E = {
      layout: this.gpu_pipeline.getBindGroupLayout(0),
      entries: [
        {
          binding: 0,
          resource: {
            buffer: this.uniform_buffer,
            offset: 0,
            size: this.uniform_buffer.size
          }
        },
        {
          binding: 1,
          resource: r.createSampler({})
        },
        {
          // Diffuse texture
          binding: 2,
          resource: g.createView()
        },
        {
          // Specular texture
          binding: 3,
          resource: d.createView()
        },
        {
          // Normal texture
          binding: 4,
          resource: y.createView()
        },
        {
          // Model transforms
          binding: 5,
          resource: {
            buffer: this.model_transforms,
            offset: 0,
            size: this.model_transforms.size
          }
        }
      ]
    };
    h.setBindGroup(0, r.createBindGroup(E));
    const { vertex_data_gpu: T, indices_gpu: M, index_count: G } = await _.get_model_data();
    h.setVertexBuffer(0, T), h.setIndexBuffer(M, "uint32"), h.drawIndexed(
      G,
      c.length,
      0,
      0,
      0
    ), h.end();
  }
}
const be = {
  Default2DComputePipeLine: V,
  Default3DPipeLine: Y
};
class Ee {
  // TODO: Load scene from file
  // A scene will have resource managers that will load/cache resources (textures, pipelines, shaders, models etc). Unloading a scene will unload all resources cleanly.
  // In other words, resource managers should not be static, rather classes that are instantiated per scene.
  constructor(t = "", r = "canvas") {
    this.active = !0, this.current_frame = 0, this.event_system = new ge(), this.texture_manager = new me(), this.pipeline_manager = new fe(), this.shader_manager = new ue(), this.presentation_format = "rgba8unorm", this.lights = [], this.camera = new W({
      id: "-1",
      name: "camera",
      scene: this
    }), this.objects = [], this.load_scene = async (s, i) => {
      console.log(`Loading scene from: ${s}`);
      try {
        const a = await (await fetch(s)).json(), o = a.canvas || "canvas";
        if (this.canvas = document.getElementById(o), this.resize_scene(), !this.canvas)
          throw alert("Canvas not found"), new Error("Canvas not found");
        const c = this.canvas.getContext(
          "webgpu"
        );
        if (!c)
          throw alert("WebGPU not supported"), new Error("WebGPU not supported");
        c.configure({
          device: b.device,
          format: this.presentation_format,
          usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.STORAGE_BINDING
          // Added storage binding for direct output for compute shaders
        }), a["objects"].forEach((_) => {
          const { type: l, pipeline: p, ...f } = _, g = ye[l];
          if (g) {
            const d = new g({
              ...f,
              scene: this,
              pipeline: p && be[p]
            });
            d instanceof W ? i.camera = d : d instanceof te ? i.add_light(d) : i.add_object(d);
          } else
            console.error(
              `Unrecognized object type: ${l}, did you add it to the registered types file?`
            );
        });
      } catch (n) {
        console.error(`Error loading scene: ${n}`);
      }
    }, this.resize_scene = () => {
      var i;
      const s = (i = this.canvas) == null ? void 0 : i.getBoundingClientRect();
      this.canvas && s && (this.canvas.width = s.width, this.canvas.height = s.height, this.depth_texture_view = b.device.createTexture({
        label: "Depth Texture",
        size: {
          width: this.canvas.width,
          height: this.canvas.height,
          depthOrArrayLayers: 1
        },
        format: "depth24plus",
        usage: GPUTextureUsage.RENDER_ATTACHMENT
      }).createView());
    }, this.add_light = (s) => {
      this.lights.push(s);
    }, this.add_object = (s) => {
      this.objects.push(s), s.pipeline && this.pipeline_manager.register_pipeline(
        s.pipeline,
        s.shader_path,
        this
      );
    }, this.frame_start = async () => {
      var i;
      if (!this.active)
        return;
      const s = (i = this.canvas) == null ? void 0 : i.getContext(
        "webgpu"
      );
      s && (this.texture_view = s.getCurrentTexture().createView(), await this.event_system.publish(A.SCENE_FRAME_START));
    }, this.frame_end = async () => {
      this.current_frame++, await this.event_system.publish(A.SCENE_FRAME_END);
    }, this.update = async () => {
      if (b.system_input.key_press.get("q") || !this.active) {
        this.active = !1, console.log("Ending scene...");
        return;
      }
      await this.event_system.publish(A.SCENE_UPDATE_START);
      const s = [...this.objects, ...this.lights, this.camera].map(
        (i) => i.update(this)
      );
      await Promise.all(s), await this.event_system.publish(A.SCENE_UPDATE_END);
    }, this.render = async () => {
      await this.event_system.publish(A.SCENE_RENDER_START);
      const i = Array.from(
        this.pipeline_manager.registered_pipelines.values()
      ).reduce((a, o) => {
        const c = o.order;
        return a.has(c) || a.set(c, []), a.get(c).push(o), a;
      }, /* @__PURE__ */ new Map()), n = Array.from(i.keys()).sort();
      for (const a of n) {
        const c = i.get(a).map(
          (h) => h.render(this)
        );
        await Promise.all(c);
      }
      await this.event_system.publish(A.SCENE_RENDER_END);
    }, this.load_scene(t, this).then(() => {
      window.addEventListener("resize", this.resize_scene), this.event_system.subscribe(A.SCENE_FRAME_START, this.update), this.event_system.subscribe(A.SCENE_UPDATE_END, this.render), this.event_system.subscribe(A.SCENE_RENDER_END, this.frame_end);
    });
  }
}
class Te {
  constructor() {
    this.key_state = /* @__PURE__ */ new Map(), this.key_press = /* @__PURE__ */ new Map(), this.mouse_state = {
      x: 0,
      y: 0,
      dx: 0,
      dy: 0,
      left: !1,
      right: !1,
      middle: !1,
      left_click: !1,
      right_click: !1,
      middle_click: !1
    }, window.addEventListener("keydown", (t) => {
      this.key_state.set(t.key, !0);
    }), window.addEventListener("keyup", (t) => {
      this.key_state.set(t.key, !1);
    }), window.addEventListener("keypress", (t) => {
      this.key_press.set(t.key, !0);
    }), window.addEventListener("mousemove", (t) => {
      this.mouse_state.dx = t.movementX, this.mouse_state.dy = t.movementY, this.mouse_state.x = t.x, this.mouse_state.y = t.y;
    }), window.addEventListener("mousedown", (t) => {
      t.button === 0 ? this.mouse_state.left = !0 : t.button === 1 ? this.mouse_state.middle = !0 : t.button === 2 && (this.mouse_state.right = !0);
    }), window.addEventListener("mouseup", (t) => {
      t.button === 0 ? this.mouse_state.left = !1 : t.button === 1 ? this.mouse_state.middle = !1 : t.button === 2 && (this.mouse_state.right = !1);
    }), window.addEventListener("click", (t) => {
      t.button === 0 ? this.mouse_state.left_click = !0 : t.button === 1 ? this.mouse_state.middle_click = !0 : t.button === 2 && (this.mouse_state.right_click = !0);
    });
  }
  reset() {
    this.key_state.clear(), this.key_press.clear(), this.mouse_state = {
      x: 0,
      y: 0,
      dx: 0,
      dy: 0,
      left: !1,
      right: !1,
      middle: !1,
      left_click: !1,
      right_click: !1,
      middle_click: !1
    };
  }
}
const x = class x {
  static async start() {
    await x.init_webgpu();
    const t = "./system_core_config.json";
    x.config = await (await fetch(t)).json(), x.system_input = new Te(), x.scenes.push(new Ee(x.config.start_scene)), console.log("SystemCore initialized, starting event loop..."), x.event_loop();
  }
  static async init_webgpu() {
    var s;
    const t = await ((s = navigator.gpu) == null ? void 0 : s.requestAdapter()), r = await (t == null ? void 0 : t.requestDevice());
    if (!t || !r)
      throw alert("WebGPU not supported"), new Error("WebGPU not supported");
    x.adapter = t, x.device = r;
  }
  static async event_loop() {
    x.command_encoder = x.device.createCommandEncoder(), await Promise.all(this.scenes.map((t) => t.frame_start())), x.device.queue.submit([x.command_encoder.finish()]), requestAnimationFrame(() => x.event_loop()), this.system_input.reset();
  }
};
x.scenes = [];
let b = x;
export {
  b as SystemCore,
  be as registered_pipeline_types,
  ye as registered_scene_object_types
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9nbC1tYXRyaXhAMy40LjMvbm9kZV9tb2R1bGVzL2dsLW1hdHJpeC9lc20vY29tbW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dsLW1hdHJpeEAzLjQuMy9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS9tYXQ0LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dsLW1hdHJpeEAzLjQuMy9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWMzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dsLW1hdHJpeEAzLjQuMy9ub2RlX21vZHVsZXMvZ2wtbWF0cml4L2VzbS92ZWM0LmpzIiwiLi4vc3JjL3V0aWwvZ3B1X3V0aWwudHMiLCIuLi9zcmMvbW9kZWwvbW9kZWxfbG9hZGVyLnRzIiwiLi4vc3JjL3NjZW5lX29iamVjdC9zY2VuZV9vYmplY3QudHMiLCIuLi9zcmMvY2FtZXJhL2NhbWVyYS50cyIsIi4uL3NyYy9saWdodHMvbGlnaHQudHMiLCIuLi9zcmMvcGlwZWxpbmVzL3BpcGVsaW5lX21hbmFnZXIudHMiLCIuLi9zcmMvcGlwZWxpbmVzL3NoYWRlcl9tYW5hZ2VyLnRzIiwiLi4vc3JjL3N5c3RlbS9ldmVudF9lbnVtcy50cyIsIi4uL3NyYy9zeXN0ZW0vZXZlbnRfc3lzdGVtLnRzIiwiLi4vc3JjL3RleHR1cmUvdGV4dHVyZV9tYW5hZ2VyLnRzIiwiLi4vc3JjL2NvbXB1dGUvY29tcHV0ZV9vYmplY3QudHMiLCIuLi9zcmMvc2NlbmVfb2JqZWN0L3JlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzLnRzIiwiLi4vc3JjL3BpcGVsaW5lcy9waXBlbGluZS50cyIsIi4uL3NyYy9waXBlbGluZXMvZGVmYXVsdF8yZF9jb21wdXRlX3BpcGVsaW5lLnRzIiwiLi4vc3JjL3BpcGVsaW5lcy9kZWZhdWx0XzNkX3BpcGVsaW5lLnRzIiwiLi4vc3JjL3BpcGVsaW5lcy9yZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzLnRzIiwiLi4vc3JjL3NjZW5lL3NjZW5lLnRzIiwiLi4vc3JjL3N5c3RlbS9zeXN0ZW1faW5wdXQudHMiLCIuLi9zcmMvc3lzdGVtL3N5c3RlbV9jb3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29tbW9uIHV0aWxpdGllc1xuICogQG1vZHVsZSBnbE1hdHJpeFxuICovXG4vLyBDb25maWd1cmF0aW9uIENvbnN0YW50c1xuZXhwb3J0IHZhciBFUFNJTE9OID0gMC4wMDAwMDE7XG5leHBvcnQgdmFyIEFSUkFZX1RZUEUgPSB0eXBlb2YgRmxvYXQzMkFycmF5ICE9PSAndW5kZWZpbmVkJyA/IEZsb2F0MzJBcnJheSA6IEFycmF5O1xuZXhwb3J0IHZhciBSQU5ET00gPSBNYXRoLnJhbmRvbTtcbi8qKlxuICogU2V0cyB0aGUgdHlwZSBvZiBhcnJheSB1c2VkIHdoZW4gY3JlYXRpbmcgbmV3IHZlY3RvcnMgYW5kIG1hdHJpY2VzXG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXlDb25zdHJ1Y3RvciB8IEFycmF5Q29uc3RydWN0b3J9IHR5cGUgQXJyYXkgdHlwZSwgc3VjaCBhcyBGbG9hdDMyQXJyYXkgb3IgQXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0TWF0cml4QXJyYXlUeXBlKHR5cGUpIHtcbiAgQVJSQVlfVFlQRSA9IHR5cGU7XG59XG52YXIgZGVncmVlID0gTWF0aC5QSSAvIDE4MDtcbi8qKlxuICogQ29udmVydCBEZWdyZWUgVG8gUmFkaWFuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgQW5nbGUgaW4gRGVncmVlc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0b1JhZGlhbihhKSB7XG4gIHJldHVybiBhICogZGVncmVlO1xufVxuLyoqXG4gKiBUZXN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgYXJndW1lbnRzIGhhdmUgYXBwcm94aW1hdGVseSB0aGUgc2FtZSB2YWx1ZSwgd2l0aGluIGFuIGFic29sdXRlXG4gKiBvciByZWxhdGl2ZSB0b2xlcmFuY2Ugb2YgZ2xNYXRyaXguRVBTSUxPTiAoYW4gYWJzb2x1dGUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIHZhbHVlcyBsZXNzXG4gKiB0aGFuIG9yIGVxdWFsIHRvIDEuMCwgYW5kIGEgcmVsYXRpdmUgdG9sZXJhbmNlIGlzIHVzZWQgZm9yIGxhcmdlciB2YWx1ZXMpXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGEgVGhlIGZpcnN0IG51bWJlciB0byB0ZXN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IGIgVGhlIHNlY29uZCBudW1iZXIgdG8gdGVzdC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBudW1iZXJzIGFyZSBhcHByb3hpbWF0ZWx5IGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHJldHVybiBNYXRoLmFicyhhIC0gYikgPD0gRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYSksIE1hdGguYWJzKGIpKTtcbn1cbmlmICghTWF0aC5oeXBvdCkgTWF0aC5oeXBvdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHkgPSAwLFxuICAgICAgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHkgKz0gYXJndW1lbnRzW2ldICogYXJndW1lbnRzW2ldO1xuICB9XG5cbiAgcmV0dXJuIE1hdGguc3FydCh5KTtcbn07IiwiaW1wb3J0ICogYXMgZ2xNYXRyaXggZnJvbSBcIi4vY29tbW9uLmpzXCI7XG4vKipcbiAqIDR4NCBNYXRyaXg8YnI+Rm9ybWF0OiBjb2x1bW4tbWFqb3IsIHdoZW4gdHlwZWQgb3V0IGl0IGxvb2tzIGxpa2Ugcm93LW1ham9yPGJyPlRoZSBtYXRyaWNlcyBhcmUgYmVpbmcgcG9zdCBtdWx0aXBsaWVkLlxuICogQG1vZHVsZSBtYXQ0XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdDRcbiAqXG4gKiBAcmV0dXJucyB7bWF0NH0gYSBuZXcgNHg0IG1hdHJpeFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSgxNik7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzFdID0gMDtcbiAgICBvdXRbMl0gPSAwO1xuICAgIG91dFszXSA9IDA7XG4gICAgb3V0WzRdID0gMDtcbiAgICBvdXRbNl0gPSAwO1xuICAgIG91dFs3XSA9IDA7XG4gICAgb3V0WzhdID0gMDtcbiAgICBvdXRbOV0gPSAwO1xuICAgIG91dFsxMV0gPSAwO1xuICAgIG91dFsxMl0gPSAwO1xuICAgIG91dFsxM10gPSAwO1xuICAgIG91dFsxNF0gPSAwO1xuICB9XG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSBtYXRyaXggdG8gY2xvbmVcbiAqIEByZXR1cm5zIHttYXQ0fSBhIG5ldyA0eDQgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lKGEpIHtcbiAgdmFyIG91dCA9IG5ldyBnbE1hdHJpeC5BUlJBWV9UWVBFKDE2KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgb3V0WzRdID0gYVs0XTtcbiAgb3V0WzVdID0gYVs1XTtcbiAgb3V0WzZdID0gYVs2XTtcbiAgb3V0WzddID0gYVs3XTtcbiAgb3V0WzhdID0gYVs4XTtcbiAgb3V0WzldID0gYVs5XTtcbiAgb3V0WzEwXSA9IGFbMTBdO1xuICBvdXRbMTFdID0gYVsxMV07XG4gIG91dFsxMl0gPSBhWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdO1xuICBvdXRbMTRdID0gYVsxNF07XG4gIG91dFsxNV0gPSBhWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29weSB0aGUgdmFsdWVzIGZyb20gb25lIG1hdDQgdG8gYW5vdGhlclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjb3B5KG91dCwgYSkge1xuICBvdXRbMF0gPSBhWzBdO1xuICBvdXRbMV0gPSBhWzFdO1xuICBvdXRbMl0gPSBhWzJdO1xuICBvdXRbM10gPSBhWzNdO1xuICBvdXRbNF0gPSBhWzRdO1xuICBvdXRbNV0gPSBhWzVdO1xuICBvdXRbNl0gPSBhWzZdO1xuICBvdXRbN10gPSBhWzddO1xuICBvdXRbOF0gPSBhWzhdO1xuICBvdXRbOV0gPSBhWzldO1xuICBvdXRbMTBdID0gYVsxMF07XG4gIG91dFsxMV0gPSBhWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdO1xuICBvdXRbMTNdID0gYVsxM107XG4gIG91dFsxNF0gPSBhWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgbWF0NCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gQSBuZXcgbWF0NFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVmFsdWVzKG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMTYpO1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCB0aGUgY29tcG9uZW50cyBvZiBhIG1hdDQgdG8gdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge051bWJlcn0gbTAwIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDAgcG9zaXRpb24gKGluZGV4IDApXG4gKiBAcGFyYW0ge051bWJlcn0gbTAxIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDEgcG9zaXRpb24gKGluZGV4IDEpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAyIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDIgcG9zaXRpb24gKGluZGV4IDIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTAzIENvbXBvbmVudCBpbiBjb2x1bW4gMCwgcm93IDMgcG9zaXRpb24gKGluZGV4IDMpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEwIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDAgcG9zaXRpb24gKGluZGV4IDQpXG4gKiBAcGFyYW0ge051bWJlcn0gbTExIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDEgcG9zaXRpb24gKGluZGV4IDUpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEyIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDIgcG9zaXRpb24gKGluZGV4IDYpXG4gKiBAcGFyYW0ge051bWJlcn0gbTEzIENvbXBvbmVudCBpbiBjb2x1bW4gMSwgcm93IDMgcG9zaXRpb24gKGluZGV4IDcpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIwIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDAgcG9zaXRpb24gKGluZGV4IDgpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIxIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDEgcG9zaXRpb24gKGluZGV4IDkpXG4gKiBAcGFyYW0ge051bWJlcn0gbTIyIENvbXBvbmVudCBpbiBjb2x1bW4gMiwgcm93IDIgcG9zaXRpb24gKGluZGV4IDEwKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0yMyBDb21wb25lbnQgaW4gY29sdW1uIDIsIHJvdyAzIHBvc2l0aW9uIChpbmRleCAxMSlcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzAgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMCBwb3NpdGlvbiAoaW5kZXggMTIpXG4gKiBAcGFyYW0ge051bWJlcn0gbTMxIENvbXBvbmVudCBpbiBjb2x1bW4gMywgcm93IDEgcG9zaXRpb24gKGluZGV4IDEzKVxuICogQHBhcmFtIHtOdW1iZXJ9IG0zMiBDb21wb25lbnQgaW4gY29sdW1uIDMsIHJvdyAyIHBvc2l0aW9uIChpbmRleCAxNClcbiAqIEBwYXJhbSB7TnVtYmVyfSBtMzMgQ29tcG9uZW50IGluIGNvbHVtbiAzLCByb3cgMyBwb3NpdGlvbiAoaW5kZXggMTUpXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIG0wMCwgbTAxLCBtMDIsIG0wMywgbTEwLCBtMTEsIG0xMiwgbTEzLCBtMjAsIG0yMSwgbTIyLCBtMjMsIG0zMCwgbTMxLCBtMzIsIG0zMykge1xuICBvdXRbMF0gPSBtMDA7XG4gIG91dFsxXSA9IG0wMTtcbiAgb3V0WzJdID0gbTAyO1xuICBvdXRbM10gPSBtMDM7XG4gIG91dFs0XSA9IG0xMDtcbiAgb3V0WzVdID0gbTExO1xuICBvdXRbNl0gPSBtMTI7XG4gIG91dFs3XSA9IG0xMztcbiAgb3V0WzhdID0gbTIwO1xuICBvdXRbOV0gPSBtMjE7XG4gIG91dFsxMF0gPSBtMjI7XG4gIG91dFsxMV0gPSBtMjM7XG4gIG91dFsxMl0gPSBtMzA7XG4gIG91dFsxM10gPSBtMzE7XG4gIG91dFsxNF0gPSBtMzI7XG4gIG91dFsxNV0gPSBtMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFNldCBhIG1hdDQgdG8gdGhlIGlkZW50aXR5IG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG91dCkge1xuICBvdXRbMF0gPSAxO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAxO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc3Bvc2UgdGhlIHZhbHVlcyBvZiBhIG1hdDRcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIHNvdXJjZSBtYXRyaXhcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKG91dCwgYSkge1xuICAvLyBJZiB3ZSBhcmUgdHJhbnNwb3Npbmcgb3Vyc2VsdmVzIHdlIGNhbiBza2lwIGEgZmV3IHN0ZXBzIGJ1dCBoYXZlIHRvIGNhY2hlIHNvbWUgdmFsdWVzXG4gIGlmIChvdXQgPT09IGEpIHtcbiAgICB2YXIgYTAxID0gYVsxXSxcbiAgICAgICAgYTAyID0gYVsyXSxcbiAgICAgICAgYTAzID0gYVszXTtcbiAgICB2YXIgYTEyID0gYVs2XSxcbiAgICAgICAgYTEzID0gYVs3XTtcbiAgICB2YXIgYTIzID0gYVsxMV07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGEwMTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGEwMjtcbiAgICBvdXRbOV0gPSBhMTI7XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhMDM7XG4gICAgb3V0WzEzXSA9IGExMztcbiAgICBvdXRbMTRdID0gYTIzO1xuICB9IGVsc2Uge1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVs0XTtcbiAgICBvdXRbMl0gPSBhWzhdO1xuICAgIG91dFszXSA9IGFbMTJdO1xuICAgIG91dFs0XSA9IGFbMV07XG4gICAgb3V0WzVdID0gYVs1XTtcbiAgICBvdXRbNl0gPSBhWzldO1xuICAgIG91dFs3XSA9IGFbMTNdO1xuICAgIG91dFs4XSA9IGFbMl07XG4gICAgb3V0WzldID0gYVs2XTtcbiAgICBvdXRbMTBdID0gYVsxMF07XG4gICAgb3V0WzExXSA9IGFbMTRdO1xuICAgIG91dFsxMl0gPSBhWzNdO1xuICAgIG91dFsxM10gPSBhWzddO1xuICAgIG91dFsxNF0gPSBhWzExXTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBJbnZlcnRzIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgc291cmNlIG1hdHJpeFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICB2YXIgYjAwID0gYTAwICogYTExIC0gYTAxICogYTEwO1xuICB2YXIgYjAxID0gYTAwICogYTEyIC0gYTAyICogYTEwO1xuICB2YXIgYjAyID0gYTAwICogYTEzIC0gYTAzICogYTEwO1xuICB2YXIgYjAzID0gYTAxICogYTEyIC0gYTAyICogYTExO1xuICB2YXIgYjA0ID0gYTAxICogYTEzIC0gYTAzICogYTExO1xuICB2YXIgYjA1ID0gYTAyICogYTEzIC0gYTAzICogYTEyO1xuICB2YXIgYjA2ID0gYTIwICogYTMxIC0gYTIxICogYTMwO1xuICB2YXIgYjA3ID0gYTIwICogYTMyIC0gYTIyICogYTMwO1xuICB2YXIgYjA4ID0gYTIwICogYTMzIC0gYTIzICogYTMwO1xuICB2YXIgYjA5ID0gYTIxICogYTMyIC0gYTIyICogYTMxO1xuICB2YXIgYjEwID0gYTIxICogYTMzIC0gYTIzICogYTMxO1xuICB2YXIgYjExID0gYTIyICogYTMzIC0gYTIzICogYTMyOyAvLyBDYWxjdWxhdGUgdGhlIGRldGVybWluYW50XG5cbiAgdmFyIGRldCA9IGIwMCAqIGIxMSAtIGIwMSAqIGIxMCArIGIwMiAqIGIwOSArIGIwMyAqIGIwOCAtIGIwNCAqIGIwNyArIGIwNSAqIGIwNjtcblxuICBpZiAoIWRldCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGV0ID0gMS4wIC8gZGV0O1xuICBvdXRbMF0gPSAoYTExICogYjExIC0gYTEyICogYjEwICsgYTEzICogYjA5KSAqIGRldDtcbiAgb3V0WzFdID0gKGEwMiAqIGIxMCAtIGEwMSAqIGIxMSAtIGEwMyAqIGIwOSkgKiBkZXQ7XG4gIG91dFsyXSA9IChhMzEgKiBiMDUgLSBhMzIgKiBiMDQgKyBhMzMgKiBiMDMpICogZGV0O1xuICBvdXRbM10gPSAoYTIyICogYjA0IC0gYTIxICogYjA1IC0gYTIzICogYjAzKSAqIGRldDtcbiAgb3V0WzRdID0gKGExMiAqIGIwOCAtIGExMCAqIGIxMSAtIGExMyAqIGIwNykgKiBkZXQ7XG4gIG91dFs1XSA9IChhMDAgKiBiMTEgLSBhMDIgKiBiMDggKyBhMDMgKiBiMDcpICogZGV0O1xuICBvdXRbNl0gPSAoYTMyICogYjAyIC0gYTMwICogYjA1IC0gYTMzICogYjAxKSAqIGRldDtcbiAgb3V0WzddID0gKGEyMCAqIGIwNSAtIGEyMiAqIGIwMiArIGEyMyAqIGIwMSkgKiBkZXQ7XG4gIG91dFs4XSA9IChhMTAgKiBiMTAgLSBhMTEgKiBiMDggKyBhMTMgKiBiMDYpICogZGV0O1xuICBvdXRbOV0gPSAoYTAxICogYjA4IC0gYTAwICogYjEwIC0gYTAzICogYjA2KSAqIGRldDtcbiAgb3V0WzEwXSA9IChhMzAgKiBiMDQgLSBhMzEgKiBiMDIgKyBhMzMgKiBiMDApICogZGV0O1xuICBvdXRbMTFdID0gKGEyMSAqIGIwMiAtIGEyMCAqIGIwNCAtIGEyMyAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxMl0gPSAoYTExICogYjA3IC0gYTEwICogYjA5IC0gYTEyICogYjA2KSAqIGRldDtcbiAgb3V0WzEzXSA9IChhMDAgKiBiMDkgLSBhMDEgKiBiMDcgKyBhMDIgKiBiMDYpICogZGV0O1xuICBvdXRbMTRdID0gKGEzMSAqIGIwMSAtIGEzMCAqIGIwMyAtIGEzMiAqIGIwMCkgKiBkZXQ7XG4gIG91dFsxNV0gPSAoYTIwICogYjAzIC0gYTIxICogYjAxICsgYTIyICogYjAwKSAqIGRldDtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYWRqdWdhdGUgb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFkam9pbnQob3V0LCBhKSB7XG4gIHZhciBhMDAgPSBhWzBdLFxuICAgICAgYTAxID0gYVsxXSxcbiAgICAgIGEwMiA9IGFbMl0sXG4gICAgICBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XSxcbiAgICAgIGExMSA9IGFbNV0sXG4gICAgICBhMTIgPSBhWzZdLFxuICAgICAgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF0sXG4gICAgICBhMjEgPSBhWzldLFxuICAgICAgYTIyID0gYVsxMF0sXG4gICAgICBhMjMgPSBhWzExXTtcbiAgdmFyIGEzMCA9IGFbMTJdLFxuICAgICAgYTMxID0gYVsxM10sXG4gICAgICBhMzIgPSBhWzE0XSxcbiAgICAgIGEzMyA9IGFbMTVdO1xuICBvdXRbMF0gPSBhMTEgKiAoYTIyICogYTMzIC0gYTIzICogYTMyKSAtIGEyMSAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpICsgYTMxICogKGExMiAqIGEyMyAtIGExMyAqIGEyMik7XG4gIG91dFsxXSA9IC0oYTAxICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpKTtcbiAgb3V0WzJdID0gYTAxICogKGExMiAqIGEzMyAtIGExMyAqIGEzMikgLSBhMTEgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMSAqIChhMDIgKiBhMTMgLSBhMDMgKiBhMTIpO1xuICBvdXRbM10gPSAtKGEwMSAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTExICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjEgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs0XSA9IC0oYTEwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTEyICogYTMzIC0gYTEzICogYTMyKSArIGEzMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpKTtcbiAgb3V0WzVdID0gYTAwICogKGEyMiAqIGEzMyAtIGEyMyAqIGEzMikgLSBhMjAgKiAoYTAyICogYTMzIC0gYTAzICogYTMyKSArIGEzMCAqIChhMDIgKiBhMjMgLSBhMDMgKiBhMjIpO1xuICBvdXRbNl0gPSAtKGEwMCAqIChhMTIgKiBhMzMgLSBhMTMgKiBhMzIpIC0gYTEwICogKGEwMiAqIGEzMyAtIGEwMyAqIGEzMikgKyBhMzAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKSk7XG4gIG91dFs3XSA9IGEwMCAqIChhMTIgKiBhMjMgLSBhMTMgKiBhMjIpIC0gYTEwICogKGEwMiAqIGEyMyAtIGEwMyAqIGEyMikgKyBhMjAgKiAoYTAyICogYTEzIC0gYTAzICogYTEyKTtcbiAgb3V0WzhdID0gYTEwICogKGEyMSAqIGEzMyAtIGEyMyAqIGEzMSkgLSBhMjAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSArIGEzMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpO1xuICBvdXRbOV0gPSAtKGEwMCAqIChhMjEgKiBhMzMgLSBhMjMgKiBhMzEpIC0gYTIwICogKGEwMSAqIGEzMyAtIGEwMyAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTIzIC0gYTAzICogYTIxKSk7XG4gIG91dFsxMF0gPSBhMDAgKiAoYTExICogYTMzIC0gYTEzICogYTMxKSAtIGExMCAqIChhMDEgKiBhMzMgLSBhMDMgKiBhMzEpICsgYTMwICogKGEwMSAqIGExMyAtIGEwMyAqIGExMSk7XG4gIG91dFsxMV0gPSAtKGEwMCAqIChhMTEgKiBhMjMgLSBhMTMgKiBhMjEpIC0gYTEwICogKGEwMSAqIGEyMyAtIGEwMyAqIGEyMSkgKyBhMjAgKiAoYTAxICogYTEzIC0gYTAzICogYTExKSk7XG4gIG91dFsxMl0gPSAtKGExMCAqIChhMjEgKiBhMzIgLSBhMjIgKiBhMzEpIC0gYTIwICogKGExMSAqIGEzMiAtIGExMiAqIGEzMSkgKyBhMzAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSk7XG4gIG91dFsxM10gPSBhMDAgKiAoYTIxICogYTMyIC0gYTIyICogYTMxKSAtIGEyMCAqIChhMDEgKiBhMzIgLSBhMDIgKiBhMzEpICsgYTMwICogKGEwMSAqIGEyMiAtIGEwMiAqIGEyMSk7XG4gIG91dFsxNF0gPSAtKGEwMCAqIChhMTEgKiBhMzIgLSBhMTIgKiBhMzEpIC0gYTEwICogKGEwMSAqIGEzMiAtIGEwMiAqIGEzMSkgKyBhMzAgKiAoYTAxICogYTEyIC0gYTAyICogYTExKSk7XG4gIG91dFsxNV0gPSBhMDAgKiAoYTExICogYTIyIC0gYTEyICogYTIxKSAtIGExMCAqIChhMDEgKiBhMjIgLSBhMDIgKiBhMjEpICsgYTIwICogKGEwMSAqIGExMiAtIGEwMiAqIGExMSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGRldGVybWluYW50IG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBzb3VyY2UgbWF0cml4XG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkZXRlcm1pbmFudCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVybWluYW50KGEpIHtcbiAgdmFyIGEwMCA9IGFbMF0sXG4gICAgICBhMDEgPSBhWzFdLFxuICAgICAgYTAyID0gYVsyXSxcbiAgICAgIGEwMyA9IGFbM107XG4gIHZhciBhMTAgPSBhWzRdLFxuICAgICAgYTExID0gYVs1XSxcbiAgICAgIGExMiA9IGFbNl0sXG4gICAgICBhMTMgPSBhWzddO1xuICB2YXIgYTIwID0gYVs4XSxcbiAgICAgIGEyMSA9IGFbOV0sXG4gICAgICBhMjIgPSBhWzEwXSxcbiAgICAgIGEyMyA9IGFbMTFdO1xuICB2YXIgYTMwID0gYVsxMl0sXG4gICAgICBhMzEgPSBhWzEzXSxcbiAgICAgIGEzMiA9IGFbMTRdLFxuICAgICAgYTMzID0gYVsxNV07XG4gIHZhciBiMDAgPSBhMDAgKiBhMTEgLSBhMDEgKiBhMTA7XG4gIHZhciBiMDEgPSBhMDAgKiBhMTIgLSBhMDIgKiBhMTA7XG4gIHZhciBiMDIgPSBhMDAgKiBhMTMgLSBhMDMgKiBhMTA7XG4gIHZhciBiMDMgPSBhMDEgKiBhMTIgLSBhMDIgKiBhMTE7XG4gIHZhciBiMDQgPSBhMDEgKiBhMTMgLSBhMDMgKiBhMTE7XG4gIHZhciBiMDUgPSBhMDIgKiBhMTMgLSBhMDMgKiBhMTI7XG4gIHZhciBiMDYgPSBhMjAgKiBhMzEgLSBhMjEgKiBhMzA7XG4gIHZhciBiMDcgPSBhMjAgKiBhMzIgLSBhMjIgKiBhMzA7XG4gIHZhciBiMDggPSBhMjAgKiBhMzMgLSBhMjMgKiBhMzA7XG4gIHZhciBiMDkgPSBhMjEgKiBhMzIgLSBhMjIgKiBhMzE7XG4gIHZhciBiMTAgPSBhMjEgKiBhMzMgLSBhMjMgKiBhMzE7XG4gIHZhciBiMTEgPSBhMjIgKiBhMzMgLSBhMjMgKiBhMzI7IC8vIENhbGN1bGF0ZSB0aGUgZGV0ZXJtaW5hbnRcblxuICByZXR1cm4gYjAwICogYjExIC0gYjAxICogYjEwICsgYjAyICogYjA5ICsgYjAzICogYjA4IC0gYjA0ICogYjA3ICsgYjA1ICogYjA2O1xufVxuLyoqXG4gKiBNdWx0aXBsaWVzIHR3byBtYXQ0c1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICB2YXIgYTAwID0gYVswXSxcbiAgICAgIGEwMSA9IGFbMV0sXG4gICAgICBhMDIgPSBhWzJdLFxuICAgICAgYTAzID0gYVszXTtcbiAgdmFyIGExMCA9IGFbNF0sXG4gICAgICBhMTEgPSBhWzVdLFxuICAgICAgYTEyID0gYVs2XSxcbiAgICAgIGExMyA9IGFbN107XG4gIHZhciBhMjAgPSBhWzhdLFxuICAgICAgYTIxID0gYVs5XSxcbiAgICAgIGEyMiA9IGFbMTBdLFxuICAgICAgYTIzID0gYVsxMV07XG4gIHZhciBhMzAgPSBhWzEyXSxcbiAgICAgIGEzMSA9IGFbMTNdLFxuICAgICAgYTMyID0gYVsxNF0sXG4gICAgICBhMzMgPSBhWzE1XTsgLy8gQ2FjaGUgb25seSB0aGUgY3VycmVudCBsaW5lIG9mIHRoZSBzZWNvbmQgbWF0cml4XG5cbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgb3V0WzBdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxXSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbMl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzNdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls0XTtcbiAgYjEgPSBiWzVdO1xuICBiMiA9IGJbNl07XG4gIGIzID0gYls3XTtcbiAgb3V0WzRdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFs1XSA9IGIwICogYTAxICsgYjEgKiBhMTEgKyBiMiAqIGEyMSArIGIzICogYTMxO1xuICBvdXRbNl0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzddID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIGIwID0gYls4XTtcbiAgYjEgPSBiWzldO1xuICBiMiA9IGJbMTBdO1xuICBiMyA9IGJbMTFdO1xuICBvdXRbOF0gPSBiMCAqIGEwMCArIGIxICogYTEwICsgYjIgKiBhMjAgKyBiMyAqIGEzMDtcbiAgb3V0WzldID0gYjAgKiBhMDEgKyBiMSAqIGExMSArIGIyICogYTIxICsgYjMgKiBhMzE7XG4gIG91dFsxMF0gPSBiMCAqIGEwMiArIGIxICogYTEyICsgYjIgKiBhMjIgKyBiMyAqIGEzMjtcbiAgb3V0WzExXSA9IGIwICogYTAzICsgYjEgKiBhMTMgKyBiMiAqIGEyMyArIGIzICogYTMzO1xuICBiMCA9IGJbMTJdO1xuICBiMSA9IGJbMTNdO1xuICBiMiA9IGJbMTRdO1xuICBiMyA9IGJbMTVdO1xuICBvdXRbMTJdID0gYjAgKiBhMDAgKyBiMSAqIGExMCArIGIyICogYTIwICsgYjMgKiBhMzA7XG4gIG91dFsxM10gPSBiMCAqIGEwMSArIGIxICogYTExICsgYjIgKiBhMjEgKyBiMyAqIGEzMTtcbiAgb3V0WzE0XSA9IGIwICogYTAyICsgYjEgKiBhMTIgKyBiMiAqIGEyMiArIGIzICogYTMyO1xuICBvdXRbMTVdID0gYjAgKiBhMDMgKyBiMSAqIGExMyArIGIyICogYTIzICsgYjMgKiBhMzM7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zbGF0ZSBhIG1hdDQgYnkgdGhlIGdpdmVuIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHRyYW5zbGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdmVjdG9yIHRvIHRyYW5zbGF0ZSBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2xhdGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdLFxuICAgICAgeiA9IHZbMl07XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG5cbiAgaWYgKGEgPT09IG91dCkge1xuICAgIG91dFsxMl0gPSBhWzBdICogeCArIGFbNF0gKiB5ICsgYVs4XSAqIHogKyBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxXSAqIHggKyBhWzVdICogeSArIGFbOV0gKiB6ICsgYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMl0gKiB4ICsgYVs2XSAqIHkgKyBhWzEwXSAqIHogKyBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVszXSAqIHggKyBhWzddICogeSArIGFbMTFdICogeiArIGFbMTVdO1xuICB9IGVsc2Uge1xuICAgIGEwMCA9IGFbMF07XG4gICAgYTAxID0gYVsxXTtcbiAgICBhMDIgPSBhWzJdO1xuICAgIGEwMyA9IGFbM107XG4gICAgYTEwID0gYVs0XTtcbiAgICBhMTEgPSBhWzVdO1xuICAgIGExMiA9IGFbNl07XG4gICAgYTEzID0gYVs3XTtcbiAgICBhMjAgPSBhWzhdO1xuICAgIGEyMSA9IGFbOV07XG4gICAgYTIyID0gYVsxMF07XG4gICAgYTIzID0gYVsxMV07XG4gICAgb3V0WzBdID0gYTAwO1xuICAgIG91dFsxXSA9IGEwMTtcbiAgICBvdXRbMl0gPSBhMDI7XG4gICAgb3V0WzNdID0gYTAzO1xuICAgIG91dFs0XSA9IGExMDtcbiAgICBvdXRbNV0gPSBhMTE7XG4gICAgb3V0WzZdID0gYTEyO1xuICAgIG91dFs3XSA9IGExMztcbiAgICBvdXRbOF0gPSBhMjA7XG4gICAgb3V0WzldID0gYTIxO1xuICAgIG91dFsxMF0gPSBhMjI7XG4gICAgb3V0WzExXSA9IGEyMztcbiAgICBvdXRbMTJdID0gYTAwICogeCArIGExMCAqIHkgKyBhMjAgKiB6ICsgYVsxMl07XG4gICAgb3V0WzEzXSA9IGEwMSAqIHggKyBhMTEgKiB5ICsgYTIxICogeiArIGFbMTNdO1xuICAgIG91dFsxNF0gPSBhMDIgKiB4ICsgYTEyICogeSArIGEyMiAqIHogKyBhWzE0XTtcbiAgICBvdXRbMTVdID0gYTAzICogeCArIGExMyAqIHkgKyBhMjMgKiB6ICsgYVsxNV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgdGhlIG1hdDQgYnkgdGhlIGRpbWVuc2lvbnMgaW4gdGhlIGdpdmVuIHZlYzMgbm90IHVzaW5nIHZlY3Rvcml6YXRpb25cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBzY2FsZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgdGhlIHZlYzMgdG8gc2NhbGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICoqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGUob3V0LCBhLCB2KSB7XG4gIHZhciB4ID0gdlswXSxcbiAgICAgIHkgPSB2WzFdLFxuICAgICAgeiA9IHZbMl07XG4gIG91dFswXSA9IGFbMF0gKiB4O1xuICBvdXRbMV0gPSBhWzFdICogeDtcbiAgb3V0WzJdID0gYVsyXSAqIHg7XG4gIG91dFszXSA9IGFbM10gKiB4O1xuICBvdXRbNF0gPSBhWzRdICogeTtcbiAgb3V0WzVdID0gYVs1XSAqIHk7XG4gIG91dFs2XSA9IGFbNl0gKiB5O1xuICBvdXRbN10gPSBhWzddICogeTtcbiAgb3V0WzhdID0gYVs4XSAqIHo7XG4gIG91dFs5XSA9IGFbOV0gKiB6O1xuICBvdXRbMTBdID0gYVsxMF0gKiB6O1xuICBvdXRbMTFdID0gYVsxMV0gKiB6O1xuICBvdXRbMTJdID0gYVsxMl07XG4gIG91dFsxM10gPSBhWzEzXTtcbiAgb3V0WzE0XSA9IGFbMTRdO1xuICBvdXRbMTVdID0gYVsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXQ0IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIGdpdmVuIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYXhpcyB0aGUgYXhpcyB0byByb3RhdGUgYXJvdW5kXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZShvdXQsIGEsIHJhZCwgYXhpcykge1xuICB2YXIgeCA9IGF4aXNbMF0sXG4gICAgICB5ID0gYXhpc1sxXSxcbiAgICAgIHogPSBheGlzWzJdO1xuICB2YXIgbGVuID0gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbiAgdmFyIHMsIGMsIHQ7XG4gIHZhciBhMDAsIGEwMSwgYTAyLCBhMDM7XG4gIHZhciBhMTAsIGExMSwgYTEyLCBhMTM7XG4gIHZhciBhMjAsIGEyMSwgYTIyLCBhMjM7XG4gIHZhciBiMDAsIGIwMSwgYjAyO1xuICB2YXIgYjEwLCBiMTEsIGIxMjtcbiAgdmFyIGIyMCwgYjIxLCBiMjI7XG5cbiAgaWYgKGxlbiA8IGdsTWF0cml4LkVQU0lMT04pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGxlbiA9IDEgLyBsZW47XG4gIHggKj0gbGVuO1xuICB5ICo9IGxlbjtcbiAgeiAqPSBsZW47XG4gIHMgPSBNYXRoLnNpbihyYWQpO1xuICBjID0gTWF0aC5jb3MocmFkKTtcbiAgdCA9IDEgLSBjO1xuICBhMDAgPSBhWzBdO1xuICBhMDEgPSBhWzFdO1xuICBhMDIgPSBhWzJdO1xuICBhMDMgPSBhWzNdO1xuICBhMTAgPSBhWzRdO1xuICBhMTEgPSBhWzVdO1xuICBhMTIgPSBhWzZdO1xuICBhMTMgPSBhWzddO1xuICBhMjAgPSBhWzhdO1xuICBhMjEgPSBhWzldO1xuICBhMjIgPSBhWzEwXTtcbiAgYTIzID0gYVsxMV07IC8vIENvbnN0cnVjdCB0aGUgZWxlbWVudHMgb2YgdGhlIHJvdGF0aW9uIG1hdHJpeFxuXG4gIGIwMCA9IHggKiB4ICogdCArIGM7XG4gIGIwMSA9IHkgKiB4ICogdCArIHogKiBzO1xuICBiMDIgPSB6ICogeCAqIHQgLSB5ICogcztcbiAgYjEwID0geCAqIHkgKiB0IC0geiAqIHM7XG4gIGIxMSA9IHkgKiB5ICogdCArIGM7XG4gIGIxMiA9IHogKiB5ICogdCArIHggKiBzO1xuICBiMjAgPSB4ICogeiAqIHQgKyB5ICogcztcbiAgYjIxID0geSAqIHogKiB0IC0geCAqIHM7XG4gIGIyMiA9IHogKiB6ICogdCArIGM7IC8vIFBlcmZvcm0gcm90YXRpb24tc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gYTAwICogYjAwICsgYTEwICogYjAxICsgYTIwICogYjAyO1xuICBvdXRbMV0gPSBhMDEgKiBiMDAgKyBhMTEgKiBiMDEgKyBhMjEgKiBiMDI7XG4gIG91dFsyXSA9IGEwMiAqIGIwMCArIGExMiAqIGIwMSArIGEyMiAqIGIwMjtcbiAgb3V0WzNdID0gYTAzICogYjAwICsgYTEzICogYjAxICsgYTIzICogYjAyO1xuICBvdXRbNF0gPSBhMDAgKiBiMTAgKyBhMTAgKiBiMTEgKyBhMjAgKiBiMTI7XG4gIG91dFs1XSA9IGEwMSAqIGIxMCArIGExMSAqIGIxMSArIGEyMSAqIGIxMjtcbiAgb3V0WzZdID0gYTAyICogYjEwICsgYTEyICogYjExICsgYTIyICogYjEyO1xuICBvdXRbN10gPSBhMDMgKiBiMTAgKyBhMTMgKiBiMTEgKyBhMjMgKiBiMTI7XG4gIG91dFs4XSA9IGEwMCAqIGIyMCArIGExMCAqIGIyMSArIGEyMCAqIGIyMjtcbiAgb3V0WzldID0gYTAxICogYjIwICsgYTExICogYjIxICsgYTIxICogYjIyO1xuICBvdXRbMTBdID0gYTAyICogYjIwICsgYTEyICogYjIxICsgYTIyICogYjIyO1xuICBvdXRbMTFdID0gYTAzICogYjIwICsgYTEzICogYjIxICsgYTIzICogYjIyO1xuXG4gIGlmIChhICE9PSBvdXQpIHtcbiAgICAvLyBJZiB0aGUgc291cmNlIGFuZCBkZXN0aW5hdGlvbiBkaWZmZXIsIGNvcHkgdGhlIHVuY2hhbmdlZCBsYXN0IHJvd1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZXMgYSBtYXRyaXggYnkgdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBtYXRyaXggdG8gcm90YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcbiAgdmFyIGEyMCA9IGFbOF07XG4gIHZhciBhMjEgPSBhWzldO1xuICB2YXIgYTIyID0gYVsxMF07XG4gIHZhciBhMjMgPSBhWzExXTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgcm93c1xuICAgIG91dFswXSA9IGFbMF07XG4gICAgb3V0WzFdID0gYVsxXTtcbiAgICBvdXRbMl0gPSBhWzJdO1xuICAgIG91dFszXSA9IGFbM107XG4gICAgb3V0WzEyXSA9IGFbMTJdO1xuICAgIG91dFsxM10gPSBhWzEzXTtcbiAgICBvdXRbMTRdID0gYVsxNF07XG4gICAgb3V0WzE1XSA9IGFbMTVdO1xuICB9IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuXG4gIG91dFs0XSA9IGExMCAqIGMgKyBhMjAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjICsgYTIxICogcztcbiAgb3V0WzZdID0gYTEyICogYyArIGEyMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgKyBhMjMgKiBzO1xuICBvdXRbOF0gPSBhMjAgKiBjIC0gYTEwICogcztcbiAgb3V0WzldID0gYTIxICogYyAtIGExMSAqIHM7XG4gIG91dFsxMF0gPSBhMjIgKiBjIC0gYTEyICogcztcbiAgb3V0WzExXSA9IGEyMyAqIGMgLSBhMTMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGVzIGEgbWF0cml4IGJ5IHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFkgYXhpc1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTtcbiAgdmFyIGEwMCA9IGFbMF07XG4gIHZhciBhMDEgPSBhWzFdO1xuICB2YXIgYTAyID0gYVsyXTtcbiAgdmFyIGEwMyA9IGFbM107XG4gIHZhciBhMjAgPSBhWzhdO1xuICB2YXIgYTIxID0gYVs5XTtcbiAgdmFyIGEyMiA9IGFbMTBdO1xuICB2YXIgYTIzID0gYVsxMV07XG5cbiAgaWYgKGEgIT09IG91dCkge1xuICAgIC8vIElmIHRoZSBzb3VyY2UgYW5kIGRlc3RpbmF0aW9uIGRpZmZlciwgY29weSB0aGUgdW5jaGFuZ2VkIHJvd3NcbiAgICBvdXRbNF0gPSBhWzRdO1xuICAgIG91dFs1XSA9IGFbNV07XG4gICAgb3V0WzZdID0gYVs2XTtcbiAgICBvdXRbN10gPSBhWzddO1xuICAgIG91dFsxMl0gPSBhWzEyXTtcbiAgICBvdXRbMTNdID0gYVsxM107XG4gICAgb3V0WzE0XSA9IGFbMTRdO1xuICAgIG91dFsxNV0gPSBhWzE1XTtcbiAgfSAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cblxuICBvdXRbMF0gPSBhMDAgKiBjIC0gYTIwICogcztcbiAgb3V0WzFdID0gYTAxICogYyAtIGEyMSAqIHM7XG4gIG91dFsyXSA9IGEwMiAqIGMgLSBhMjIgKiBzO1xuICBvdXRbM10gPSBhMDMgKiBjIC0gYTIzICogcztcbiAgb3V0WzhdID0gYTAwICogcyArIGEyMCAqIGM7XG4gIG91dFs5XSA9IGEwMSAqIHMgKyBhMjEgKiBjO1xuICBvdXRbMTBdID0gYTAyICogcyArIGEyMiAqIGM7XG4gIG91dFsxMV0gPSBhMDMgKiBzICsgYTIzICogYztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlcyBhIG1hdHJpeCBieSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBaIGF4aXNcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byByb3RhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7XG4gIHZhciBhMDAgPSBhWzBdO1xuICB2YXIgYTAxID0gYVsxXTtcbiAgdmFyIGEwMiA9IGFbMl07XG4gIHZhciBhMDMgPSBhWzNdO1xuICB2YXIgYTEwID0gYVs0XTtcbiAgdmFyIGExMSA9IGFbNV07XG4gIHZhciBhMTIgPSBhWzZdO1xuICB2YXIgYTEzID0gYVs3XTtcblxuICBpZiAoYSAhPT0gb3V0KSB7XG4gICAgLy8gSWYgdGhlIHNvdXJjZSBhbmQgZGVzdGluYXRpb24gZGlmZmVyLCBjb3B5IHRoZSB1bmNoYW5nZWQgbGFzdCByb3dcbiAgICBvdXRbOF0gPSBhWzhdO1xuICAgIG91dFs5XSA9IGFbOV07XG4gICAgb3V0WzEwXSA9IGFbMTBdO1xuICAgIG91dFsxMV0gPSBhWzExXTtcbiAgICBvdXRbMTJdID0gYVsxMl07XG4gICAgb3V0WzEzXSA9IGFbMTNdO1xuICAgIG91dFsxNF0gPSBhWzE0XTtcbiAgICBvdXRbMTVdID0gYVsxNV07XG4gIH0gLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG5cbiAgb3V0WzBdID0gYTAwICogYyArIGExMCAqIHM7XG4gIG91dFsxXSA9IGEwMSAqIGMgKyBhMTEgKiBzO1xuICBvdXRbMl0gPSBhMDIgKiBjICsgYTEyICogcztcbiAgb3V0WzNdID0gYTAzICogYyArIGExMyAqIHM7XG4gIG91dFs0XSA9IGExMCAqIGMgLSBhMDAgKiBzO1xuICBvdXRbNV0gPSBhMTEgKiBjIC0gYTAxICogcztcbiAgb3V0WzZdID0gYTEyICogYyAtIGEwMiAqIHM7XG4gIG91dFs3XSA9IGExMyAqIGMgLSBhMDMgKiBzO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIGRlc3QsIHZlYyk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21UcmFuc2xhdGlvbihvdXQsIHYpIHtcbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IDE7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXTtcbiAgb3V0WzEzXSA9IHZbMV07XG4gIG91dFsxNF0gPSB2WzJdO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgdmVjdG9yIHNjYWxpbmdcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgZGVzdCwgdmVjKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBTY2FsaW5nIHZlY3RvclxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tU2NhbGluZyhvdXQsIHYpIHtcbiAgb3V0WzBdID0gdlswXTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gdlsxXTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IHZbMl07XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gYW5nbGUgYXJvdW5kIGEgZ2l2ZW4gYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGUoZGVzdCwgZGVzdCwgcmFkLCBheGlzKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGF4aXMgdGhlIGF4aXMgdG8gcm90YXRlIGFyb3VuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUm90YXRpb24ob3V0LCByYWQsIGF4aXMpIHtcbiAgdmFyIHggPSBheGlzWzBdLFxuICAgICAgeSA9IGF4aXNbMV0sXG4gICAgICB6ID0gYXhpc1syXTtcbiAgdmFyIGxlbiA9IE1hdGguaHlwb3QoeCwgeSwgeik7XG4gIHZhciBzLCBjLCB0O1xuXG4gIGlmIChsZW4gPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBsZW4gPSAxIC8gbGVuO1xuICB4ICo9IGxlbjtcbiAgeSAqPSBsZW47XG4gIHogKj0gbGVuO1xuICBzID0gTWF0aC5zaW4ocmFkKTtcbiAgYyA9IE1hdGguY29zKHJhZCk7XG4gIHQgPSAxIC0gYzsgLy8gUGVyZm9ybSByb3RhdGlvbi1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSB4ICogeCAqIHQgKyBjO1xuICBvdXRbMV0gPSB5ICogeCAqIHQgKyB6ICogcztcbiAgb3V0WzJdID0geiAqIHggKiB0IC0geSAqIHM7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHggKiB5ICogdCAtIHogKiBzO1xuICBvdXRbNV0gPSB5ICogeSAqIHQgKyBjO1xuICBvdXRbNl0gPSB6ICogeSAqIHQgKyB4ICogcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0geCAqIHogKiB0ICsgeSAqIHM7XG4gIG91dFs5XSA9IHkgKiB6ICogdCAtIHggKiBzO1xuICBvdXRbMTBdID0geiAqIHogKiB0ICsgYztcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gdGhlIGdpdmVuIGFuZ2xlIGFyb3VuZCB0aGUgWCBheGlzXG4gKiBUaGlzIGlzIGVxdWl2YWxlbnQgdG8gKGJ1dCBtdWNoIGZhc3RlciB0aGFuKTpcbiAqXG4gKiAgICAgbWF0NC5pZGVudGl0eShkZXN0KTtcbiAqICAgICBtYXQ0LnJvdGF0ZVgoZGVzdCwgZGVzdCwgcmFkKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIHRoZSBhbmdsZSB0byByb3RhdGUgdGhlIG1hdHJpeCBieVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tWFJvdGF0aW9uKG91dCwgcmFkKSB7XG4gIHZhciBzID0gTWF0aC5zaW4ocmFkKTtcbiAgdmFyIGMgPSBNYXRoLmNvcyhyYWQpOyAvLyBQZXJmb3JtIGF4aXMtc3BlY2lmaWMgbWF0cml4IG11bHRpcGxpY2F0aW9uXG5cbiAgb3V0WzBdID0gMTtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gYztcbiAgb3V0WzZdID0gcztcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gLXM7XG4gIG91dFsxMF0gPSBjO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IDA7XG4gIG91dFsxM10gPSAwO1xuICBvdXRbMTRdID0gMDtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSB0aGUgZ2l2ZW4gYW5nbGUgYXJvdW5kIHRoZSBZIGF4aXNcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQucm90YXRlWShkZXN0LCBkZXN0LCByYWQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgdGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgbWF0cml4IGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21ZUm90YXRpb24ob3V0LCByYWQpIHtcbiAgdmFyIHMgPSBNYXRoLnNpbihyYWQpO1xuICB2YXIgYyA9IE1hdGguY29zKHJhZCk7IC8vIFBlcmZvcm0gYXhpcy1zcGVjaWZpYyBtYXRyaXggbXVsdGlwbGljYXRpb25cblxuICBvdXRbMF0gPSBjO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAtcztcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gMTtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gcztcbiAgb3V0WzldID0gMDtcbiAgb3V0WzEwXSA9IGM7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBhbmdsZSBhcm91bmQgdGhlIFogYXhpc1xuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC5yb3RhdGVaKGRlc3QsIGRlc3QsIHJhZCk7XG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCB0aGUgYW5nbGUgdG8gcm90YXRlIHRoZSBtYXRyaXggYnlcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVpSb3RhdGlvbihvdXQsIHJhZCkge1xuICB2YXIgcyA9IE1hdGguc2luKHJhZCk7XG4gIHZhciBjID0gTWF0aC5jb3MocmFkKTsgLy8gUGVyZm9ybSBheGlzLXNwZWNpZmljIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuXG4gIG91dFswXSA9IGM7XG4gIG91dFsxXSA9IHM7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IC1zO1xuICBvdXRbNV0gPSBjO1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gMTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IDA7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIHJvdGF0aW9uIGFuZCB2ZWN0b3IgdHJhbnNsYXRpb25cbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgcmVjZWl2aW5nIG9wZXJhdGlvbiByZXN1bHRcbiAqIEBwYXJhbSB7cXVhdDR9IHEgUm90YXRpb24gcXVhdGVybmlvblxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHYgVHJhbnNsYXRpb24gdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uKG91dCwgcSwgdikge1xuICAvLyBRdWF0ZXJuaW9uIG1hdGhcbiAgdmFyIHggPSBxWzBdLFxuICAgICAgeSA9IHFbMV0sXG4gICAgICB6ID0gcVsyXSxcbiAgICAgIHcgPSBxWzNdO1xuICB2YXIgeDIgPSB4ICsgeDtcbiAgdmFyIHkyID0geSArIHk7XG4gIHZhciB6MiA9IHogKyB6O1xuICB2YXIgeHggPSB4ICogeDI7XG4gIHZhciB4eSA9IHggKiB5MjtcbiAgdmFyIHh6ID0geCAqIHoyO1xuICB2YXIgeXkgPSB5ICogeTI7XG4gIHZhciB5eiA9IHkgKiB6MjtcbiAgdmFyIHp6ID0geiAqIHoyO1xuICB2YXIgd3ggPSB3ICogeDI7XG4gIHZhciB3eSA9IHcgKiB5MjtcbiAgdmFyIHd6ID0gdyAqIHoyO1xuICBvdXRbMF0gPSAxIC0gKHl5ICsgenopO1xuICBvdXRbMV0gPSB4eSArIHd6O1xuICBvdXRbMl0gPSB4eiAtIHd5O1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB4eSAtIHd6O1xuICBvdXRbNV0gPSAxIC0gKHh4ICsgenopO1xuICBvdXRbNl0gPSB5eiArIHd4O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB4eiArIHd5O1xuICBvdXRbOV0gPSB5eiAtIHd4O1xuICBvdXRbMTBdID0gMSAtICh4eCArIHl5KTtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSB2WzBdO1xuICBvdXRbMTNdID0gdlsxXTtcbiAgb3V0WzE0XSA9IHZbMl07XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IG1hdDQgZnJvbSBhIGR1YWwgcXVhdC5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBNYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0Mn0gYSBEdWFsIFF1YXRlcm5pb25cbiAqIEByZXR1cm5zIHttYXQ0fSBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21RdWF0MihvdXQsIGEpIHtcbiAgdmFyIHRyYW5zbGF0aW9uID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIHZhciBieCA9IC1hWzBdLFxuICAgICAgYnkgPSAtYVsxXSxcbiAgICAgIGJ6ID0gLWFbMl0sXG4gICAgICBidyA9IGFbM10sXG4gICAgICBheCA9IGFbNF0sXG4gICAgICBheSA9IGFbNV0sXG4gICAgICBheiA9IGFbNl0sXG4gICAgICBhdyA9IGFbN107XG4gIHZhciBtYWduaXR1ZGUgPSBieCAqIGJ4ICsgYnkgKiBieSArIGJ6ICogYnogKyBidyAqIGJ3OyAvL09ubHkgc2NhbGUgaWYgaXQgbWFrZXMgc2Vuc2VcblxuICBpZiAobWFnbml0dWRlID4gMCkge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMiAvIG1hZ25pdHVkZTtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDIgLyBtYWduaXR1ZGU7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyIC8gbWFnbml0dWRlO1xuICB9IGVsc2Uge1xuICAgIHRyYW5zbGF0aW9uWzBdID0gKGF4ICogYncgKyBhdyAqIGJ4ICsgYXkgKiBieiAtIGF6ICogYnkpICogMjtcbiAgICB0cmFuc2xhdGlvblsxXSA9IChheSAqIGJ3ICsgYXcgKiBieSArIGF6ICogYnggLSBheCAqIGJ6KSAqIDI7XG4gICAgdHJhbnNsYXRpb25bMl0gPSAoYXogKiBidyArIGF3ICogYnogKyBheCAqIGJ5IC0gYXkgKiBieCkgKiAyO1xuICB9XG5cbiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24ob3V0LCBhLCB0cmFuc2xhdGlvbik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciBjb21wb25lbnQgb2YgYSB0cmFuc2Zvcm1hdGlvblxuICogIG1hdHJpeC4gSWYgYSBtYXRyaXggaXMgYnVpbHQgd2l0aCBmcm9tUm90YXRpb25UcmFuc2xhdGlvbixcbiAqICB0aGUgcmV0dXJuZWQgdmVjdG9yIHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgdHJhbnNsYXRpb24gY29tcG9uZW50XG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb24ob3V0LCBtYXQpIHtcbiAgb3V0WzBdID0gbWF0WzEyXTtcbiAgb3V0WzFdID0gbWF0WzEzXTtcbiAgb3V0WzJdID0gbWF0WzE0XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50IG9mIGEgdHJhbnNmb3JtYXRpb25cbiAqICBtYXRyaXguIElmIGEgbWF0cml4IGlzIGJ1aWx0IHdpdGggZnJvbVJvdGF0aW9uVHJhbnNsYXRpb25TY2FsZVxuICogIHdpdGggYSBub3JtYWxpemVkIFF1YXRlcm5pb24gcGFyYW10ZXIsIHRoZSByZXR1cm5lZCB2ZWN0b3Igd2lsbCBiZVxuICogIHRoZSBzYW1lIGFzIHRoZSBzY2FsaW5nIHZlY3RvclxuICogIG9yaWdpbmFsbHkgc3VwcGxpZWQuXG4gKiBAcGFyYW0gIHt2ZWMzfSBvdXQgVmVjdG9yIHRvIHJlY2VpdmUgc2NhbGluZyBmYWN0b3IgY29tcG9uZW50XG4gKiBAcGFyYW0gIHtSZWFkb25seU1hdDR9IG1hdCBNYXRyaXggdG8gYmUgZGVjb21wb3NlZCAoaW5wdXQpXG4gKiBAcmV0dXJuIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NhbGluZyhvdXQsIG1hdCkge1xuICB2YXIgbTExID0gbWF0WzBdO1xuICB2YXIgbTEyID0gbWF0WzFdO1xuICB2YXIgbTEzID0gbWF0WzJdO1xuICB2YXIgbTIxID0gbWF0WzRdO1xuICB2YXIgbTIyID0gbWF0WzVdO1xuICB2YXIgbTIzID0gbWF0WzZdO1xuICB2YXIgbTMxID0gbWF0WzhdO1xuICB2YXIgbTMyID0gbWF0WzldO1xuICB2YXIgbTMzID0gbWF0WzEwXTtcbiAgb3V0WzBdID0gTWF0aC5oeXBvdChtMTEsIG0xMiwgbTEzKTtcbiAgb3V0WzFdID0gTWF0aC5oeXBvdChtMjEsIG0yMiwgbTIzKTtcbiAgb3V0WzJdID0gTWF0aC5oeXBvdChtMzEsIG0zMiwgbTMzKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyBhIHF1YXRlcm5pb24gcmVwcmVzZW50aW5nIHRoZSByb3RhdGlvbmFsIGNvbXBvbmVudFxuICogIG9mIGEgdHJhbnNmb3JtYXRpb24gbWF0cml4LiBJZiBhIG1hdHJpeCBpcyBidWlsdCB3aXRoXG4gKiAgZnJvbVJvdGF0aW9uVHJhbnNsYXRpb24sIHRoZSByZXR1cm5lZCBxdWF0ZXJuaW9uIHdpbGwgYmUgdGhlXG4gKiAgc2FtZSBhcyB0aGUgcXVhdGVybmlvbiBvcmlnaW5hbGx5IHN1cHBsaWVkLlxuICogQHBhcmFtIHtxdWF0fSBvdXQgUXVhdGVybmlvbiB0byByZWNlaXZlIHRoZSByb3RhdGlvbiBjb21wb25lbnRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBtYXQgTWF0cml4IHRvIGJlIGRlY29tcG9zZWQgKGlucHV0KVxuICogQHJldHVybiB7cXVhdH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdGF0aW9uKG91dCwgbWF0KSB7XG4gIHZhciBzY2FsaW5nID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIGdldFNjYWxpbmcoc2NhbGluZywgbWF0KTtcbiAgdmFyIGlzMSA9IDEgLyBzY2FsaW5nWzBdO1xuICB2YXIgaXMyID0gMSAvIHNjYWxpbmdbMV07XG4gIHZhciBpczMgPSAxIC8gc2NhbGluZ1syXTtcbiAgdmFyIHNtMTEgPSBtYXRbMF0gKiBpczE7XG4gIHZhciBzbTEyID0gbWF0WzFdICogaXMyO1xuICB2YXIgc20xMyA9IG1hdFsyXSAqIGlzMztcbiAgdmFyIHNtMjEgPSBtYXRbNF0gKiBpczE7XG4gIHZhciBzbTIyID0gbWF0WzVdICogaXMyO1xuICB2YXIgc20yMyA9IG1hdFs2XSAqIGlzMztcbiAgdmFyIHNtMzEgPSBtYXRbOF0gKiBpczE7XG4gIHZhciBzbTMyID0gbWF0WzldICogaXMyO1xuICB2YXIgc20zMyA9IG1hdFsxMF0gKiBpczM7XG4gIHZhciB0cmFjZSA9IHNtMTEgKyBzbTIyICsgc20zMztcbiAgdmFyIFMgPSAwO1xuXG4gIGlmICh0cmFjZSA+IDApIHtcbiAgICBTID0gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKSAqIDI7XG4gICAgb3V0WzNdID0gMC4yNSAqIFM7XG4gICAgb3V0WzBdID0gKHNtMjMgLSBzbTMyKSAvIFM7XG4gICAgb3V0WzFdID0gKHNtMzEgLSBzbTEzKSAvIFM7XG4gICAgb3V0WzJdID0gKHNtMTIgLSBzbTIxKSAvIFM7XG4gIH0gZWxzZSBpZiAoc20xMSA+IHNtMjIgJiYgc20xMSA+IHNtMzMpIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMTEgLSBzbTIyIC0gc20zMykgKiAyO1xuICAgIG91dFszXSA9IChzbTIzIC0gc20zMikgLyBTO1xuICAgIG91dFswXSA9IDAuMjUgKiBTO1xuICAgIG91dFsxXSA9IChzbTEyICsgc20yMSkgLyBTO1xuICAgIG91dFsyXSA9IChzbTMxICsgc20xMykgLyBTO1xuICB9IGVsc2UgaWYgKHNtMjIgPiBzbTMzKSB7XG4gICAgUyA9IE1hdGguc3FydCgxLjAgKyBzbTIyIC0gc20xMSAtIHNtMzMpICogMjtcbiAgICBvdXRbM10gPSAoc20zMSAtIHNtMTMpIC8gUztcbiAgICBvdXRbMF0gPSAoc20xMiArIHNtMjEpIC8gUztcbiAgICBvdXRbMV0gPSAwLjI1ICogUztcbiAgICBvdXRbMl0gPSAoc20yMyArIHNtMzIpIC8gUztcbiAgfSBlbHNlIHtcbiAgICBTID0gTWF0aC5zcXJ0KDEuMCArIHNtMzMgLSBzbTExIC0gc20yMikgKiAyO1xuICAgIG91dFszXSA9IChzbTEyIC0gc20yMSkgLyBTO1xuICAgIG91dFswXSA9IChzbTMxICsgc20xMykgLyBTO1xuICAgIG91dFsxXSA9IChzbTIzICsgc20zMikgLyBTO1xuICAgIG91dFsyXSA9IDAuMjUgKiBTO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG1hdHJpeCBmcm9tIGEgcXVhdGVybmlvbiByb3RhdGlvbiwgdmVjdG9yIHRyYW5zbGF0aW9uIGFuZCB2ZWN0b3Igc2NhbGVcbiAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byAoYnV0IG11Y2ggZmFzdGVyIHRoYW4pOlxuICpcbiAqICAgICBtYXQ0LmlkZW50aXR5KGRlc3QpO1xuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIHZlYyk7XG4gKiAgICAgbGV0IHF1YXRNYXQgPSBtYXQ0LmNyZWF0ZSgpO1xuICogICAgIHF1YXQ0LnRvTWF0NChxdWF0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0Lm11bHRpcGx5KGRlc3QsIHF1YXRNYXQpO1xuICogICAgIG1hdDQuc2NhbGUoZGVzdCwgc2NhbGUpXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCByZWNlaXZpbmcgb3BlcmF0aW9uIHJlc3VsdFxuICogQHBhcmFtIHtxdWF0NH0gcSBSb3RhdGlvbiBxdWF0ZXJuaW9uXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gdiBUcmFuc2xhdGlvbiB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBzIFNjYWxpbmcgdmVjdG9yXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGUob3V0LCBxLCB2LCBzKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIG91dFswXSA9ICgxIC0gKHl5ICsgenopKSAqIHN4O1xuICBvdXRbMV0gPSAoeHkgKyB3eikgKiBzeDtcbiAgb3V0WzJdID0gKHh6IC0gd3kpICogc3g7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9ICh4eSAtIHd6KSAqIHN5O1xuICBvdXRbNV0gPSAoMSAtICh4eCArIHp6KSkgKiBzeTtcbiAgb3V0WzZdID0gKHl6ICsgd3gpICogc3k7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9ICh4eiArIHd5KSAqIHN6O1xuICBvdXRbOV0gPSAoeXogLSB3eCkgKiBzejtcbiAgb3V0WzEwXSA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IHZbMF07XG4gIG91dFsxM10gPSB2WzFdO1xuICBvdXRbMTRdID0gdlsyXTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhIHF1YXRlcm5pb24gcm90YXRpb24sIHZlY3RvciB0cmFuc2xhdGlvbiBhbmQgdmVjdG9yIHNjYWxlLCByb3RhdGluZyBhbmQgc2NhbGluZyBhcm91bmQgdGhlIGdpdmVuIG9yaWdpblxuICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIChidXQgbXVjaCBmYXN0ZXIgdGhhbik6XG4gKlxuICogICAgIG1hdDQuaWRlbnRpdHkoZGVzdCk7XG4gKiAgICAgbWF0NC50cmFuc2xhdGUoZGVzdCwgdmVjKTtcbiAqICAgICBtYXQ0LnRyYW5zbGF0ZShkZXN0LCBvcmlnaW4pO1xuICogICAgIGxldCBxdWF0TWF0ID0gbWF0NC5jcmVhdGUoKTtcbiAqICAgICBxdWF0NC50b01hdDQocXVhdCwgcXVhdE1hdCk7XG4gKiAgICAgbWF0NC5tdWx0aXBseShkZXN0LCBxdWF0TWF0KTtcbiAqICAgICBtYXQ0LnNjYWxlKGRlc3QsIHNjYWxlKVxuICogICAgIG1hdDQudHJhbnNsYXRlKGRlc3QsIG5lZ2F0aXZlT3JpZ2luKTtcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge3F1YXQ0fSBxIFJvdGF0aW9uIHF1YXRlcm5pb25cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB2IFRyYW5zbGF0aW9uIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHMgU2NhbGluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBvIFRoZSBvcmlnaW4gdmVjdG9yIGFyb3VuZCB3aGljaCB0byBzY2FsZSBhbmQgcm90YXRlXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Sb3RhdGlvblRyYW5zbGF0aW9uU2NhbGVPcmlnaW4ob3V0LCBxLCB2LCBzLCBvKSB7XG4gIC8vIFF1YXRlcm5pb24gbWF0aFxuICB2YXIgeCA9IHFbMF0sXG4gICAgICB5ID0gcVsxXSxcbiAgICAgIHogPSBxWzJdLFxuICAgICAgdyA9IHFbM107XG4gIHZhciB4MiA9IHggKyB4O1xuICB2YXIgeTIgPSB5ICsgeTtcbiAgdmFyIHoyID0geiArIHo7XG4gIHZhciB4eCA9IHggKiB4MjtcbiAgdmFyIHh5ID0geCAqIHkyO1xuICB2YXIgeHogPSB4ICogejI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHl6ID0geSAqIHoyO1xuICB2YXIgenogPSB6ICogejI7XG4gIHZhciB3eCA9IHcgKiB4MjtcbiAgdmFyIHd5ID0gdyAqIHkyO1xuICB2YXIgd3ogPSB3ICogejI7XG4gIHZhciBzeCA9IHNbMF07XG4gIHZhciBzeSA9IHNbMV07XG4gIHZhciBzeiA9IHNbMl07XG4gIHZhciBveCA9IG9bMF07XG4gIHZhciBveSA9IG9bMV07XG4gIHZhciBveiA9IG9bMl07XG4gIHZhciBvdXQwID0gKDEgLSAoeXkgKyB6eikpICogc3g7XG4gIHZhciBvdXQxID0gKHh5ICsgd3opICogc3g7XG4gIHZhciBvdXQyID0gKHh6IC0gd3kpICogc3g7XG4gIHZhciBvdXQ0ID0gKHh5IC0gd3opICogc3k7XG4gIHZhciBvdXQ1ID0gKDEgLSAoeHggKyB6eikpICogc3k7XG4gIHZhciBvdXQ2ID0gKHl6ICsgd3gpICogc3k7XG4gIHZhciBvdXQ4ID0gKHh6ICsgd3kpICogc3o7XG4gIHZhciBvdXQ5ID0gKHl6IC0gd3gpICogc3o7XG4gIHZhciBvdXQxMCA9ICgxIC0gKHh4ICsgeXkpKSAqIHN6O1xuICBvdXRbMF0gPSBvdXQwO1xuICBvdXRbMV0gPSBvdXQxO1xuICBvdXRbMl0gPSBvdXQyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSBvdXQ0O1xuICBvdXRbNV0gPSBvdXQ1O1xuICBvdXRbNl0gPSBvdXQ2O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSBvdXQ4O1xuICBvdXRbOV0gPSBvdXQ5O1xuICBvdXRbMTBdID0gb3V0MTA7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gdlswXSArIG94IC0gKG91dDAgKiBveCArIG91dDQgKiBveSArIG91dDggKiBveik7XG4gIG91dFsxM10gPSB2WzFdICsgb3kgLSAob3V0MSAqIG94ICsgb3V0NSAqIG95ICsgb3V0OSAqIG96KTtcbiAgb3V0WzE0XSA9IHZbMl0gKyBveiAtIChvdXQyICogb3ggKyBvdXQ2ICogb3kgKyBvdXQxMCAqIG96KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgYSA0eDQgbWF0cml4IGZyb20gdGhlIGdpdmVuIHF1YXRlcm5pb25cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IHJlY2VpdmluZyBvcGVyYXRpb24gcmVzdWx0XG4gKiBAcGFyYW0ge1JlYWRvbmx5UXVhdH0gcSBRdWF0ZXJuaW9uIHRvIGNyZWF0ZSBtYXRyaXggZnJvbVxuICpcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZnJvbVF1YXQob3V0LCBxKSB7XG4gIHZhciB4ID0gcVswXSxcbiAgICAgIHkgPSBxWzFdLFxuICAgICAgeiA9IHFbMl0sXG4gICAgICB3ID0gcVszXTtcbiAgdmFyIHgyID0geCArIHg7XG4gIHZhciB5MiA9IHkgKyB5O1xuICB2YXIgejIgPSB6ICsgejtcbiAgdmFyIHh4ID0geCAqIHgyO1xuICB2YXIgeXggPSB5ICogeDI7XG4gIHZhciB5eSA9IHkgKiB5MjtcbiAgdmFyIHp4ID0geiAqIHgyO1xuICB2YXIgenkgPSB6ICogeTI7XG4gIHZhciB6eiA9IHogKiB6MjtcbiAgdmFyIHd4ID0gdyAqIHgyO1xuICB2YXIgd3kgPSB3ICogeTI7XG4gIHZhciB3eiA9IHcgKiB6MjtcbiAgb3V0WzBdID0gMSAtIHl5IC0geno7XG4gIG91dFsxXSA9IHl4ICsgd3o7XG4gIG91dFsyXSA9IHp4IC0gd3k7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHl4IC0gd3o7XG4gIG91dFs1XSA9IDEgLSB4eCAtIHp6O1xuICBvdXRbNl0gPSB6eSArIHd4O1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6eCArIHd5O1xuICBvdXRbOV0gPSB6eSAtIHd4O1xuICBvdXRbMTBdID0gMSAtIHh4IC0geXk7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNF0gPSAwO1xuICBvdXRbMTVdID0gMTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgZnJ1c3R1bSBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IHJpZ2h0IFJpZ2h0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge051bWJlcn0gYm90dG9tIEJvdHRvbSBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7TnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZydXN0dW0ob3V0LCBsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIG5lYXIsIGZhcikge1xuICB2YXIgcmwgPSAxIC8gKHJpZ2h0IC0gbGVmdCk7XG4gIHZhciB0YiA9IDEgLyAodG9wIC0gYm90dG9tKTtcbiAgdmFyIG5mID0gMSAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzBdID0gbmVhciAqIDIgKiBybDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gbmVhciAqIDIgKiB0YjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gKHJpZ2h0ICsgbGVmdCkgKiBybDtcbiAgb3V0WzldID0gKHRvcCArIGJvdHRvbSkgKiB0YjtcbiAgb3V0WzEwXSA9IChmYXIgKyBuZWFyKSAqIG5mO1xuICBvdXRbMTFdID0gLTE7XG4gIG91dFsxMl0gPSAwO1xuICBvdXRbMTNdID0gMDtcbiAgb3V0WzE0XSA9IGZhciAqIG5lYXIgKiAyICogbmY7XG4gIG91dFsxNV0gPSAwO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBib3VuZHMuXG4gKiBUaGUgbmVhci9mYXIgY2xpcCBwbGFuZXMgY29ycmVzcG9uZCB0byBhIG5vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgWiByYW5nZSBvZiBbLTEsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHTC9PcGVuR0wncyBjbGlwIHZvbHVtZS5cbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZU5PKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgICBvdXRbMTRdID0gMiAqIGZhciAqIG5lYXIgKiBuZjtcbiAgfSBlbHNlIHtcbiAgICBvdXRbMTBdID0gLTE7XG4gICAgb3V0WzE0XSA9IC0yICogbmVhcjtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5wZXJzcGVjdGl2ZU5PfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBwZXJzcGVjdGl2ZSA9IHBlcnNwZWN0aXZlTk87XG4vKipcbiAqIEdlbmVyYXRlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4IHN1aXRhYmxlIGZvciBXZWJHUFUgd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cbiAqIFBhc3NpbmcgbnVsbC91bmRlZmluZWQvbm8gdmFsdWUgZm9yIGZhciB3aWxsIGdlbmVyYXRlIGluZmluaXRlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3Z5IFZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gcmFkaWFuc1xuICogQHBhcmFtIHtudW1iZXJ9IGFzcGVjdCBBc3BlY3QgcmF0aW8uIHR5cGljYWxseSB2aWV3cG9ydCB3aWR0aC9oZWlnaHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZWFyIE5lYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBmYXIgRmFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtLCBjYW4gYmUgbnVsbCBvciBJbmZpbml0eVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBwZXJzcGVjdGl2ZVpPKG91dCwgZm92eSwgYXNwZWN0LCBuZWFyLCBmYXIpIHtcbiAgdmFyIGYgPSAxLjAgLyBNYXRoLnRhbihmb3Z5IC8gMiksXG4gICAgICBuZjtcbiAgb3V0WzBdID0gZiAvIGFzcGVjdDtcbiAgb3V0WzFdID0gMDtcbiAgb3V0WzJdID0gMDtcbiAgb3V0WzNdID0gMDtcbiAgb3V0WzRdID0gMDtcbiAgb3V0WzVdID0gZjtcbiAgb3V0WzZdID0gMDtcbiAgb3V0WzddID0gMDtcbiAgb3V0WzhdID0gMDtcbiAgb3V0WzldID0gMDtcbiAgb3V0WzExXSA9IC0xO1xuICBvdXRbMTJdID0gMDtcbiAgb3V0WzEzXSA9IDA7XG4gIG91dFsxNV0gPSAwO1xuXG4gIGlmIChmYXIgIT0gbnVsbCAmJiBmYXIgIT09IEluZmluaXR5KSB7XG4gICAgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICAgIG91dFsxMF0gPSBmYXIgKiBuZjtcbiAgICBvdXRbMTRdID0gZmFyICogbmVhciAqIG5mO1xuICB9IGVsc2Uge1xuICAgIG91dFsxMF0gPSAtMTtcbiAgICBvdXRbMTRdID0gLW5lYXI7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBmaWVsZCBvZiB2aWV3LlxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBnZW5lcmF0aW5nIHByb2plY3Rpb24gbWF0cmljZXMgdG8gYmUgdXNlZFxuICogd2l0aCB0aGUgc3RpbGwgZXhwZXJpZW1lbnRhbCBXZWJWUiBBUEkuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtPYmplY3R9IGZvdiBPYmplY3QgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIHZhbHVlczogdXBEZWdyZWVzLCBkb3duRGVncmVlcywgbGVmdERlZ3JlZXMsIHJpZ2h0RGVncmVlc1xuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyc3BlY3RpdmVGcm9tRmllbGRPZlZpZXcob3V0LCBmb3YsIG5lYXIsIGZhcikge1xuICB2YXIgdXBUYW4gPSBNYXRoLnRhbihmb3YudXBEZWdyZWVzICogTWF0aC5QSSAvIDE4MC4wKTtcbiAgdmFyIGRvd25UYW4gPSBNYXRoLnRhbihmb3YuZG93bkRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgbGVmdFRhbiA9IE1hdGgudGFuKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkgLyAxODAuMCk7XG4gIHZhciByaWdodFRhbiA9IE1hdGgudGFuKGZvdi5yaWdodERlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjApO1xuICB2YXIgeFNjYWxlID0gMi4wIC8gKGxlZnRUYW4gKyByaWdodFRhbik7XG4gIHZhciB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcbiAgb3V0WzBdID0geFNjYWxlO1xuICBvdXRbMV0gPSAwLjA7XG4gIG91dFsyXSA9IDAuMDtcbiAgb3V0WzNdID0gMC4wO1xuICBvdXRbNF0gPSAwLjA7XG4gIG91dFs1XSA9IHlTY2FsZTtcbiAgb3V0WzZdID0gMC4wO1xuICBvdXRbN10gPSAwLjA7XG4gIG91dFs4XSA9IC0oKGxlZnRUYW4gLSByaWdodFRhbikgKiB4U2NhbGUgKiAwLjUpO1xuICBvdXRbOV0gPSAodXBUYW4gLSBkb3duVGFuKSAqIHlTY2FsZSAqIDAuNTtcbiAgb3V0WzEwXSA9IGZhciAvIChuZWFyIC0gZmFyKTtcbiAgb3V0WzExXSA9IC0xLjA7XG4gIG91dFsxMl0gPSAwLjA7XG4gIG91dFsxM10gPSAwLjA7XG4gIG91dFsxNF0gPSBmYXIgKiBuZWFyIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMTVdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBvcnRob2dvbmFsIHByb2plY3Rpb24gbWF0cml4IHdpdGggdGhlIGdpdmVuIGJvdW5kcy5cbiAqIFRoZSBuZWFyL2ZhciBjbGlwIHBsYW5lcyBjb3JyZXNwb25kIHRvIGEgbm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSBaIHJhbmdlIG9mIFstMSwgMV0sXG4gKiB3aGljaCBtYXRjaGVzIFdlYkdML09wZW5HTCdzIGNsaXAgdm9sdW1lLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBsZWZ0IExlZnQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodCBSaWdodCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGJvdHRvbSBCb3R0b20gYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB0b3AgVG9wIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gbmVhciBOZWFyIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gZmFyIEZhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBvcnRob05PKG91dCwgbGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCBuZWFyLCBmYXIpIHtcbiAgdmFyIGxyID0gMSAvIChsZWZ0IC0gcmlnaHQpO1xuICB2YXIgYnQgPSAxIC8gKGJvdHRvbSAtIHRvcCk7XG4gIHZhciBuZiA9IDEgLyAobmVhciAtIGZhcik7XG4gIG91dFswXSA9IC0yICogbHI7XG4gIG91dFsxXSA9IDA7XG4gIG91dFsyXSA9IDA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IDA7XG4gIG91dFs1XSA9IC0yICogYnQ7XG4gIG91dFs2XSA9IDA7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IDA7XG4gIG91dFs5XSA9IDA7XG4gIG91dFsxMF0gPSAyICogbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSAoZmFyICsgbmVhcikgKiBuZjtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgbWF0NC5vcnRob05PfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBvcnRobyA9IG9ydGhvTk87XG4vKipcbiAqIEdlbmVyYXRlcyBhIG9ydGhvZ29uYWwgcHJvamVjdGlvbiBtYXRyaXggd2l0aCB0aGUgZ2l2ZW4gYm91bmRzLlxuICogVGhlIG5lYXIvZmFyIGNsaXAgcGxhbmVzIGNvcnJlc3BvbmQgdG8gYSBub3JtYWxpemVkIGRldmljZSBjb29yZGluYXRlIFogcmFuZ2Ugb2YgWzAsIDFdLFxuICogd2hpY2ggbWF0Y2hlcyBXZWJHUFUvVnVsa2FuL0RpcmVjdFgvTWV0YWwncyBjbGlwIHZvbHVtZS5cbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCBtYXQ0IGZydXN0dW0gbWF0cml4IHdpbGwgYmUgd3JpdHRlbiBpbnRvXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdCBMZWZ0IGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gcmlnaHQgUmlnaHQgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEBwYXJhbSB7bnVtYmVyfSBib3R0b20gQm90dG9tIGJvdW5kIG9mIHRoZSBmcnVzdHVtXG4gKiBAcGFyYW0ge251bWJlcn0gdG9wIFRvcCBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IG5lYXIgTmVhciBib3VuZCBvZiB0aGUgZnJ1c3R1bVxuICogQHBhcmFtIHtudW1iZXJ9IGZhciBGYXIgYm91bmQgb2YgdGhlIGZydXN0dW1cbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb3J0aG9aTyhvdXQsIGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgbmVhciwgZmFyKSB7XG4gIHZhciBsciA9IDEgLyAobGVmdCAtIHJpZ2h0KTtcbiAgdmFyIGJ0ID0gMSAvIChib3R0b20gLSB0b3ApO1xuICB2YXIgbmYgPSAxIC8gKG5lYXIgLSBmYXIpO1xuICBvdXRbMF0gPSAtMiAqIGxyO1xuICBvdXRbMV0gPSAwO1xuICBvdXRbMl0gPSAwO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSAwO1xuICBvdXRbNV0gPSAtMiAqIGJ0O1xuICBvdXRbNl0gPSAwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSAwO1xuICBvdXRbOV0gPSAwO1xuICBvdXRbMTBdID0gbmY7XG4gIG91dFsxMV0gPSAwO1xuICBvdXRbMTJdID0gKGxlZnQgKyByaWdodCkgKiBscjtcbiAgb3V0WzEzXSA9ICh0b3AgKyBib3R0b20pICogYnQ7XG4gIG91dFsxNF0gPSBuZWFyICogbmY7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBsb29rLWF0IG1hdHJpeCB3aXRoIHRoZSBnaXZlbiBleWUgcG9zaXRpb24sIGZvY2FsIHBvaW50LCBhbmQgdXAgYXhpcy5cbiAqIElmIHlvdSB3YW50IGEgbWF0cml4IHRoYXQgYWN0dWFsbHkgbWFrZXMgYW4gb2JqZWN0IGxvb2sgYXQgYW5vdGhlciBvYmplY3QsIHlvdSBzaG91bGQgdXNlIHRhcmdldFRvIGluc3RlYWQuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgbWF0NCBmcnVzdHVtIG1hdHJpeCB3aWxsIGJlIHdyaXR0ZW4gaW50b1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGV5ZSBQb3NpdGlvbiBvZiB0aGUgdmlld2VyXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gY2VudGVyIFBvaW50IHRoZSB2aWV3ZXIgaXMgbG9va2luZyBhdFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IHVwIHZlYzMgcG9pbnRpbmcgdXBcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbG9va0F0KG91dCwgZXllLCBjZW50ZXIsIHVwKSB7XG4gIHZhciB4MCwgeDEsIHgyLCB5MCwgeTEsIHkyLCB6MCwgejEsIHoyLCBsZW47XG4gIHZhciBleWV4ID0gZXllWzBdO1xuICB2YXIgZXlleSA9IGV5ZVsxXTtcbiAgdmFyIGV5ZXogPSBleWVbMl07XG4gIHZhciB1cHggPSB1cFswXTtcbiAgdmFyIHVweSA9IHVwWzFdO1xuICB2YXIgdXB6ID0gdXBbMl07XG4gIHZhciBjZW50ZXJ4ID0gY2VudGVyWzBdO1xuICB2YXIgY2VudGVyeSA9IGNlbnRlclsxXTtcbiAgdmFyIGNlbnRlcnogPSBjZW50ZXJbMl07XG5cbiAgaWYgKE1hdGguYWJzKGV5ZXggLSBjZW50ZXJ4KSA8IGdsTWF0cml4LkVQU0lMT04gJiYgTWF0aC5hYnMoZXlleSAtIGNlbnRlcnkpIDwgZ2xNYXRyaXguRVBTSUxPTiAmJiBNYXRoLmFicyhleWV6IC0gY2VudGVyeikgPCBnbE1hdHJpeC5FUFNJTE9OKSB7XG4gICAgcmV0dXJuIGlkZW50aXR5KG91dCk7XG4gIH1cblxuICB6MCA9IGV5ZXggLSBjZW50ZXJ4O1xuICB6MSA9IGV5ZXkgLSBjZW50ZXJ5O1xuICB6MiA9IGV5ZXogLSBjZW50ZXJ6O1xuICBsZW4gPSAxIC8gTWF0aC5oeXBvdCh6MCwgejEsIHoyKTtcbiAgejAgKj0gbGVuO1xuICB6MSAqPSBsZW47XG4gIHoyICo9IGxlbjtcbiAgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxO1xuICB4MSA9IHVweiAqIHowIC0gdXB4ICogejI7XG4gIHgyID0gdXB4ICogejEgLSB1cHkgKiB6MDtcbiAgbGVuID0gTWF0aC5oeXBvdCh4MCwgeDEsIHgyKTtcblxuICBpZiAoIWxlbikge1xuICAgIHgwID0gMDtcbiAgICB4MSA9IDA7XG4gICAgeDIgPSAwO1xuICB9IGVsc2Uge1xuICAgIGxlbiA9IDEgLyBsZW47XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICB5MCA9IHoxICogeDIgLSB6MiAqIHgxO1xuICB5MSA9IHoyICogeDAgLSB6MCAqIHgyO1xuICB5MiA9IHowICogeDEgLSB6MSAqIHgwO1xuICBsZW4gPSBNYXRoLmh5cG90KHkwLCB5MSwgeTIpO1xuXG4gIGlmICghbGVuKSB7XG4gICAgeTAgPSAwO1xuICAgIHkxID0gMDtcbiAgICB5MiA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGVuID0gMSAvIGxlbjtcbiAgICB5MCAqPSBsZW47XG4gICAgeTEgKj0gbGVuO1xuICAgIHkyICo9IGxlbjtcbiAgfVxuXG4gIG91dFswXSA9IHgwO1xuICBvdXRbMV0gPSB5MDtcbiAgb3V0WzJdID0gejA7XG4gIG91dFszXSA9IDA7XG4gIG91dFs0XSA9IHgxO1xuICBvdXRbNV0gPSB5MTtcbiAgb3V0WzZdID0gejE7XG4gIG91dFs3XSA9IDA7XG4gIG91dFs4XSA9IHgyO1xuICBvdXRbOV0gPSB5MjtcbiAgb3V0WzEwXSA9IHoyO1xuICBvdXRbMTFdID0gMDtcbiAgb3V0WzEyXSA9IC0oeDAgKiBleWV4ICsgeDEgKiBleWV5ICsgeDIgKiBleWV6KTtcbiAgb3V0WzEzXSA9IC0oeTAgKiBleWV4ICsgeTEgKiBleWV5ICsgeTIgKiBleWV6KTtcbiAgb3V0WzE0XSA9IC0oejAgKiBleWV4ICsgejEgKiBleWV5ICsgejIgKiBleWV6KTtcbiAgb3V0WzE1XSA9IDE7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIG1hdHJpeCB0aGF0IG1ha2VzIHNvbWV0aGluZyBsb29rIGF0IHNvbWV0aGluZyBlbHNlLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IG1hdDQgZnJ1c3R1bSBtYXRyaXggd2lsbCBiZSB3cml0dGVuIGludG9cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBleWUgUG9zaXRpb24gb2YgdGhlIHZpZXdlclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGNlbnRlciBQb2ludCB0aGUgdmlld2VyIGlzIGxvb2tpbmcgYXRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSB1cCB2ZWMzIHBvaW50aW5nIHVwXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRhcmdldFRvKG91dCwgZXllLCB0YXJnZXQsIHVwKSB7XG4gIHZhciBleWV4ID0gZXllWzBdLFxuICAgICAgZXlleSA9IGV5ZVsxXSxcbiAgICAgIGV5ZXogPSBleWVbMl0sXG4gICAgICB1cHggPSB1cFswXSxcbiAgICAgIHVweSA9IHVwWzFdLFxuICAgICAgdXB6ID0gdXBbMl07XG4gIHZhciB6MCA9IGV5ZXggLSB0YXJnZXRbMF0sXG4gICAgICB6MSA9IGV5ZXkgLSB0YXJnZXRbMV0sXG4gICAgICB6MiA9IGV5ZXogLSB0YXJnZXRbMl07XG4gIHZhciBsZW4gPSB6MCAqIHowICsgejEgKiB6MSArIHoyICogejI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgejAgKj0gbGVuO1xuICAgIHoxICo9IGxlbjtcbiAgICB6MiAqPSBsZW47XG4gIH1cblxuICB2YXIgeDAgPSB1cHkgKiB6MiAtIHVweiAqIHoxLFxuICAgICAgeDEgPSB1cHogKiB6MCAtIHVweCAqIHoyLFxuICAgICAgeDIgPSB1cHggKiB6MSAtIHVweSAqIHowO1xuICBsZW4gPSB4MCAqIHgwICsgeDEgKiB4MSArIHgyICogeDI7XG5cbiAgaWYgKGxlbiA+IDApIHtcbiAgICBsZW4gPSAxIC8gTWF0aC5zcXJ0KGxlbik7XG4gICAgeDAgKj0gbGVuO1xuICAgIHgxICo9IGxlbjtcbiAgICB4MiAqPSBsZW47XG4gIH1cblxuICBvdXRbMF0gPSB4MDtcbiAgb3V0WzFdID0geDE7XG4gIG91dFsyXSA9IHgyO1xuICBvdXRbM10gPSAwO1xuICBvdXRbNF0gPSB6MSAqIHgyIC0gejIgKiB4MTtcbiAgb3V0WzVdID0gejIgKiB4MCAtIHowICogeDI7XG4gIG91dFs2XSA9IHowICogeDEgLSB6MSAqIHgwO1xuICBvdXRbN10gPSAwO1xuICBvdXRbOF0gPSB6MDtcbiAgb3V0WzldID0gejE7XG4gIG91dFsxMF0gPSB6MjtcbiAgb3V0WzExXSA9IDA7XG4gIG91dFsxMl0gPSBleWV4O1xuICBvdXRbMTNdID0gZXlleTtcbiAgb3V0WzE0XSA9IGV5ZXo7XG4gIG91dFsxNV0gPSAxO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbWF0NFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIG1hdHJpeCB0byByZXByZXNlbnQgYXMgYSBzdHJpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWF0cml4XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cihhKSB7XG4gIHJldHVybiBcIm1hdDQoXCIgKyBhWzBdICsgXCIsIFwiICsgYVsxXSArIFwiLCBcIiArIGFbMl0gKyBcIiwgXCIgKyBhWzNdICsgXCIsIFwiICsgYVs0XSArIFwiLCBcIiArIGFbNV0gKyBcIiwgXCIgKyBhWzZdICsgXCIsIFwiICsgYVs3XSArIFwiLCBcIiArIGFbOF0gKyBcIiwgXCIgKyBhWzldICsgXCIsIFwiICsgYVsxMF0gKyBcIiwgXCIgKyBhWzExXSArIFwiLCBcIiArIGFbMTJdICsgXCIsIFwiICsgYVsxM10gKyBcIiwgXCIgKyBhWzE0XSArIFwiLCBcIiArIGFbMTVdICsgXCIpXCI7XG59XG4vKipcbiAqIFJldHVybnMgRnJvYmVuaXVzIG5vcm0gb2YgYSBtYXQ0XG4gKlxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIG1hdHJpeCB0byBjYWxjdWxhdGUgRnJvYmVuaXVzIG5vcm0gb2ZcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IEZyb2Jlbml1cyBub3JtXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb2IoYSkge1xuICByZXR1cm4gTWF0aC5oeXBvdChhWzBdLCBhWzFdLCBhWzJdLCBhWzNdLCBhWzRdLCBhWzVdLCBhWzZdLCBhWzddLCBhWzhdLCBhWzldLCBhWzEwXSwgYVsxMV0sIGFbMTJdLCBhWzEzXSwgYVsxNF0sIGFbMTVdKTtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0NCdzXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHttYXQ0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF07XG4gIG91dFs1XSA9IGFbNV0gKyBiWzVdO1xuICBvdXRbNl0gPSBhWzZdICsgYls2XTtcbiAgb3V0WzddID0gYVs3XSArIGJbN107XG4gIG91dFs4XSA9IGFbOF0gKyBiWzhdO1xuICBvdXRbOV0gPSBhWzldICsgYls5XTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF07XG4gIG91dFsxMV0gPSBhWzExXSArIGJbMTFdO1xuICBvdXRbMTJdID0gYVsxMl0gKyBiWzEyXTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM107XG4gIG91dFsxNF0gPSBhWzE0XSArIGJbMTRdO1xuICBvdXRbMTVdID0gYVsxNV0gKyBiWzE1XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIG1hdHJpeCBiIGZyb20gbWF0cml4IGFcbiAqXG4gKiBAcGFyYW0ge21hdDR9IG91dCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge21hdDR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIG91dFs0XSA9IGFbNF0gLSBiWzRdO1xuICBvdXRbNV0gPSBhWzVdIC0gYls1XTtcbiAgb3V0WzZdID0gYVs2XSAtIGJbNl07XG4gIG91dFs3XSA9IGFbN10gLSBiWzddO1xuICBvdXRbOF0gPSBhWzhdIC0gYls4XTtcbiAgb3V0WzldID0gYVs5XSAtIGJbOV07XG4gIG91dFsxMF0gPSBhWzEwXSAtIGJbMTBdO1xuICBvdXRbMTFdID0gYVsxMV0gLSBiWzExXTtcbiAgb3V0WzEyXSA9IGFbMTJdIC0gYlsxMl07XG4gIG91dFsxM10gPSBhWzEzXSAtIGJbMTNdO1xuICBvdXRbMTRdID0gYVsxNF0gLSBiWzE0XTtcbiAgb3V0WzE1XSA9IGFbMTVdIC0gYlsxNV07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGx5IGVhY2ggZWxlbWVudCBvZiB0aGUgbWF0cml4IGJ5IGEgc2NhbGFyLlxuICpcbiAqIEBwYXJhbSB7bWF0NH0gb3V0IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYSB0aGUgbWF0cml4IHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIG1hdHJpeCdzIGVsZW1lbnRzIGJ5XG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYjtcbiAgb3V0WzFdID0gYVsxXSAqIGI7XG4gIG91dFsyXSA9IGFbMl0gKiBiO1xuICBvdXRbM10gPSBhWzNdICogYjtcbiAgb3V0WzRdID0gYVs0XSAqIGI7XG4gIG91dFs1XSA9IGFbNV0gKiBiO1xuICBvdXRbNl0gPSBhWzZdICogYjtcbiAgb3V0WzddID0gYVs3XSAqIGI7XG4gIG91dFs4XSA9IGFbOF0gKiBiO1xuICBvdXRbOV0gPSBhWzldICogYjtcbiAgb3V0WzEwXSA9IGFbMTBdICogYjtcbiAgb3V0WzExXSA9IGFbMTFdICogYjtcbiAgb3V0WzEyXSA9IGFbMTJdICogYjtcbiAgb3V0WzEzXSA9IGFbMTNdICogYjtcbiAgb3V0WzE0XSA9IGFbMTRdICogYjtcbiAgb3V0WzE1XSA9IGFbMTVdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gbWF0NCdzIGFmdGVyIG11bHRpcGx5aW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgc2Vjb25kIG9wZXJhbmQgYnkgYSBzY2FsYXIgdmFsdWUuXG4gKlxuICogQHBhcmFtIHttYXQ0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIncyBlbGVtZW50cyBieSBiZWZvcmUgYWRkaW5nXG4gKiBAcmV0dXJucyB7bWF0NH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5U2NhbGFyQW5kQWRkKG91dCwgYSwgYiwgc2NhbGUpIHtcbiAgb3V0WzBdID0gYVswXSArIGJbMF0gKiBzY2FsZTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV0gKiBzY2FsZTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl0gKiBzY2FsZTtcbiAgb3V0WzNdID0gYVszXSArIGJbM10gKiBzY2FsZTtcbiAgb3V0WzRdID0gYVs0XSArIGJbNF0gKiBzY2FsZTtcbiAgb3V0WzVdID0gYVs1XSArIGJbNV0gKiBzY2FsZTtcbiAgb3V0WzZdID0gYVs2XSArIGJbNl0gKiBzY2FsZTtcbiAgb3V0WzddID0gYVs3XSArIGJbN10gKiBzY2FsZTtcbiAgb3V0WzhdID0gYVs4XSArIGJbOF0gKiBzY2FsZTtcbiAgb3V0WzldID0gYVs5XSArIGJbOV0gKiBzY2FsZTtcbiAgb3V0WzEwXSA9IGFbMTBdICsgYlsxMF0gKiBzY2FsZTtcbiAgb3V0WzExXSA9IGFbMTFdICsgYlsxMV0gKiBzY2FsZTtcbiAgb3V0WzEyXSA9IGFbMTJdICsgYlsxMl0gKiBzY2FsZTtcbiAgb3V0WzEzXSA9IGFbMTNdICsgYlsxM10gKiBzY2FsZTtcbiAgb3V0WzE0XSA9IGFbMTRdICsgYlsxNF0gKiBzY2FsZTtcbiAgb3V0WzE1XSA9IGFbMTVdICsgYlsxNV0gKiBzY2FsZTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBleGFjdGx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uICh3aGVuIGNvbXBhcmVkIHdpdGggPT09KVxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXSAmJiBhWzRdID09PSBiWzRdICYmIGFbNV0gPT09IGJbNV0gJiYgYVs2XSA9PT0gYls2XSAmJiBhWzddID09PSBiWzddICYmIGFbOF0gPT09IGJbOF0gJiYgYVs5XSA9PT0gYls5XSAmJiBhWzEwXSA9PT0gYlsxMF0gJiYgYVsxMV0gPT09IGJbMTFdICYmIGFbMTJdID09PSBiWzEyXSAmJiBhWzEzXSA9PT0gYlsxM10gJiYgYVsxNF0gPT09IGJbMTRdICYmIGFbMTVdID09PSBiWzE1XTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgbWF0cmljZXMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlNYXQ0fSBhIFRoZSBmaXJzdCBtYXRyaXguXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gYiBUaGUgc2Vjb25kIG1hdHJpeC5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBtYXRyaWNlcyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKGEsIGIpIHtcbiAgdmFyIGEwID0gYVswXSxcbiAgICAgIGExID0gYVsxXSxcbiAgICAgIGEyID0gYVsyXSxcbiAgICAgIGEzID0gYVszXTtcbiAgdmFyIGE0ID0gYVs0XSxcbiAgICAgIGE1ID0gYVs1XSxcbiAgICAgIGE2ID0gYVs2XSxcbiAgICAgIGE3ID0gYVs3XTtcbiAgdmFyIGE4ID0gYVs4XSxcbiAgICAgIGE5ID0gYVs5XSxcbiAgICAgIGExMCA9IGFbMTBdLFxuICAgICAgYTExID0gYVsxMV07XG4gIHZhciBhMTIgPSBhWzEyXSxcbiAgICAgIGExMyA9IGFbMTNdLFxuICAgICAgYTE0ID0gYVsxNF0sXG4gICAgICBhMTUgPSBhWzE1XTtcbiAgdmFyIGIwID0gYlswXSxcbiAgICAgIGIxID0gYlsxXSxcbiAgICAgIGIyID0gYlsyXSxcbiAgICAgIGIzID0gYlszXTtcbiAgdmFyIGI0ID0gYls0XSxcbiAgICAgIGI1ID0gYls1XSxcbiAgICAgIGI2ID0gYls2XSxcbiAgICAgIGI3ID0gYls3XTtcbiAgdmFyIGI4ID0gYls4XSxcbiAgICAgIGI5ID0gYls5XSxcbiAgICAgIGIxMCA9IGJbMTBdLFxuICAgICAgYjExID0gYlsxMV07XG4gIHZhciBiMTIgPSBiWzEyXSxcbiAgICAgIGIxMyA9IGJbMTNdLFxuICAgICAgYjE0ID0gYlsxNF0sXG4gICAgICBiMTUgPSBiWzE1XTtcbiAgcmV0dXJuIE1hdGguYWJzKGEwIC0gYjApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEwKSwgTWF0aC5hYnMoYjApKSAmJiBNYXRoLmFicyhhMSAtIGIxKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMSksIE1hdGguYWJzKGIxKSkgJiYgTWF0aC5hYnMoYTIgLSBiMikgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTIpLCBNYXRoLmFicyhiMikpICYmIE1hdGguYWJzKGEzIC0gYjMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEzKSwgTWF0aC5hYnMoYjMpKSAmJiBNYXRoLmFicyhhNCAtIGI0KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNCksIE1hdGguYWJzKGI0KSkgJiYgTWF0aC5hYnMoYTUgLSBiNSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTUpLCBNYXRoLmFicyhiNSkpICYmIE1hdGguYWJzKGE2IC0gYjYpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE2KSwgTWF0aC5hYnMoYjYpKSAmJiBNYXRoLmFicyhhNyAtIGI3KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhNyksIE1hdGguYWJzKGI3KSkgJiYgTWF0aC5hYnMoYTggLSBiOCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTgpLCBNYXRoLmFicyhiOCkpICYmIE1hdGguYWJzKGE5IC0gYjkpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGE5KSwgTWF0aC5hYnMoYjkpKSAmJiBNYXRoLmFicyhhMTAgLSBiMTApIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMCksIE1hdGguYWJzKGIxMCkpICYmIE1hdGguYWJzKGExMSAtIGIxMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTExKSwgTWF0aC5hYnMoYjExKSkgJiYgTWF0aC5hYnMoYTEyIC0gYjEyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTIpLCBNYXRoLmFicyhiMTIpKSAmJiBNYXRoLmFicyhhMTMgLSBiMTMpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExMyksIE1hdGguYWJzKGIxMykpICYmIE1hdGguYWJzKGExNCAtIGIxNCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTE0KSwgTWF0aC5hYnMoYjE0KSkgJiYgTWF0aC5hYnMoYTE1IC0gYjE1KSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMTUpLCBNYXRoLmFicyhiMTUpKTtcbn1cbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0Lm11bHRpcGx5fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBtdWwgPSBtdWx0aXBseTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayBtYXQ0LnN1YnRyYWN0fVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBzdWIgPSBzdWJ0cmFjdDsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogMyBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjM1xuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjM1xuICpcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHZlYzMgaW5pdGlhbGl6ZWQgd2l0aCB2YWx1ZXMgZnJvbSBhbiBleGlzdGluZyB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2xvbmVcbiAqIEByZXR1cm5zIHt2ZWMzfSBhIG5ldyAzRCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoYSkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IGFbMF07XG4gIG91dFsxXSA9IGFbMV07XG4gIG91dFsyXSA9IGFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gbGVuZ3RoIG9mIGFcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjMyBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiB2YWx1ZXNcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geCBYIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB6IFogY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjM30gYSBuZXcgM0QgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeikge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoMyk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWMzIHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjMyB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG91dCwgeCwgeSwgeikge1xuICBvdXRbMF0gPSB4O1xuICBvdXRbMV0gPSB5O1xuICBvdXRbMl0gPSB6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBBZGRzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBhZGQob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gYVsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFN1YnRyYWN0cyB2ZWN0b3IgYiBmcm9tIHZlY3RvciBhXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3Qob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLSBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC0gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAtIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBEaXZpZGVzIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGUob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IGFbMF0gLyBiWzBdO1xuICBvdXRbMV0gPSBhWzFdIC8gYlsxXTtcbiAgb3V0WzJdID0gYVsyXSAvIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguY2VpbCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNlaWxcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY2VpbChvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5jZWlsKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmNlaWwoYVsxXSk7XG4gIG91dFsyXSA9IE1hdGguY2VpbChhWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5mbG9vciB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGZsb29yXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmZsb29yKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLmZsb29yKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLmZsb29yKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaW5pbXVtIG9mIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBtaW4ob3V0LCBhLCBiKSB7XG4gIG91dFswXSA9IE1hdGgubWluKGFbMF0sIGJbMF0pO1xuICBvdXRbMV0gPSBNYXRoLm1pbihhWzFdLCBiWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5taW4oYVsyXSwgYlsyXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG1heGltdW0gb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG1heChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gTWF0aC5tYXgoYVswXSwgYlswXSk7XG4gIG91dFsxXSA9IE1hdGgubWF4KGFbMV0sIGJbMV0pO1xuICBvdXRbMl0gPSBNYXRoLm1heChhWzJdLCBiWzJdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWMzIGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjMydzIGFmdGVyIHNjYWxpbmcgdGhlIHNlY29uZCBvcGVyYW5kIGJ5IGEgc2NhbGFyIHZhbHVlXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZSB0aGUgYW1vdW50IHRvIHNjYWxlIGIgYnkgYmVmb3JlIGFkZGluZ1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZUFuZEFkZChvdXQsIGEsIGIsIHNjYWxlKSB7XG4gIG91dFswXSA9IGFbMF0gKyBiWzBdICogc2NhbGU7XG4gIG91dFsxXSA9IGFbMV0gKyBiWzFdICogc2NhbGU7XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGV1Y2xpZGlhbiBkaXN0YW5jZSBiZXR3ZWVuIHR3byB2ZWMzJ3NcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGFuY2UoYSwgYikge1xuICB2YXIgeCA9IGJbMF0gLSBhWzBdO1xuICB2YXIgeSA9IGJbMV0gLSBhWzFdO1xuICB2YXIgeiA9IGJbMl0gLSBhWzJdO1xuICByZXR1cm4gTWF0aC5oeXBvdCh4LCB5LCB6KTtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjMydzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3F1YXJlZERpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3F1YXJlZCBsZW5ndGggb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIGNhbGN1bGF0ZSBzcXVhcmVkIGxlbmd0aCBvZlxuICogQHJldHVybnMge051bWJlcn0gc3F1YXJlZCBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzcXVhcmVkTGVuZ3RoKGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzNcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGludmVyc2Ugb2YgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHZlY3RvciB0byBpbnZlcnRcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZShvdXQsIGEpIHtcbiAgb3V0WzBdID0gMS4wIC8gYVswXTtcbiAgb3V0WzFdID0gMS4wIC8gYVsxXTtcbiAgb3V0WzJdID0gMS4wIC8gYVsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTm9ybWFsaXplIGEgdmVjM1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB2ZWN0b3IgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShvdXQsIGEpIHtcbiAgdmFyIHggPSBhWzBdO1xuICB2YXIgeSA9IGFbMV07XG4gIHZhciB6ID0gYVsyXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogejtcblxuICBpZiAobGVuID4gMCkge1xuICAgIC8vVE9ETzogZXZhbHVhdGUgdXNlIG9mIGdsbV9pbnZzcXJ0IGhlcmU/XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0gYVswXSAqIGxlbjtcbiAgb3V0WzFdID0gYVsxXSAqIGxlbjtcbiAgb3V0WzJdID0gYVsyXSAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGNyb3NzIHByb2R1Y3Qgb2YgdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzKG91dCwgYSwgYikge1xuICB2YXIgYXggPSBhWzBdLFxuICAgICAgYXkgPSBhWzFdLFxuICAgICAgYXogPSBhWzJdO1xuICB2YXIgYnggPSBiWzBdLFxuICAgICAgYnkgPSBiWzFdLFxuICAgICAgYnogPSBiWzJdO1xuICBvdXRbMF0gPSBheSAqIGJ6IC0gYXogKiBieTtcbiAgb3V0WzFdID0gYXogKiBieCAtIGF4ICogYno7XG4gIG91dFsyXSA9IGF4ICogYnkgLSBheSAqIGJ4O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzMnc1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgaGVybWl0ZSBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gaGVybWl0ZShvdXQsIGEsIGIsIGMsIGQsIHQpIHtcbiAgdmFyIGZhY3RvclRpbWVzMiA9IHQgKiB0O1xuICB2YXIgZmFjdG9yMSA9IGZhY3RvclRpbWVzMiAqICgyICogdCAtIDMpICsgMTtcbiAgdmFyIGZhY3RvcjIgPSBmYWN0b3JUaW1lczIgKiAodCAtIDIpICsgdDtcbiAgdmFyIGZhY3RvcjMgPSBmYWN0b3JUaW1lczIgKiAodCAtIDEpO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqICgzIC0gMiAqIHQpO1xuICBvdXRbMF0gPSBhWzBdICogZmFjdG9yMSArIGJbMF0gKiBmYWN0b3IyICsgY1swXSAqIGZhY3RvcjMgKyBkWzBdICogZmFjdG9yNDtcbiAgb3V0WzFdID0gYVsxXSAqIGZhY3RvcjEgKyBiWzFdICogZmFjdG9yMiArIGNbMV0gKiBmYWN0b3IzICsgZFsxXSAqIGZhY3RvcjQ7XG4gIG91dFsyXSA9IGFbMl0gKiBmYWN0b3IxICsgYlsyXSAqIGZhY3RvcjIgKyBjWzJdICogZmFjdG9yMyArIGRbMl0gKiBmYWN0b3I0O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGJlemllciBpbnRlcnBvbGF0aW9uIHdpdGggdHdvIGNvbnRyb2wgcG9pbnRzXG4gKlxuICogQHBhcmFtIHt2ZWMzfSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBjIHRoZSB0aGlyZCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gZCB0aGUgZm91cnRoIG9wZXJhbmRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0IGludGVycG9sYXRpb24gYW1vdW50LCBpbiB0aGUgcmFuZ2UgWzAtMV0sIGJldHdlZW4gdGhlIHR3byBpbnB1dHNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYmV6aWVyKG91dCwgYSwgYiwgYywgZCwgdCkge1xuICB2YXIgaW52ZXJzZUZhY3RvciA9IDEgLSB0O1xuICB2YXIgaW52ZXJzZUZhY3RvclRpbWVzVHdvID0gaW52ZXJzZUZhY3RvciAqIGludmVyc2VGYWN0b3I7XG4gIHZhciBmYWN0b3JUaW1lczIgPSB0ICogdDtcbiAgdmFyIGZhY3RvcjEgPSBpbnZlcnNlRmFjdG9yVGltZXNUd28gKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yMiA9IDMgKiB0ICogaW52ZXJzZUZhY3RvclRpbWVzVHdvO1xuICB2YXIgZmFjdG9yMyA9IDMgKiBmYWN0b3JUaW1lczIgKiBpbnZlcnNlRmFjdG9yO1xuICB2YXIgZmFjdG9yNCA9IGZhY3RvclRpbWVzMiAqIHQ7XG4gIG91dFswXSA9IGFbMF0gKiBmYWN0b3IxICsgYlswXSAqIGZhY3RvcjIgKyBjWzBdICogZmFjdG9yMyArIGRbMF0gKiBmYWN0b3I0O1xuICBvdXRbMV0gPSBhWzFdICogZmFjdG9yMSArIGJbMV0gKiBmYWN0b3IyICsgY1sxXSAqIGZhY3RvcjMgKyBkWzFdICogZmFjdG9yNDtcbiAgb3V0WzJdID0gYVsyXSAqIGZhY3RvcjEgKyBiWzJdICogZmFjdG9yMiArIGNbMl0gKiBmYWN0b3IzICsgZFsyXSAqIGZhY3RvcjQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBhIHJhbmRvbSB2ZWN0b3Igd2l0aCB0aGUgZ2l2ZW4gc2NhbGVcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtOdW1iZXJ9IFtzY2FsZV0gTGVuZ3RoIG9mIHRoZSByZXN1bHRpbmcgdmVjdG9yLiBJZiBvbW1pdHRlZCwgYSB1bml0IHZlY3RvciB3aWxsIGJlIHJldHVybmVkXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbShvdXQsIHNjYWxlKSB7XG4gIHNjYWxlID0gc2NhbGUgfHwgMS4wO1xuICB2YXIgciA9IGdsTWF0cml4LlJBTkRPTSgpICogMi4wICogTWF0aC5QSTtcbiAgdmFyIHogPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIuMCAtIDEuMDtcbiAgdmFyIHpTY2FsZSA9IE1hdGguc3FydCgxLjAgLSB6ICogeikgKiBzY2FsZTtcbiAgb3V0WzBdID0gTWF0aC5jb3MocikgKiB6U2NhbGU7XG4gIG91dFsxXSA9IE1hdGguc2luKHIpICogelNjYWxlO1xuICBvdXRbMl0gPSB6ICogc2NhbGU7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzMgd2l0aCBhIG1hdDQuXG4gKiA0dGggdmVjdG9yIGNvbXBvbmVudCBpcyBpbXBsaWNpdGx5ICcxJ1xuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDR9IG0gbWF0cml4IHRvIHRyYW5zZm9ybSB3aXRoXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybU1hdDQob3V0LCBhLCBtKSB7XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07XG4gIHZhciB3ID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdO1xuICB3ID0gdyB8fCAxLjA7XG4gIG91dFswXSA9IChtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSkgLyB3O1xuICBvdXRbMV0gPSAobVsxXSAqIHggKyBtWzVdICogeSArIG1bOV0gKiB6ICsgbVsxM10pIC8gdztcbiAgb3V0WzJdID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgLyB3O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBUcmFuc2Zvcm1zIHRoZSB2ZWMzIHdpdGggYSBtYXQzLlxuICpcbiAqIEBwYXJhbSB7dmVjM30gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seU1hdDN9IG0gdGhlIDN4MyBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0MyhvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXTtcbiAgb3V0WzBdID0geCAqIG1bMF0gKyB5ICogbVszXSArIHogKiBtWzZdO1xuICBvdXRbMV0gPSB4ICogbVsxXSArIHkgKiBtWzRdICsgeiAqIG1bN107XG4gIG91dFsyXSA9IHggKiBtWzJdICsgeSAqIG1bNV0gKyB6ICogbVs4XTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjMyB3aXRoIGEgcXVhdFxuICogQ2FuIGFsc28gYmUgdXNlZCBmb3IgZHVhbCBxdWF0ZXJuaW9ucy4gKE11bHRpcGx5IGl0IHdpdGggdGhlIHJlYWwgcGFydClcbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdGhlIHZlY3RvciB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7UmVhZG9ubHlRdWF0fSBxIHF1YXRlcm5pb24gdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtUXVhdChvdXQsIGEsIHEpIHtcbiAgLy8gYmVuY2htYXJrczogaHR0cHM6Ly9qc3BlcmYuY29tL3F1YXRlcm5pb24tdHJhbnNmb3JtLXZlYzMtaW1wbGVtZW50YXRpb25zLWZpeGVkXG4gIHZhciBxeCA9IHFbMF0sXG4gICAgICBxeSA9IHFbMV0sXG4gICAgICBxeiA9IHFbMl0sXG4gICAgICBxdyA9IHFbM107XG4gIHZhciB4ID0gYVswXSxcbiAgICAgIHkgPSBhWzFdLFxuICAgICAgeiA9IGFbMl07IC8vIHZhciBxdmVjID0gW3F4LCBxeSwgcXpdO1xuICAvLyB2YXIgdXYgPSB2ZWMzLmNyb3NzKFtdLCBxdmVjLCBhKTtcblxuICB2YXIgdXZ4ID0gcXkgKiB6IC0gcXogKiB5LFxuICAgICAgdXZ5ID0gcXogKiB4IC0gcXggKiB6LFxuICAgICAgdXZ6ID0gcXggKiB5IC0gcXkgKiB4OyAvLyB2YXIgdXV2ID0gdmVjMy5jcm9zcyhbXSwgcXZlYywgdXYpO1xuXG4gIHZhciB1dXZ4ID0gcXkgKiB1dnogLSBxeiAqIHV2eSxcbiAgICAgIHV1dnkgPSBxeiAqIHV2eCAtIHF4ICogdXZ6LFxuICAgICAgdXV2eiA9IHF4ICogdXZ5IC0gcXkgKiB1dng7IC8vIHZlYzMuc2NhbGUodXYsIHV2LCAyICogdyk7XG5cbiAgdmFyIHcyID0gcXcgKiAyO1xuICB1dnggKj0gdzI7XG4gIHV2eSAqPSB3MjtcbiAgdXZ6ICo9IHcyOyAvLyB2ZWMzLnNjYWxlKHV1diwgdXV2LCAyKTtcblxuICB1dXZ4ICo9IDI7XG4gIHV1dnkgKj0gMjtcbiAgdXV2eiAqPSAyOyAvLyByZXR1cm4gdmVjMy5hZGQob3V0LCBhLCB2ZWMzLmFkZChvdXQsIHV2LCB1dXYpKTtcblxuICBvdXRbMF0gPSB4ICsgdXZ4ICsgdXV2eDtcbiAgb3V0WzFdID0geSArIHV2eSArIHV1dnk7XG4gIG91dFsyXSA9IHogKyB1dnogKyB1dXZ6O1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSb3RhdGUgYSAzRCB2ZWN0b3IgYXJvdW5kIHRoZSB4LWF4aXNcbiAqIEBwYXJhbSB7dmVjM30gb3V0IFRoZSByZWNlaXZpbmcgdmVjM1xuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgVGhlIHZlYzMgcG9pbnQgdG8gcm90YXRlXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgb3JpZ2luIG9mIHRoZSByb3RhdGlvblxuICogQHBhcmFtIHtOdW1iZXJ9IHJhZCBUaGUgYW5nbGUgb2Ygcm90YXRpb24gaW4gcmFkaWFuc1xuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByb3RhdGVYKG91dCwgYSwgYiwgcmFkKSB7XG4gIHZhciBwID0gW10sXG4gICAgICByID0gW107IC8vVHJhbnNsYXRlIHBvaW50IHRvIHRoZSBvcmlnaW5cblxuICBwWzBdID0gYVswXSAtIGJbMF07XG4gIHBbMV0gPSBhWzFdIC0gYlsxXTtcbiAgcFsyXSA9IGFbMl0gLSBiWzJdOyAvL3BlcmZvcm0gcm90YXRpb25cblxuICByWzBdID0gcFswXTtcbiAgclsxXSA9IHBbMV0gKiBNYXRoLmNvcyhyYWQpIC0gcFsyXSAqIE1hdGguc2luKHJhZCk7XG4gIHJbMl0gPSBwWzFdICogTWF0aC5zaW4ocmFkKSArIHBbMl0gKiBNYXRoLmNvcyhyYWQpOyAvL3RyYW5zbGF0ZSB0byBjb3JyZWN0IHBvc2l0aW9uXG5cbiAgb3V0WzBdID0gclswXSArIGJbMF07XG4gIG91dFsxXSA9IHJbMV0gKyBiWzFdO1xuICBvdXRbMl0gPSByWzJdICsgYlsyXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUm90YXRlIGEgM0QgdmVjdG9yIGFyb3VuZCB0aGUgeS1heGlzXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCBUaGUgcmVjZWl2aW5nIHZlYzNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSB2ZWMzIHBvaW50IHRvIHJvdGF0ZVxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIG9yaWdpbiBvZiB0aGUgcm90YXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSByYWQgVGhlIGFuZ2xlIG9mIHJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEByZXR1cm5zIHt2ZWMzfSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlWShvdXQsIGEsIGIsIHJhZCkge1xuICB2YXIgcCA9IFtdLFxuICAgICAgciA9IFtdOyAvL1RyYW5zbGF0ZSBwb2ludCB0byB0aGUgb3JpZ2luXG5cbiAgcFswXSA9IGFbMF0gLSBiWzBdO1xuICBwWzFdID0gYVsxXSAtIGJbMV07XG4gIHBbMl0gPSBhWzJdIC0gYlsyXTsgLy9wZXJmb3JtIHJvdGF0aW9uXG5cbiAgclswXSA9IHBbMl0gKiBNYXRoLnNpbihyYWQpICsgcFswXSAqIE1hdGguY29zKHJhZCk7XG4gIHJbMV0gPSBwWzFdO1xuICByWzJdID0gcFsyXSAqIE1hdGguY29zKHJhZCkgLSBwWzBdICogTWF0aC5zaW4ocmFkKTsgLy90cmFuc2xhdGUgdG8gY29ycmVjdCBwb3NpdGlvblxuXG4gIG91dFswXSA9IHJbMF0gKyBiWzBdO1xuICBvdXRbMV0gPSByWzFdICsgYlsxXTtcbiAgb3V0WzJdID0gclsyXSArIGJbMl07XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJvdGF0ZSBhIDNEIHZlY3RvciBhcm91bmQgdGhlIHotYXhpc1xuICogQHBhcmFtIHt2ZWMzfSBvdXQgVGhlIHJlY2VpdmluZyB2ZWMzXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgdmVjMyBwb2ludCB0byByb3RhdGVcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBiIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gKiBAcGFyYW0ge051bWJlcn0gcmFkIFRoZSBhbmdsZSBvZiByb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcmV0dXJucyB7dmVjM30gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZVoob3V0LCBhLCBiLCByYWQpIHtcbiAgdmFyIHAgPSBbXSxcbiAgICAgIHIgPSBbXTsgLy9UcmFuc2xhdGUgcG9pbnQgdG8gdGhlIG9yaWdpblxuXG4gIHBbMF0gPSBhWzBdIC0gYlswXTtcbiAgcFsxXSA9IGFbMV0gLSBiWzFdO1xuICBwWzJdID0gYVsyXSAtIGJbMl07IC8vcGVyZm9ybSByb3RhdGlvblxuXG4gIHJbMF0gPSBwWzBdICogTWF0aC5jb3MocmFkKSAtIHBbMV0gKiBNYXRoLnNpbihyYWQpO1xuICByWzFdID0gcFswXSAqIE1hdGguc2luKHJhZCkgKyBwWzFdICogTWF0aC5jb3MocmFkKTtcbiAgclsyXSA9IHBbMl07IC8vdHJhbnNsYXRlIHRvIGNvcnJlY3QgcG9zaXRpb25cblxuICBvdXRbMF0gPSByWzBdICsgYlswXTtcbiAgb3V0WzFdID0gclsxXSArIGJbMV07XG4gIG91dFsyXSA9IHJbMl0gKyBiWzJdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZXQgdGhlIGFuZ2xlIGJldHdlZW4gdHdvIDNEIHZlY3RvcnNcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBhbmdsZSBpbiByYWRpYW5zXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGFuZ2xlKGEsIGIpIHtcbiAgdmFyIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGF6ID0gYVsyXSxcbiAgICAgIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIGJ6ID0gYlsyXSxcbiAgICAgIG1hZzEgPSBNYXRoLnNxcnQoYXggKiBheCArIGF5ICogYXkgKyBheiAqIGF6KSxcbiAgICAgIG1hZzIgPSBNYXRoLnNxcnQoYnggKiBieCArIGJ5ICogYnkgKyBieiAqIGJ6KSxcbiAgICAgIG1hZyA9IG1hZzEgKiBtYWcyLFxuICAgICAgY29zaW5lID0gbWFnICYmIGRvdChhLCBiKSAvIG1hZztcbiAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLm1heChjb3NpbmUsIC0xKSwgMSkpO1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWMzIHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzN9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzN9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgdmVjdG9yXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGEgdmVjdG9yIHRvIHJlcHJlc2VudCBhcyBhIHN0cmluZ1xuICogQHJldHVybnMge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyKGEpIHtcbiAgcmV0dXJuIFwidmVjMyhcIiArIGFbMF0gKyBcIiwgXCIgKyBhWzFdICsgXCIsIFwiICsgYVsyXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzN9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl07XG59XG4vKipcbiAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIHZlY3RvcnMgaGF2ZSBhcHByb3hpbWF0ZWx5IHRoZSBzYW1lIGVsZW1lbnRzIGluIHRoZSBzYW1lIHBvc2l0aW9uLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWMzfSBhIFRoZSBmaXJzdCB2ZWN0b3IuXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjM30gYiBUaGUgc2Vjb25kIHZlY3Rvci5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB2ZWN0b3JzIGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMoYSwgYikge1xuICB2YXIgYTAgPSBhWzBdLFxuICAgICAgYTEgPSBhWzFdLFxuICAgICAgYTIgPSBhWzJdO1xuICB2YXIgYjAgPSBiWzBdLFxuICAgICAgYjEgPSBiWzFdLFxuICAgICAgYjIgPSBiWzJdO1xuICByZXR1cm4gTWF0aC5hYnMoYTAgLSBiMCkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTApLCBNYXRoLmFicyhiMCkpICYmIE1hdGguYWJzKGExIC0gYjEpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGExKSwgTWF0aC5hYnMoYjEpKSAmJiBNYXRoLmFicyhhMiAtIGIyKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMiksIE1hdGguYWJzKGIyKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjMy5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWMzLnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWMzcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWMzLiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjM3MgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gMztcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgZm4odmVjLCB2ZWMsIGFyZyk7XG4gICAgICBhW2ldID0gdmVjWzBdO1xuICAgICAgYVtpICsgMV0gPSB2ZWNbMV07XG4gICAgICBhW2kgKyAyXSA9IHZlY1syXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcbn0oKTsiLCJpbXBvcnQgKiBhcyBnbE1hdHJpeCBmcm9tIFwiLi9jb21tb24uanNcIjtcbi8qKlxuICogNCBEaW1lbnNpb25hbCBWZWN0b3JcbiAqIEBtb2R1bGUgdmVjNFxuICovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldywgZW1wdHkgdmVjNFxuICpcbiAqIEByZXR1cm5zIHt2ZWM0fSBhIG5ldyA0RCB2ZWN0b3JcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG5cbiAgaWYgKGdsTWF0cml4LkFSUkFZX1RZUEUgIT0gRmxvYXQzMkFycmF5KSB7XG4gICAgb3V0WzBdID0gMDtcbiAgICBvdXRbMV0gPSAwO1xuICAgIG91dFsyXSA9IDA7XG4gICAgb3V0WzNdID0gMDtcbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdmVjNCBpbml0aWFsaXplZCB3aXRoIHZhbHVlcyBmcm9tIGFuIGV4aXN0aW5nIHZlY3RvclxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjbG9uZVxuICogQHJldHVybnMge3ZlYzR9IGEgbmV3IDREIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZShhKSB7XG4gIHZhciBvdXQgPSBuZXcgZ2xNYXRyaXguQVJSQVlfVFlQRSg0KTtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB2ZWM0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIHZhbHVlc1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gYSBuZXcgNEQgdmVjdG9yXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21WYWx1ZXMoeCwgeSwgeiwgdykge1xuICB2YXIgb3V0ID0gbmV3IGdsTWF0cml4LkFSUkFZX1RZUEUoNCk7XG4gIG91dFswXSA9IHg7XG4gIG91dFsxXSA9IHk7XG4gIG91dFsyXSA9IHo7XG4gIG91dFszXSA9IHc7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvcHkgdGhlIHZhbHVlcyBmcm9tIG9uZSB2ZWM0IHRvIGFub3RoZXJcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIHNvdXJjZSB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY29weShvdXQsIGEpIHtcbiAgb3V0WzBdID0gYVswXTtcbiAgb3V0WzFdID0gYVsxXTtcbiAgb3V0WzJdID0gYVsyXTtcbiAgb3V0WzNdID0gYVszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU2V0IHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNCB0byB0aGUgZ2l2ZW4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFggY29tcG9uZW50XG4gKiBAcGFyYW0ge051bWJlcn0geSBZIGNvbXBvbmVudFxuICogQHBhcmFtIHtOdW1iZXJ9IHogWiBjb21wb25lbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSB3IFcgY29tcG9uZW50XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldChvdXQsIHgsIHksIHosIHcpIHtcbiAgb3V0WzBdID0geDtcbiAgb3V0WzFdID0geTtcbiAgb3V0WzJdID0gejtcbiAgb3V0WzNdID0gdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQWRkcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXTtcbiAgb3V0WzFdID0gYVsxXSArIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKyBiWzJdO1xuICBvdXRbM10gPSBhWzNdICsgYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogU3VidHJhY3RzIHZlY3RvciBiIGZyb20gdmVjdG9yIGFcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdWJ0cmFjdChvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAtIGJbMF07XG4gIG91dFsxXSA9IGFbMV0gLSBiWzFdO1xuICBvdXRbMl0gPSBhWzJdIC0gYlsyXTtcbiAgb3V0WzNdID0gYVszXSAtIGJbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE11bHRpcGxpZXMgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIG11bHRpcGx5KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdICogYlswXTtcbiAgb3V0WzFdID0gYVsxXSAqIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gKiBiWzJdO1xuICBvdXRbM10gPSBhWzNdICogYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogRGl2aWRlcyB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBhWzBdIC8gYlswXTtcbiAgb3V0WzFdID0gYVsxXSAvIGJbMV07XG4gIG91dFsyXSA9IGFbMl0gLyBiWzJdO1xuICBvdXRbM10gPSBhWzNdIC8gYlszXTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5jZWlsIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2VpbFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjZWlsKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLmNlaWwoYVswXSk7XG4gIG91dFsxXSA9IE1hdGguY2VpbChhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5jZWlsKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLmNlaWwoYVszXSk7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE1hdGguZmxvb3IgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0XG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBmbG9vclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBmbG9vcihvdXQsIGEpIHtcbiAgb3V0WzBdID0gTWF0aC5mbG9vcihhWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5mbG9vcihhWzFdKTtcbiAgb3V0WzJdID0gTWF0aC5mbG9vcihhWzJdKTtcbiAgb3V0WzNdID0gTWF0aC5mbG9vcihhWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWluaW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWluKG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1pbihhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5taW4oYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWluKGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1pbihhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbWF4aW11bSBvZiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KG91dCwgYSwgYikge1xuICBvdXRbMF0gPSBNYXRoLm1heChhWzBdLCBiWzBdKTtcbiAgb3V0WzFdID0gTWF0aC5tYXgoYVsxXSwgYlsxXSk7XG4gIG91dFsyXSA9IE1hdGgubWF4KGFbMl0sIGJbMl0pO1xuICBvdXRbM10gPSBNYXRoLm1heChhWzNdLCBiWzNdKTtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogTWF0aC5yb3VuZCB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIHJvdW5kXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kKG91dCwgYSkge1xuICBvdXRbMF0gPSBNYXRoLnJvdW5kKGFbMF0pO1xuICBvdXRbMV0gPSBNYXRoLnJvdW5kKGFbMV0pO1xuICBvdXRbMl0gPSBNYXRoLnJvdW5kKGFbMl0pO1xuICBvdXRbM10gPSBNYXRoLnJvdW5kKGFbM10pO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTY2FsZXMgYSB2ZWM0IGJ5IGEgc2NhbGFyIG51bWJlclxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHNjYWxlXG4gKiBAcGFyYW0ge051bWJlcn0gYiBhbW91bnQgdG8gc2NhbGUgdGhlIHZlY3RvciBieVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzY2FsZShvdXQsIGEsIGIpIHtcbiAgb3V0WzBdID0gYVswXSAqIGI7XG4gIG91dFsxXSA9IGFbMV0gKiBiO1xuICBvdXRbMl0gPSBhWzJdICogYjtcbiAgb3V0WzNdID0gYVszXSAqIGI7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIEFkZHMgdHdvIHZlYzQncyBhZnRlciBzY2FsaW5nIHRoZSBzZWNvbmQgb3BlcmFuZCBieSBhIHNjYWxhciB2YWx1ZVxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gc2NhbGUgdGhlIGFtb3VudCB0byBzY2FsZSBiIGJ5IGJlZm9yZSBhZGRpbmdcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gc2NhbGVBbmRBZGQob3V0LCBhLCBiLCBzY2FsZSkge1xuICBvdXRbMF0gPSBhWzBdICsgYlswXSAqIHNjYWxlO1xuICBvdXRbMV0gPSBhWzFdICsgYlsxXSAqIHNjYWxlO1xuICBvdXRbMl0gPSBhWzJdICsgYlsyXSAqIHNjYWxlO1xuICBvdXRbM10gPSBhWzNdICsgYlszXSAqIHNjYWxlO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBldWNsaWRpYW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gdmVjNCdzXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdGhlIGZpcnN0IG9wZXJhbmRcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIHRoZSBzZWNvbmQgb3BlcmFuZFxuICogQHJldHVybnMge051bWJlcn0gZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKGEsIGIpIHtcbiAgdmFyIHggPSBiWzBdIC0gYVswXTtcbiAgdmFyIHkgPSBiWzFdIC0gYVsxXTtcbiAgdmFyIHogPSBiWzJdIC0gYVsyXTtcbiAgdmFyIHcgPSBiWzNdIC0gYVszXTtcbiAgcmV0dXJuIE1hdGguaHlwb3QoeCwgeSwgeiwgdyk7XG59XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHNxdWFyZWQgZXVjbGlkaWFuIGRpc3RhbmNlIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiBhIGFuZCBiXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWREaXN0YW5jZShhLCBiKSB7XG4gIHZhciB4ID0gYlswXSAtIGFbMF07XG4gIHZhciB5ID0gYlsxXSAtIGFbMV07XG4gIHZhciB6ID0gYlsyXSAtIGFbMl07XG4gIHZhciB3ID0gYlszXSAtIGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHZlY3RvciB0byBjYWxjdWxhdGUgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBsZW5ndGggb2YgYVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBsZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiBNYXRoLmh5cG90KHgsIHksIHosIHcpO1xufVxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gY2FsY3VsYXRlIHNxdWFyZWQgbGVuZ3RoIG9mXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBzcXVhcmVkIGxlbmd0aCBvZiBhXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNxdWFyZWRMZW5ndGgoYSkge1xuICB2YXIgeCA9IGFbMF07XG4gIHZhciB5ID0gYVsxXTtcbiAgdmFyIHogPSBhWzJdO1xuICB2YXIgdyA9IGFbM107XG4gIHJldHVybiB4ICogeCArIHkgKiB5ICsgeiAqIHogKyB3ICogdztcbn1cbi8qKlxuICogTmVnYXRlcyB0aGUgY29tcG9uZW50cyBvZiBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5lZ2F0ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBuZWdhdGUob3V0LCBhKSB7XG4gIG91dFswXSA9IC1hWzBdO1xuICBvdXRbMV0gPSAtYVsxXTtcbiAgb3V0WzJdID0gLWFbMl07XG4gIG91dFszXSA9IC1hWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIHRoZSBjb21wb25lbnRzIG9mIGEgdmVjNFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gaW52ZXJ0XG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGludmVyc2Uob3V0LCBhKSB7XG4gIG91dFswXSA9IDEuMCAvIGFbMF07XG4gIG91dFsxXSA9IDEuMCAvIGFbMV07XG4gIG91dFsyXSA9IDEuMCAvIGFbMl07XG4gIG91dFszXSA9IDEuMCAvIGFbM107XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlYzRcbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgdmVjdG9yIHRvIG5vcm1hbGl6ZVxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUob3V0LCBhKSB7XG4gIHZhciB4ID0gYVswXTtcbiAgdmFyIHkgPSBhWzFdO1xuICB2YXIgeiA9IGFbMl07XG4gIHZhciB3ID0gYVszXTtcbiAgdmFyIGxlbiA9IHggKiB4ICsgeSAqIHkgKyB6ICogeiArIHcgKiB3O1xuXG4gIGlmIChsZW4gPiAwKSB7XG4gICAgbGVuID0gMSAvIE1hdGguc3FydChsZW4pO1xuICB9XG5cbiAgb3V0WzBdID0geCAqIGxlbjtcbiAgb3V0WzFdID0geSAqIGxlbjtcbiAgb3V0WzJdID0geiAqIGxlbjtcbiAgb3V0WzNdID0gdyAqIGxlbjtcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSBmaXJzdCBvcGVyYW5kXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYiB0aGUgc2Vjb25kIG9wZXJhbmRcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IGRvdCBwcm9kdWN0IG9mIGEgYW5kIGJcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZG90KGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gKiBiWzBdICsgYVsxXSAqIGJbMV0gKyBhWzJdICogYlsyXSArIGFbM10gKiBiWzNdO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMgaW4gYSA0LWRpbWVuc2lvbmFsIHNwYWNlXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IHJlc3VsdCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFUgdGhlIGZpcnN0IHZlY3RvclxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IFYgdGhlIHNlY29uZCB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBXIHRoZSB0aGlyZCB2ZWN0b3JcbiAqIEByZXR1cm5zIHt2ZWM0fSByZXN1bHRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3Jvc3Mob3V0LCB1LCB2LCB3KSB7XG4gIHZhciBBID0gdlswXSAqIHdbMV0gLSB2WzFdICogd1swXSxcbiAgICAgIEIgPSB2WzBdICogd1syXSAtIHZbMl0gKiB3WzBdLFxuICAgICAgQyA9IHZbMF0gKiB3WzNdIC0gdlszXSAqIHdbMF0sXG4gICAgICBEID0gdlsxXSAqIHdbMl0gLSB2WzJdICogd1sxXSxcbiAgICAgIEUgPSB2WzFdICogd1szXSAtIHZbM10gKiB3WzFdLFxuICAgICAgRiA9IHZbMl0gKiB3WzNdIC0gdlszXSAqIHdbMl07XG4gIHZhciBHID0gdVswXTtcbiAgdmFyIEggPSB1WzFdO1xuICB2YXIgSSA9IHVbMl07XG4gIHZhciBKID0gdVszXTtcbiAgb3V0WzBdID0gSCAqIEYgLSBJICogRSArIEogKiBEO1xuICBvdXRbMV0gPSAtKEcgKiBGKSArIEkgKiBDIC0gSiAqIEI7XG4gIG91dFsyXSA9IEcgKiBFIC0gSCAqIEMgKyBKICogQTtcbiAgb3V0WzNdID0gLShHICogRCkgKyBIICogQiAtIEkgKiBBO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBQZXJmb3JtcyBhIGxpbmVhciBpbnRlcnBvbGF0aW9uIGJldHdlZW4gdHdvIHZlYzQnc1xuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgZmlyc3Qgb3BlcmFuZFxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgdGhlIHNlY29uZCBvcGVyYW5kXG4gKiBAcGFyYW0ge051bWJlcn0gdCBpbnRlcnBvbGF0aW9uIGFtb3VudCwgaW4gdGhlIHJhbmdlIFswLTFdLCBiZXR3ZWVuIHRoZSB0d28gaW5wdXRzXG4gKiBAcmV0dXJucyB7dmVjNH0gb3V0XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAob3V0LCBhLCBiLCB0KSB7XG4gIHZhciBheCA9IGFbMF07XG4gIHZhciBheSA9IGFbMV07XG4gIHZhciBheiA9IGFbMl07XG4gIHZhciBhdyA9IGFbM107XG4gIG91dFswXSA9IGF4ICsgdCAqIChiWzBdIC0gYXgpO1xuICBvdXRbMV0gPSBheSArIHQgKiAoYlsxXSAtIGF5KTtcbiAgb3V0WzJdID0gYXogKyB0ICogKGJbMl0gLSBheik7XG4gIG91dFszXSA9IGF3ICsgdCAqIChiWzNdIC0gYXcpO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gdmVjdG9yIHdpdGggdGhlIGdpdmVuIHNjYWxlXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGVdIExlbmd0aCBvZiB0aGUgcmVzdWx0aW5nIHZlY3Rvci4gSWYgb21taXR0ZWQsIGEgdW5pdCB2ZWN0b3Igd2lsbCBiZSByZXR1cm5lZFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByYW5kb20ob3V0LCBzY2FsZSkge1xuICBzY2FsZSA9IHNjYWxlIHx8IDEuMDsgLy8gTWFyc2FnbGlhLCBHZW9yZ2UuIENob29zaW5nIGEgUG9pbnQgZnJvbSB0aGUgU3VyZmFjZSBvZiBhXG4gIC8vIFNwaGVyZS4gQW5uLiBNYXRoLiBTdGF0aXN0LiA0MyAoMTk3MiksIG5vLiAyLCA2NDUtLTY0Ni5cbiAgLy8gaHR0cDovL3Byb2plY3RldWNsaWQub3JnL2V1Y2xpZC5hb21zLzExNzc2OTI2NDQ7XG5cbiAgdmFyIHYxLCB2MiwgdjMsIHY0O1xuICB2YXIgczEsIHMyO1xuXG4gIGRvIHtcbiAgICB2MSA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjIgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMxID0gdjEgKiB2MSArIHYyICogdjI7XG4gIH0gd2hpbGUgKHMxID49IDEpO1xuXG4gIGRvIHtcbiAgICB2MyA9IGdsTWF0cml4LlJBTkRPTSgpICogMiAtIDE7XG4gICAgdjQgPSBnbE1hdHJpeC5SQU5ET00oKSAqIDIgLSAxO1xuICAgIHMyID0gdjMgKiB2MyArIHY0ICogdjQ7XG4gIH0gd2hpbGUgKHMyID49IDEpO1xuXG4gIHZhciBkID0gTWF0aC5zcXJ0KCgxIC0gczEpIC8gczIpO1xuICBvdXRbMF0gPSBzY2FsZSAqIHYxO1xuICBvdXRbMV0gPSBzY2FsZSAqIHYyO1xuICBvdXRbMl0gPSBzY2FsZSAqIHYzICogZDtcbiAgb3V0WzNdID0gc2NhbGUgKiB2NCAqIGQ7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgdGhlIHZlYzQgd2l0aCBhIG1hdDQuXG4gKlxuICogQHBhcmFtIHt2ZWM0fSBvdXQgdGhlIHJlY2VpdmluZyB2ZWN0b3JcbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBhIHRoZSB2ZWN0b3IgdG8gdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1JlYWRvbmx5TWF0NH0gbSBtYXRyaXggdG8gdHJhbnNmb3JtIHdpdGhcbiAqIEByZXR1cm5zIHt2ZWM0fSBvdXRcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtTWF0NChvdXQsIGEsIG0pIHtcbiAgdmFyIHggPSBhWzBdLFxuICAgICAgeSA9IGFbMV0sXG4gICAgICB6ID0gYVsyXSxcbiAgICAgIHcgPSBhWzNdO1xuICBvdXRbMF0gPSBtWzBdICogeCArIG1bNF0gKiB5ICsgbVs4XSAqIHogKyBtWzEyXSAqIHc7XG4gIG91dFsxXSA9IG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdICogdztcbiAgb3V0WzJdID0gbVsyXSAqIHggKyBtWzZdICogeSArIG1bMTBdICogeiArIG1bMTRdICogdztcbiAgb3V0WzNdID0gbVszXSAqIHggKyBtWzddICogeSArIG1bMTFdICogeiArIG1bMTVdICogdztcbiAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyB0aGUgdmVjNCB3aXRoIGEgcXVhdFxuICpcbiAqIEBwYXJhbSB7dmVjNH0gb3V0IHRoZSByZWNlaXZpbmcgdmVjdG9yXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB0aGUgdmVjdG9yIHRvIHRyYW5zZm9ybVxuICogQHBhcmFtIHtSZWFkb25seVF1YXR9IHEgcXVhdGVybmlvbiB0byB0cmFuc2Zvcm0gd2l0aFxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1RdWF0KG91dCwgYSwgcSkge1xuICB2YXIgeCA9IGFbMF0sXG4gICAgICB5ID0gYVsxXSxcbiAgICAgIHogPSBhWzJdO1xuICB2YXIgcXggPSBxWzBdLFxuICAgICAgcXkgPSBxWzFdLFxuICAgICAgcXogPSBxWzJdLFxuICAgICAgcXcgPSBxWzNdOyAvLyBjYWxjdWxhdGUgcXVhdCAqIHZlY1xuXG4gIHZhciBpeCA9IHF3ICogeCArIHF5ICogeiAtIHF6ICogeTtcbiAgdmFyIGl5ID0gcXcgKiB5ICsgcXogKiB4IC0gcXggKiB6O1xuICB2YXIgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gIHZhciBpdyA9IC1xeCAqIHggLSBxeSAqIHkgLSBxeiAqIHo7IC8vIGNhbGN1bGF0ZSByZXN1bHQgKiBpbnZlcnNlIHF1YXRcblxuICBvdXRbMF0gPSBpeCAqIHF3ICsgaXcgKiAtcXggKyBpeSAqIC1xeiAtIGl6ICogLXF5O1xuICBvdXRbMV0gPSBpeSAqIHF3ICsgaXcgKiAtcXkgKyBpeiAqIC1xeCAtIGl4ICogLXF6O1xuICBvdXRbMl0gPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICBvdXRbM10gPSBhWzNdO1xuICByZXR1cm4gb3V0O1xufVxuLyoqXG4gKiBTZXQgdGhlIGNvbXBvbmVudHMgb2YgYSB2ZWM0IHRvIHplcm9cbiAqXG4gKiBAcGFyYW0ge3ZlYzR9IG91dCB0aGUgcmVjZWl2aW5nIHZlY3RvclxuICogQHJldHVybnMge3ZlYzR9IG91dFxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiB6ZXJvKG91dCkge1xuICBvdXRbMF0gPSAwLjA7XG4gIG91dFsxXSA9IDAuMDtcbiAgb3V0WzJdID0gMC4wO1xuICBvdXRbM10gPSAwLjA7XG4gIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSB2ZWN0b3JcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSB2ZWN0b3IgdG8gcmVwcmVzZW50IGFzIGEgc3RyaW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlY3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBzdHIoYSkge1xuICByZXR1cm4gXCJ2ZWM0KFwiICsgYVswXSArIFwiLCBcIiArIGFbMV0gKyBcIiwgXCIgKyBhWzJdICsgXCIsIFwiICsgYVszXSArIFwiKVwiO1xufVxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSB2ZWN0b3JzIGhhdmUgZXhhY3RseSB0aGUgc2FtZSBlbGVtZW50cyBpbiB0aGUgc2FtZSBwb3NpdGlvbiAod2hlbiBjb21wYXJlZCB3aXRoID09PSlcbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5VmVjNH0gYSBUaGUgZmlyc3QgdmVjdG9yLlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGIgVGhlIHNlY29uZCB2ZWN0b3IuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmVjdG9ycyBhcmUgZXF1YWwsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZXhhY3RFcXVhbHMoYSwgYikge1xuICByZXR1cm4gYVswXSA9PT0gYlswXSAmJiBhWzFdID09PSBiWzFdICYmIGFbMl0gPT09IGJbMl0gJiYgYVszXSA9PT0gYlszXTtcbn1cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgdmVjdG9ycyBoYXZlIGFwcHJveGltYXRlbHkgdGhlIHNhbWUgZWxlbWVudHMgaW4gdGhlIHNhbWUgcG9zaXRpb24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seVZlYzR9IGEgVGhlIGZpcnN0IHZlY3Rvci5cbiAqIEBwYXJhbSB7UmVhZG9ubHlWZWM0fSBiIFRoZSBzZWNvbmQgdmVjdG9yLlxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgdGhlIHZlY3RvcnMgYXJlIGVxdWFsLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIHZhciBhMCA9IGFbMF0sXG4gICAgICBhMSA9IGFbMV0sXG4gICAgICBhMiA9IGFbMl0sXG4gICAgICBhMyA9IGFbM107XG4gIHZhciBiMCA9IGJbMF0sXG4gICAgICBiMSA9IGJbMV0sXG4gICAgICBiMiA9IGJbMl0sXG4gICAgICBiMyA9IGJbM107XG4gIHJldHVybiBNYXRoLmFicyhhMCAtIGIwKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMCksIE1hdGguYWJzKGIwKSkgJiYgTWF0aC5hYnMoYTEgLSBiMSkgPD0gZ2xNYXRyaXguRVBTSUxPTiAqIE1hdGgubWF4KDEuMCwgTWF0aC5hYnMoYTEpLCBNYXRoLmFicyhiMSkpICYmIE1hdGguYWJzKGEyIC0gYjIpIDw9IGdsTWF0cml4LkVQU0lMT04gKiBNYXRoLm1heCgxLjAsIE1hdGguYWJzKGEyKSwgTWF0aC5hYnMoYjIpKSAmJiBNYXRoLmFicyhhMyAtIGIzKSA8PSBnbE1hdHJpeC5FUFNJTE9OICogTWF0aC5tYXgoMS4wLCBNYXRoLmFicyhhMyksIE1hdGguYWJzKGIzKSk7XG59XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zdWJ0cmFjdH1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgc3ViID0gc3VidHJhY3Q7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5tdWx0aXBseX1cbiAqIEBmdW5jdGlvblxuICovXG5cbmV4cG9ydCB2YXIgbXVsID0gbXVsdGlwbHk7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5kaXZpZGV9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGRpdiA9IGRpdmlkZTtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LmRpc3RhbmNlfVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBkaXN0ID0gZGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5zcXVhcmVkRGlzdGFuY2V9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckRpc3QgPSBzcXVhcmVkRGlzdGFuY2U7XG4vKipcbiAqIEFsaWFzIGZvciB7QGxpbmsgdmVjNC5sZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIGxlbiA9IGxlbmd0aDtcbi8qKlxuICogQWxpYXMgZm9yIHtAbGluayB2ZWM0LnNxdWFyZWRMZW5ndGh9XG4gKiBAZnVuY3Rpb25cbiAqL1xuXG5leHBvcnQgdmFyIHNxckxlbiA9IHNxdWFyZWRMZW5ndGg7XG4vKipcbiAqIFBlcmZvcm0gc29tZSBvcGVyYXRpb24gb3ZlciBhbiBhcnJheSBvZiB2ZWM0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhIHRoZSBhcnJheSBvZiB2ZWN0b3JzIHRvIGl0ZXJhdGUgb3ZlclxuICogQHBhcmFtIHtOdW1iZXJ9IHN0cmlkZSBOdW1iZXIgb2YgZWxlbWVudHMgYmV0d2VlbiB0aGUgc3RhcnQgb2YgZWFjaCB2ZWM0LiBJZiAwIGFzc3VtZXMgdGlnaHRseSBwYWNrZWRcbiAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXQgTnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNraXAgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb3VudCBOdW1iZXIgb2YgdmVjNHMgdG8gaXRlcmF0ZSBvdmVyLiBJZiAwIGl0ZXJhdGVzIG92ZXIgZW50aXJlIGFycmF5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHZlY3RvciBpbiB0aGUgYXJyYXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBbYXJnXSBhZGRpdGlvbmFsIGFyZ3VtZW50IHRvIHBhc3MgdG8gZm5cbiAqIEByZXR1cm5zIHtBcnJheX0gYVxuICogQGZ1bmN0aW9uXG4gKi9cblxuZXhwb3J0IHZhciBmb3JFYWNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgdmVjID0gY3JlYXRlKCk7XG4gIHJldHVybiBmdW5jdGlvbiAoYSwgc3RyaWRlLCBvZmZzZXQsIGNvdW50LCBmbiwgYXJnKSB7XG4gICAgdmFyIGksIGw7XG5cbiAgICBpZiAoIXN0cmlkZSkge1xuICAgICAgc3RyaWRlID0gNDtcbiAgICB9XG5cbiAgICBpZiAoIW9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoY291bnQpIHtcbiAgICAgIGwgPSBNYXRoLm1pbihjb3VudCAqIHN0cmlkZSArIG9mZnNldCwgYS5sZW5ndGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0OyBpIDwgbDsgaSArPSBzdHJpZGUpIHtcbiAgICAgIHZlY1swXSA9IGFbaV07XG4gICAgICB2ZWNbMV0gPSBhW2kgKyAxXTtcbiAgICAgIHZlY1syXSA9IGFbaSArIDJdO1xuICAgICAgdmVjWzNdID0gYVtpICsgM107XG4gICAgICBmbih2ZWMsIHZlYywgYXJnKTtcbiAgICAgIGFbaV0gPSB2ZWNbMF07XG4gICAgICBhW2kgKyAxXSA9IHZlY1sxXTtcbiAgICAgIGFbaSArIDJdID0gdmVjWzJdO1xuICAgICAgYVtpICsgM10gPSB2ZWNbM107XG4gICAgfVxuXG4gICAgcmV0dXJuIGE7XG4gIH07XG59KCk7IiwiaW1wb3J0IHsgU3lzdGVtQ29yZSB9IGZyb20gXCIuLi9zeXN0ZW0vc3lzdGVtX2NvcmVcIjtcclxuXHJcbi8vIENyZWF0ZSBhIEdQVSBidWZmZXIgZnJvbSBhbiBhcnJheSBvZiBkYXRhLCBleGFjdCAoKy0gcGFkZGluZykgc2l6ZVxyXG5jb25zdCBjcmVhdGVfZ3B1X2J1ZmZlciA9IDxUIGV4dGVuZHMgQXJyYXlCdWZmZXJWaWV3PihcclxuICBkYXRhOiBULFxyXG4gIHVzYWdlOiBHUFVCdWZmZXJVc2FnZUZsYWdzID0gR1BVQnVmZmVyVXNhZ2UuVkVSVEVYIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1RcclxuKSA9PiB7XHJcbiAgY29uc3QgeyBkZXZpY2UgfSA9IFN5c3RlbUNvcmU7XHJcbiAgY29uc3QgYnVmZmVyID0gZGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XHJcbiAgICBzaXplOiBkYXRhLmJ5dGVMZW5ndGgsXHJcbiAgICB1c2FnZSxcclxuICAgIG1hcHBlZEF0Q3JlYXRpb246IHRydWUsXHJcbiAgfSk7XHJcbiAgY29uc3QgbWFwcGVkUmFuZ2UgPSBidWZmZXIuZ2V0TWFwcGVkUmFuZ2UoKTtcclxuICBuZXcgVWludDhBcnJheShtYXBwZWRSYW5nZSkuc2V0KFxyXG4gICAgbmV3IFVpbnQ4QXJyYXkoZGF0YS5idWZmZXIsIGRhdGEuYnl0ZU9mZnNldCwgZGF0YS5ieXRlTGVuZ3RoKVxyXG4gICk7XHJcbiAgYnVmZmVyLnVubWFwKCk7XHJcbiAgcmV0dXJuIGJ1ZmZlcjtcclxufTtcclxuXHJcbmV4cG9ydCB7IGNyZWF0ZV9ncHVfYnVmZmVyIH07XHJcbiIsImltcG9ydCB7IHZlYzQgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XHJcbmltcG9ydCB7IGNyZWF0ZV9ncHVfYnVmZmVyIH0gZnJvbSBcIi4uL3V0aWwvZ3B1X3V0aWxcIjtcclxuXHJcbmNvbnN0IG1vZGVsczogeyBba2V5OiBzdHJpbmddOiBNb2RlbERhdGEgfSA9IHt9O1xyXG5cclxudHlwZSBNb2RlbERhdGEgPSB7XHJcbiAgdmVydGV4X2RhdGFfZ3B1OiBHUFVCdWZmZXI7XHJcbiAgaW5kaWNlc19ncHU6IEdQVUJ1ZmZlcjtcclxuICBpbmRleF9jb3VudDogbnVtYmVyO1xyXG59O1xyXG5cclxuY29uc3QgbG9hZF9tb2RlbCA9IGFzeW5jIChtb2RlbF9wYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcclxuICBpZiAoIW1vZGVsX3BhdGgpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGlmIChtb2RlbHNbbW9kZWxfcGF0aF0pIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgY29uc29sZS5sb2coXCJMb2FkaW5nIG1vZGVsXCIsIG1vZGVsX3BhdGgpO1xyXG5cclxuICAvLyBGZXRjaCBtb2RlbFxyXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gobW9kZWxfcGF0aCk7XHJcbiAgY29uc3QgbW9kZWwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcblxyXG4gIC8vIFRyYWNrIHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBtb2RlbFxyXG4gIGNvbnN0IHBvc2l0aW9uczogdmVjNFtdID0gW107XHJcbiAgY29uc3Qgbm9ybWFsczogdmVjNFtdID0gW107XHJcbiAgY29uc3QgdXZzOiB2ZWM0W10gPSBbXTtcclxuXHJcbiAgLy8gVGhlc2UgYXJlIHRoZSBmaW5hbCB2ZXJ0aWNlcyBtYWtpbmcgdXAgdGhlIGZhY2VzIGluIG9iaiBmaWxlXHJcbiAgY29uc3QgdmVydGljZXNfYmVmb3JlX2luZGV4ZWQ6IHN0cmluZ1tdID0gW107XHJcblxyXG4gIC8vIFBhcnNlIGRhdGEgZnJvbSBvYmogZmlsZVxyXG4gIGxldCBtYXhfcG9zaXRpb24gPSB2ZWM0LmNyZWF0ZSgpO1xyXG4gIGxldCBtaW5fcG9zaXRpb24gPSB2ZWM0LmNyZWF0ZSgpO1xyXG4gIG1vZGVsLnNwbGl0KFwiXFxuXCIpLmZvckVhY2goKGxpbmUpID0+IHtcclxuICAgIGNvbnN0IHNwbGl0X2xpbmUgPSBsaW5lLnNwbGl0KFwiIFwiKTtcclxuICAgIGNvbnN0IHR5cGUgPSBzcGxpdF9saW5lWzBdO1xyXG5cclxuICAgIGlmICh0eXBlID09PSBcInZcIikge1xyXG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHZlYzQuZnJvbVZhbHVlcyhcclxuICAgICAgICBwYXJzZUZsb2F0KHNwbGl0X2xpbmVbMV0pLFxyXG4gICAgICAgIHBhcnNlRmxvYXQoc3BsaXRfbGluZVsyXSksXHJcbiAgICAgICAgcGFyc2VGbG9hdChzcGxpdF9saW5lWzNdKSxcclxuICAgICAgICAxLjBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIG1heF9wb3NpdGlvblswXSA9IE1hdGgubWF4KG1heF9wb3NpdGlvblswXSwgcG9zaXRpb25bMF0pO1xyXG4gICAgICBtYXhfcG9zaXRpb25bMV0gPSBNYXRoLm1heChtYXhfcG9zaXRpb25bMV0sIHBvc2l0aW9uWzFdKTtcclxuICAgICAgbWF4X3Bvc2l0aW9uWzJdID0gTWF0aC5tYXgobWF4X3Bvc2l0aW9uWzJdLCBwb3NpdGlvblsyXSk7XHJcbiAgICAgIG1pbl9wb3NpdGlvblswXSA9IE1hdGgubWluKG1pbl9wb3NpdGlvblswXSwgcG9zaXRpb25bMF0pO1xyXG4gICAgICBtaW5fcG9zaXRpb25bMV0gPSBNYXRoLm1pbihtaW5fcG9zaXRpb25bMV0sIHBvc2l0aW9uWzFdKTtcclxuICAgICAgbWluX3Bvc2l0aW9uWzJdID0gTWF0aC5taW4obWluX3Bvc2l0aW9uWzJdLCBwb3NpdGlvblsyXSk7XHJcblxyXG4gICAgICBwb3NpdGlvbnMucHVzaChwb3NpdGlvbik7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwidm5cIikge1xyXG4gICAgICBjb25zdCBub3JtYWwgPSB2ZWM0LmZyb21WYWx1ZXMoXHJcbiAgICAgICAgcGFyc2VGbG9hdChzcGxpdF9saW5lWzFdKSxcclxuICAgICAgICBwYXJzZUZsb2F0KHNwbGl0X2xpbmVbMl0pLFxyXG4gICAgICAgIHBhcnNlRmxvYXQoc3BsaXRfbGluZVszXSksXHJcbiAgICAgICAgMC4wXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBub3JtYWxzLnB1c2gobm9ybWFsKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJ2dFwiKSB7XHJcbiAgICAgIGNvbnN0IHV2ID0gdmVjNC5mcm9tVmFsdWVzKFxyXG4gICAgICAgIHBhcnNlRmxvYXQoc3BsaXRfbGluZVsxXSksXHJcbiAgICAgICAgcGFyc2VGbG9hdChzcGxpdF9saW5lWzJdKSxcclxuICAgICAgICAwLjAsXHJcbiAgICAgICAgMC4wXHJcbiAgICAgICk7XHJcblxyXG4gICAgICB1dnMucHVzaCh1dik7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiZlwiKSB7XHJcbiAgICAgIHZlcnRpY2VzX2JlZm9yZV9pbmRleGVkLnB1c2goc3BsaXRfbGluZVsxXSk7XHJcbiAgICAgIHZlcnRpY2VzX2JlZm9yZV9pbmRleGVkLnB1c2goc3BsaXRfbGluZVsyXSk7XHJcbiAgICAgIHZlcnRpY2VzX2JlZm9yZV9pbmRleGVkLnB1c2goc3BsaXRfbGluZVszXSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFJlY2VudGVyIHRoZSBtb2RlbFxyXG4gIGNvbnN0IGNlbnRlcl94ID0gbWluX3Bvc2l0aW9uWzBdICsgKG1heF9wb3NpdGlvblswXSAtIG1pbl9wb3NpdGlvblswXSkgLyAyO1xyXG4gIGNvbnN0IGNlbnRlcl95ID0gbWluX3Bvc2l0aW9uWzFdICsgKG1heF9wb3NpdGlvblsxXSAtIG1pbl9wb3NpdGlvblsxXSkgLyAyO1xyXG4gIGNvbnN0IGNlbnRlcl96ID0gbWluX3Bvc2l0aW9uWzJdICsgKG1heF9wb3NpdGlvblsyXSAtIG1pbl9wb3NpdGlvblsyXSkgLyAyO1xyXG5cclxuICAvLyAvLyBTdWJ0cmFjdCB0aGUgY2VudGVyIGZyb20gZWFjaCBwb3NpdGlvblxyXG4gIC8vIHBvc2l0aW9ucy5mb3JFYWNoKChwb3NpdGlvbikgPT4ge1xyXG4gIC8vICAgcG9zaXRpb25bMF0gLT0gY2VudGVyX3g7XHJcbiAgLy8gICBwb3NpdGlvblsxXSAtPSBjZW50ZXJfeTtcclxuICAvLyAgIHBvc2l0aW9uWzJdIC09IGNlbnRlcl96O1xyXG4gIC8vIH0pO1xyXG5cclxuICAvLyBCdWlsZCB1cCB0aGUgaW5kZXhlZCB2ZXJ0aWNlc1xyXG4gIGNvbnN0IGluZGljZXM6IEdMaW50W10gPSBbXTtcclxuICBjb25zdCB2ZXJ0ZXhfbWFwID0gbmV3IE1hcDxzdHJpbmcsIEdMaW50PigpOyAvLyBudW1iZXIgaXMgdGhlIHNpemUgYXQgdGltZSBvZiBpbnNlcnRpb25cclxuICBsZXQgdmVydGV4X2RhdGE6IHZlYzRbXSA9IFtdO1xyXG5cclxuICB2ZXJ0aWNlc19iZWZvcmVfaW5kZXhlZC5mb3JFYWNoKCh2ZXJ0ZXgpID0+IHtcclxuICAgIGlmICghdmVydGV4X21hcC5oYXModmVydGV4KSkge1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGVzID0gdmVydGV4LnNwbGl0KFwiL1wiKS5maWx0ZXIoKHYpID0+IHYgIT09IFwiXCIpOyAvLyBIYW5kbGUgd2hlbiBkb3VibGUgc2xhc2hlcyBhcmUgdXNlZFxyXG4gICAgICBjb25zdCBwb3NpdGlvbl9pbmRleCA9IHBhcnNlSW50KGF0dHJpYnV0ZXNbMF0pIC0gMTtcclxuICAgICAgY29uc3QgdXZfaW5kZXggPSBwYXJzZUludChhdHRyaWJ1dGVzWzFdKSAtIDE7XHJcbiAgICAgIGNvbnN0IG5vcm1hbF9pbmRleCA9IHBhcnNlSW50KGF0dHJpYnV0ZXNbMl0pIC0gMTtcclxuXHJcbiAgICAgIHZlcnRleF9kYXRhLnB1c2gocG9zaXRpb25zW3Bvc2l0aW9uX2luZGV4XSk7XHJcbiAgICAgIHZlcnRleF9kYXRhLnB1c2godXZzW3V2X2luZGV4XSB8fCB2ZWM0LmNyZWF0ZSgpKTtcclxuICAgICAgdmVydGV4X2RhdGEucHVzaChub3JtYWxzW25vcm1hbF9pbmRleF0gfHwgdmVjNC5jcmVhdGUoKSk7XHJcblxyXG4gICAgICBjb25zdCBpbmRleDogR0xpbnQgPSB2ZXJ0ZXhfbWFwLnNpemU7XHJcbiAgICAgIHZlcnRleF9tYXAuc2V0KHZlcnRleCwgaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluZGljZXMucHVzaCh2ZXJ0ZXhfbWFwLmdldCh2ZXJ0ZXgpISk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFBvdGVudGlhbGx5IHNsb3dcclxuICBjb25zdCB2ZXJ0ZXhfZGF0YV9hcnJheSA9IHZlcnRleF9kYXRhLmZsYXRNYXAoKHYpID0+IFsuLi52XSk7XHJcblxyXG4gIGNvbnN0IHZlcnRleF9kYXRhX2dwdSA9IGNyZWF0ZV9ncHVfYnVmZmVyKFxyXG4gICAgbmV3IEZsb2F0MzJBcnJheSh2ZXJ0ZXhfZGF0YV9hcnJheSlcclxuICApO1xyXG4gIGNvbnN0IGluZGljZXNfZ3B1ID0gY3JlYXRlX2dwdV9idWZmZXIoXHJcbiAgICBuZXcgSW50MzJBcnJheShpbmRpY2VzKSxcclxuICAgIEdQVUJ1ZmZlclVzYWdlLklOREVYIHwgR1BVQnVmZmVyVXNhZ2UuQ09QWV9EU1RcclxuICApO1xyXG5cclxuICBjb25zdCBpbmRleF9jb3VudCA9IGluZGljZXMubGVuZ3RoO1xyXG4gIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgIHZlcnRleF9kYXRhX2dwdSxcclxuICAgIGluZGljZXNfZ3B1LFxyXG4gICAgaW5kZXhfY291bnQsXHJcbiAgfTtcclxuXHJcbiAgbW9kZWxzW21vZGVsX3BhdGhdID0gcmVzdWx0O1xyXG59O1xyXG5cclxuZXhwb3J0IHsgbG9hZF9tb2RlbCwgbW9kZWxzIH07XHJcbiIsImltcG9ydCB7IGxvYWRfbW9kZWwsIG1vZGVscyB9IGZyb20gXCIuLi9tb2RlbC9tb2RlbF9sb2FkZXJcIjtcclxuaW1wb3J0IHsgbWF0NCwgdmVjMyB9IGZyb20gXCJnbC1tYXRyaXhcIjtcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcclxuaW1wb3J0IHsgUGlwZUxpbmUgfSBmcm9tIFwiLi4vcGlwZWxpbmVzL3BpcGVsaW5lXCI7XHJcblxyXG50eXBlIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHNjZW5lOiBTY2VuZTtcclxuICBtb2RlbD86IHN0cmluZztcclxuICBzaGFkZXJfcGF0aD86IHN0cmluZztcclxuICBwaXBlbGluZT86IHR5cGVvZiBQaXBlTGluZTtcclxuICBwb3NpdGlvbj86IHZlYzM7XHJcbiAgdmVsb2NpdHk/OiB2ZWMzO1xyXG4gIHJvdGF0aW9uPzogdmVjMztcclxuICBzY2FsZT86IHZlYzM7XHJcbiAgdGV4dHVyZV9kaWZmdXNlPzogc3RyaW5nO1xyXG4gIHRleHR1cmVfc3BlY3VsYXI/OiBzdHJpbmc7XHJcbiAgdGV4dHVyZV9ub3JtYWw/OiBzdHJpbmc7XHJcbiAgdGV4dHVyZV9lbWlzc2l2ZT86IHN0cmluZztcclxufTtcclxuXHJcbmNsYXNzIFNjZW5lT2JqZWN0IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBtb2RlbDogc3RyaW5nO1xyXG4gIHBvc2l0aW9uOiB2ZWMzO1xyXG4gIHZlbG9jaXR5OiB2ZWMzO1xyXG4gIHJvdGF0aW9uOiB2ZWMzO1xyXG4gIHNjYWxlOiB2ZWMzO1xyXG4gIHNoYWRlcl9wYXRoOiBzdHJpbmc7XHJcbiAgcGlwZWxpbmU6IHR5cGVvZiBQaXBlTGluZSB8IHVuZGVmaW5lZDtcclxuICBwaXBlbGluZV9rZXk6IHN0cmluZztcclxuICB0ZXh0dXJlX2RpZmZ1c2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICB0ZXh0dXJlX3NwZWN1bGFyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgdGV4dHVyZV9ub3JtYWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICB0ZXh0dXJlX2VtaXNzaXZlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHtcclxuICAgIGlkLFxyXG4gICAgbmFtZSxcclxuICAgIHNjZW5lLFxyXG4gICAgbW9kZWwgPSBcIlwiLFxyXG4gICAgc2hhZGVyX3BhdGggPSBcIlwiLFxyXG4gICAgcGlwZWxpbmUsXHJcbiAgICBwb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCksXHJcbiAgICB2ZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCksXHJcbiAgICByb3RhdGlvbiA9IHZlYzMuY3JlYXRlKCksXHJcbiAgICBzY2FsZSA9IHZlYzMuZnJvbVZhbHVlcygxLjAsIDEuMCwgMS4wKSxcclxuICAgIHRleHR1cmVfZGlmZnVzZSA9IHVuZGVmaW5lZCxcclxuICAgIHRleHR1cmVfc3BlY3VsYXIgPSB1bmRlZmluZWQsXHJcbiAgICB0ZXh0dXJlX25vcm1hbCA9IHVuZGVmaW5lZCxcclxuICAgIHRleHR1cmVfZW1pc3NpdmUgPSB1bmRlZmluZWQsXHJcbiAgfTogU2NlbmVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB0aGlzLnZlbG9jaXR5ID0gdmVsb2NpdHk7XHJcbiAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICB0aGlzLnNjYWxlID0gc2NhbGU7XHJcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcbiAgICB0aGlzLnRleHR1cmVfZGlmZnVzZSA9IHRleHR1cmVfZGlmZnVzZTtcclxuICAgIHRoaXMudGV4dHVyZV9zcGVjdWxhciA9IHRleHR1cmVfc3BlY3VsYXI7XHJcbiAgICB0aGlzLnRleHR1cmVfbm9ybWFsID0gdGV4dHVyZV9ub3JtYWw7XHJcbiAgICB0aGlzLnRleHR1cmVfZW1pc3NpdmUgPSB0ZXh0dXJlX2VtaXNzaXZlO1xyXG4gICAgdGhpcy5zaGFkZXJfcGF0aCA9IHNoYWRlcl9wYXRoO1xyXG5cclxuICAgIHRoaXMucGlwZWxpbmUgPSBwaXBlbGluZTtcclxuICAgIHRoaXMucGlwZWxpbmVfa2V5ID0gcGlwZWxpbmU/LmdldF9waXBlbGluZV9rZXkoc2hhZGVyX3BhdGgpIHx8IFwiXCI7XHJcbiAgfVxyXG5cclxuICBnZXRfbW9kZWxfbWF0cml4ID0gKCkgPT4ge1xyXG4gICAgLy8gTm90ZSB0aGVzZSBvcGVyYXRpb25zIGFwcGVhciBpbiByZXZlcnNlIG9yZGVyIGJlY2F1c2UgdGhleSBhcmUgcmlnaHQgbXVsdGlwbGllZFxyXG4gICAgY29uc3QgbW9kZWxfbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgIG1hdDQudHJhbnNsYXRlKG1vZGVsX21hdHJpeCwgbW9kZWxfbWF0cml4LCB0aGlzLnBvc2l0aW9uKTtcclxuICAgIG1hdDQucm90YXRlWChtb2RlbF9tYXRyaXgsIG1vZGVsX21hdHJpeCwgdGhpcy5yb3RhdGlvblswXSk7XHJcbiAgICBtYXQ0LnJvdGF0ZVkobW9kZWxfbWF0cml4LCBtb2RlbF9tYXRyaXgsIHRoaXMucm90YXRpb25bMV0pO1xyXG4gICAgbWF0NC5yb3RhdGVaKG1vZGVsX21hdHJpeCwgbW9kZWxfbWF0cml4LCB0aGlzLnJvdGF0aW9uWzJdKTtcclxuICAgIG1hdDQuc2NhbGUobW9kZWxfbWF0cml4LCBtb2RlbF9tYXRyaXgsIHRoaXMuc2NhbGUpO1xyXG4gICAgcmV0dXJuIG1vZGVsX21hdHJpeDtcclxuICB9O1xyXG5cclxuICBnZXRfbW9kZWxfZGF0YSA9IGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IGxvYWRfbW9kZWwodGhpcy5tb2RlbCk7XHJcbiAgICByZXR1cm4gbW9kZWxzW3RoaXMubW9kZWxdO1xyXG4gIH07XHJcblxyXG4gIGhhc190ZXh0dXJlX2RpZmZ1c2UgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlX2RpZmZ1c2UgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRleHR1cmVfZGlmZnVzZSAhPT0gXCJcIjtcclxuICB9O1xyXG5cclxuICBoYXNfdGV4dHVyZV9zcGVjdWxhciA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLnRleHR1cmVfc3BlY3VsYXIgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRleHR1cmVfc3BlY3VsYXIgIT09IFwiXCI7XHJcbiAgfTtcclxuXHJcbiAgaGFzX3RleHR1cmVfbm9ybWFsID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZV9ub3JtYWwgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRleHR1cmVfbm9ybWFsICE9PSBcIlwiO1xyXG4gIH07XHJcblxyXG4gIGhhc190ZXh0dXJlX2VtaXNzaXZlID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMudGV4dHVyZV9lbWlzc2l2ZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGV4dHVyZV9lbWlzc2l2ZSAhPT0gXCJcIjtcclxuICB9O1xyXG5cclxuICB1cGRhdGUgPSBhc3luYyAoc2NlbmU6IFNjZW5lKSA9PiB7fTtcclxuICByZW1vdmVfZnJvbV9zY2VuZSA9IChzY2VuZTogU2NlbmUpID0+IHtcclxuICAgIHNjZW5lLm9iamVjdHMgPSBzY2VuZS5vYmplY3RzLmZpbHRlcigob2JqZWN0KSA9PiBvYmplY3QgIT09IHRoaXMpO1xyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IFNjZW5lT2JqZWN0LCBTY2VuZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcyB9O1xyXG4iLCJpbXBvcnQgeyBtYXQ0LCB2ZWMzIH0gZnJvbSBcImdsLW1hdHJpeFwiO1xyXG5pbXBvcnQge1xyXG4gIFNjZW5lT2JqZWN0LFxyXG4gIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zLFxyXG59IGZyb20gXCIuLi9zY2VuZV9vYmplY3Qvc2NlbmVfb2JqZWN0XCI7XHJcbmltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XHJcbmltcG9ydCB7IFN5c3RlbUNvcmUgfSBmcm9tIFwiLi4vc3lzdGVtL3N5c3RlbV9jb3JlXCI7XHJcblxyXG5lbnVtIENhbWVyYU1vdmVtZW50TW9kZSB7XHJcbiAgUk9UQVRFX09SSUdJTixcclxuICBGUkVFLFxyXG4gIEZJWEVELFxyXG59XHJcblxyXG50eXBlIENhbWVyYUNvbnN0cnVjdGlvblBhcmFtcyA9IHtcclxuICBsb29rX2F0X3RhcmdldD86IHZlYzM7XHJcbn0gJiBTY2VuZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcztcclxuXHJcbmNsYXNzIENhbWVyYSBleHRlbmRzIFNjZW5lT2JqZWN0IHtcclxuICB1cDogdmVjMyA9IHZlYzMuZnJvbVZhbHVlcygwLjAsIDEuMCwgMC4wKTtcclxuICBsb29rX2F0X3RhcmdldDogdmVjMyA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgbW92ZW1lbnRfbW9kZTogQ2FtZXJhTW92ZW1lbnRNb2RlID0gQ2FtZXJhTW92ZW1lbnRNb2RlLlJPVEFURV9PUklHSU47XHJcbiAgcm90YXRpb25fc3BlZWQ6IG51bWJlciA9IDFlLTI7XHJcbiAgbW92ZW1lbnRfc3BlZWQ6IG51bWJlciA9IDFlLTI7XHJcbiAgbW91c2Vfc2Vuc2l0aXZpdHk6IG51bWJlciA9IDFlLTM7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHsgbG9va19hdF90YXJnZXQsIC4uLnN1cGVyX2FyZ3MgfTogQ2FtZXJhQ29uc3RydWN0aW9uUGFyYW1zKSB7XHJcbiAgICBzdXBlcihzdXBlcl9hcmdzKTtcclxuICAgIHRoaXMubG9va19hdChsb29rX2F0X3RhcmdldCB8fCB2ZWMzLmNyZWF0ZSgpKTtcclxuICB9XHJcblxyXG4gIGxvb2tfYXQgPSAodGFyZ2V0OiB2ZWMzKSA9PiB7XHJcbiAgICB0aGlzLmxvb2tfYXRfdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gIH07XHJcblxyXG4gIGdldF9jYW1lcmFfZm9yd2FyZCA9ICgpID0+IHtcclxuICAgIHJldHVybiB2ZWMzLm5vcm1hbGl6ZShcclxuICAgICAgdmVjMy5jcmVhdGUoKSxcclxuICAgICAgdmVjMy5zdWJ0cmFjdCh2ZWMzLmNyZWF0ZSgpLCB0aGlzLmxvb2tfYXRfdGFyZ2V0LCB0aGlzLnBvc2l0aW9uKVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBnZXRfY2FtZXJhX3JpZ2h0ID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHZlYzMubm9ybWFsaXplKFxyXG4gICAgICB2ZWMzLmNyZWF0ZSgpLFxyXG4gICAgICB2ZWMzLmNyb3NzKHZlYzMuY3JlYXRlKCksIHRoaXMuZ2V0X2NhbWVyYV9mb3J3YXJkKCksIHRoaXMudXApXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIGdldF92aWV3X21hdHJpeCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHZpZXcgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgbWF0NC50cmFuc2xhdGUodmlldywgdmlldywgdGhpcy5wb3NpdGlvbik7XHJcbiAgICBtYXQ0Lmxvb2tBdCh2aWV3LCB0aGlzLnBvc2l0aW9uLCB0aGlzLmxvb2tfYXRfdGFyZ2V0LCB0aGlzLnVwKTtcclxuICAgIHJldHVybiB2aWV3O1xyXG4gIH07XHJcblxyXG4gIGdldF9wcm9qZWN0aW9uX21hdHJpeCA9IChhc3BlY3Q/OiBudW1iZXIpID0+IHtcclxuICAgIGlmICghYXNwZWN0KSB7XHJcbiAgICAgIGNvbnN0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgIGNvbnN0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJvamVjdGlvbiA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICBtYXQ0LnBlcnNwZWN0aXZlKHByb2plY3Rpb24sIE1hdGguUEkgLyA0LCBhc3BlY3QsIDAuMSwgMTAwMC4wKTtcclxuICAgIHJldHVybiBwcm9qZWN0aW9uO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZSA9IGFzeW5jIChzY2VuZTogU2NlbmUpID0+IHtcclxuICAgIGNvbnN0IHsga2V5X3ByZXNzLCBrZXlfc3RhdGUsIG1vdXNlX3N0YXRlIH0gPSBTeXN0ZW1Db3JlLnN5c3RlbV9pbnB1dDtcclxuICAgIGNvbnN0IHsgY2FudmFzIH0gPSBzY2VuZTtcclxuXHJcbiAgICBpZiAoa2V5X3ByZXNzLmdldChcImBcIikpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0b2dnbGluZyBjYW1lcmEgbW9kZVwiKTtcclxuICAgICAgaWYgKHRoaXMubW92ZW1lbnRfbW9kZSA9PT0gQ2FtZXJhTW92ZW1lbnRNb2RlLlJPVEFURV9PUklHSU4pIHtcclxuICAgICAgICAvLyBFbmFibGUgcG9pbnRlciBsb2NrXHJcbiAgICAgICAgdGhpcy5tb3ZlbWVudF9tb2RlID0gQ2FtZXJhTW92ZW1lbnRNb2RlLkZSRUU7XHJcbiAgICAgICAgY2FudmFzPy5yZXF1ZXN0UG9pbnRlckxvY2soKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLm1vdmVtZW50X21vZGUgPT09IENhbWVyYU1vdmVtZW50TW9kZS5GUkVFKSB7XHJcbiAgICAgICAgLy8gRGlzYWJsZSBwb2ludGVyIGxvY2tcclxuICAgICAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcclxuICAgICAgICB0aGlzLm1vdmVtZW50X21vZGUgPSBDYW1lcmFNb3ZlbWVudE1vZGUuRklYRUQ7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlbWVudF9tb2RlID09PSBDYW1lcmFNb3ZlbWVudE1vZGUuRklYRUQpIHtcclxuICAgICAgICB0aGlzLm1vdmVtZW50X21vZGUgPSBDYW1lcmFNb3ZlbWVudE1vZGUuUk9UQVRFX09SSUdJTjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLm1vdmVtZW50X21vZGUgPT09IENhbWVyYU1vdmVtZW50TW9kZS5ST1RBVEVfT1JJR0lOKSB7XHJcbiAgICAgIGlmIChrZXlfc3RhdGUuZ2V0KFwiYVwiKSB8fCBrZXlfc3RhdGUuZ2V0KFwiZFwiKSkge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lX3JvdGF0aW9uX3NwZWVkID0ga2V5X3N0YXRlLmdldChcImFcIilcclxuICAgICAgICAgID8gdGhpcy5yb3RhdGlvbl9zcGVlZFxyXG4gICAgICAgICAgOiAtdGhpcy5yb3RhdGlvbl9zcGVlZDtcclxuICAgICAgICBjb25zdCByb3RhdGlvbl9tYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgIG1hdDQudHJhbnNsYXRlKHJvdGF0aW9uX21hdHJpeCwgcm90YXRpb25fbWF0cml4LCB0aGlzLmxvb2tfYXRfdGFyZ2V0KTtcclxuICAgICAgICBtYXQ0LnJvdGF0ZVkocm90YXRpb25fbWF0cml4LCByb3RhdGlvbl9tYXRyaXgsIGZyYW1lX3JvdGF0aW9uX3NwZWVkKTtcclxuICAgICAgICBtYXQ0LnRyYW5zbGF0ZShcclxuICAgICAgICAgIHJvdGF0aW9uX21hdHJpeCxcclxuICAgICAgICAgIHJvdGF0aW9uX21hdHJpeCxcclxuICAgICAgICAgIHZlYzMubmVnYXRlKHZlYzMuY3JlYXRlKCksIHRoaXMubG9va19hdF90YXJnZXQpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHRoaXMucG9zaXRpb24sIHRoaXMucG9zaXRpb24sIHJvdGF0aW9uX21hdHJpeCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodGhpcy5tb3ZlbWVudF9tb2RlID09PSBDYW1lcmFNb3ZlbWVudE1vZGUuRlJFRSkge1xyXG4gICAgICBpZiAobW91c2Vfc3RhdGUuZHggfHwgbW91c2Vfc3RhdGUuZHkpIHtcclxuICAgICAgICBjb25zdCBjYW1lcmFfZm9yd2FyZCA9IHRoaXMuZ2V0X2NhbWVyYV9mb3J3YXJkKCk7XHJcbiAgICAgICAgY29uc3QgY2FtZXJhX3JpZ2h0ID0gdGhpcy5nZXRfY2FtZXJhX3JpZ2h0KCk7XHJcbiAgICAgICAgY29uc3QgZHggPSBtb3VzZV9zdGF0ZS5keCAqIHRoaXMubW91c2Vfc2Vuc2l0aXZpdHk7XHJcbiAgICAgICAgY29uc3QgZHkgPSBtb3VzZV9zdGF0ZS5keSAqIHRoaXMubW91c2Vfc2Vuc2l0aXZpdHk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJvdGF0aW9uX21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgbWF0NC5yb3RhdGUocm90YXRpb25fbWF0cml4LCByb3RhdGlvbl9tYXRyaXgsIC1keCwgdGhpcy51cCk7XHJcbiAgICAgICAgbWF0NC5yb3RhdGUocm90YXRpb25fbWF0cml4LCByb3RhdGlvbl9tYXRyaXgsIC1keSwgY2FtZXJhX3JpZ2h0KTtcclxuXHJcbiAgICAgICAgdmVjMy50cmFuc2Zvcm1NYXQ0KHRoaXMucG9zaXRpb24sIHRoaXMucG9zaXRpb24sIHJvdGF0aW9uX21hdHJpeCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld19jYW1lcmFfZm9yd2FyZCA9IHRoaXMuZ2V0X2NhbWVyYV9mb3J3YXJkKCk7XHJcbiAgICAgICAgY29uc3QgbmV3X2NhbWVyYV9yaWdodCA9IHRoaXMuZ2V0X2NhbWVyYV9yaWdodCgpO1xyXG5cclxuICAgICAgICB2ZWMzLmFkZCh0aGlzLmxvb2tfYXRfdGFyZ2V0LCB0aGlzLnBvc2l0aW9uLCBuZXdfY2FtZXJhX2ZvcndhcmQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoa2V5X3N0YXRlLmdldChcIndcIikgfHwga2V5X3N0YXRlLmdldChcInNcIikpIHtcclxuICAgICAgICBjb25zdCBmcmFtZV90cmFuc2xhdGlvbl9zcGVlZCA9IGtleV9zdGF0ZS5nZXQoXCJ3XCIpXHJcbiAgICAgICAgICA/IHRoaXMubW92ZW1lbnRfc3BlZWRcclxuICAgICAgICAgIDogLXRoaXMubW92ZW1lbnRfc3BlZWQ7XHJcbiAgICAgICAgY29uc3QgZm9yd2FyZCA9IHRoaXMuZ2V0X2NhbWVyYV9mb3J3YXJkKCk7XHJcbiAgICAgICAgdmVjMy5zY2FsZShmb3J3YXJkLCBmb3J3YXJkLCBmcmFtZV90cmFuc2xhdGlvbl9zcGVlZCk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbiwgZm9yd2FyZCk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5sb29rX2F0X3RhcmdldCwgdGhpcy5sb29rX2F0X3RhcmdldCwgZm9yd2FyZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChrZXlfc3RhdGUuZ2V0KFwiYVwiKSB8fCBrZXlfc3RhdGUuZ2V0KFwiZFwiKSkge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lX3RyYW5zbGF0aW9uX3NwZWVkID0ga2V5X3N0YXRlLmdldChcImFcIilcclxuICAgICAgICAgID8gLXRoaXMubW92ZW1lbnRfc3BlZWRcclxuICAgICAgICAgIDogdGhpcy5tb3ZlbWVudF9zcGVlZDtcclxuICAgICAgICBjb25zdCByaWdodCA9IHRoaXMuZ2V0X2NhbWVyYV9yaWdodCgpO1xyXG4gICAgICAgIHZlYzMuc2NhbGUocmlnaHQsIHJpZ2h0LCBmcmFtZV90cmFuc2xhdGlvbl9zcGVlZCk7XHJcbiAgICAgICAgdmVjMy5hZGQodGhpcy5wb3NpdGlvbiwgdGhpcy5wb3NpdGlvbiwgcmlnaHQpO1xyXG4gICAgICAgIHZlYzMuYWRkKHRoaXMubG9va19hdF90YXJnZXQsIHRoaXMubG9va19hdF90YXJnZXQsIHJpZ2h0KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLm1vdmVtZW50X21vZGUgPT09IENhbWVyYU1vdmVtZW50TW9kZS5GSVhFRCkge1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCB7IENhbWVyYSB9O1xyXG4iLCJpbXBvcnQgeyB2ZWMzLCB2ZWM0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xyXG5pbXBvcnQge1xyXG4gIFNjZW5lT2JqZWN0LFxyXG4gIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zLFxyXG59IGZyb20gXCIuLi9zY2VuZV9vYmplY3Qvc2NlbmVfb2JqZWN0XCI7XHJcblxyXG50eXBlIExpZ2h0Q29uc3RydWN0aW9uUGFyYW1zID0ge1xyXG4gIGNvbG9yPzogdmVjMztcclxuICBpbnRlbnNpdHk/OiBudW1iZXI7XHJcbn0gJiBTY2VuZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcztcclxuXHJcbmNsYXNzIExpZ2h0IGV4dGVuZHMgU2NlbmVPYmplY3Qge1xyXG4gIGNvbG9yOiB2ZWM0O1xyXG5cclxuICBjb25zdHJ1Y3Rvcih7XHJcbiAgICBjb2xvciA9IHZlYzMuZnJvbVZhbHVlcygxLjAsIDEuMCwgMS4wKSxcclxuICAgIGludGVuc2l0eSA9IDEuMCxcclxuICAgIC4uLnN1cGVyX2FyZ3NcclxuICB9OiBMaWdodENvbnN0cnVjdGlvblBhcmFtcykge1xyXG4gICAgc3VwZXIoc3VwZXJfYXJncyk7XHJcbiAgICB0aGlzLmNvbG9yID0gdmVjNC5mcm9tVmFsdWVzKGNvbG9yWzBdLCBjb2xvclsxXSwgY29sb3JbMl0sIGludGVuc2l0eSk7XHJcbiAgfVxyXG5cclxuICBnZXRfdW5pZm9ybV9kYXRhID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcG9zaXRpb246IFsuLi50aGlzLnBvc2l0aW9uLCAwLjBdLFxyXG4gICAgICBjb2xvcjogdGhpcy5jb2xvcixcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgTGlnaHQgfTtcclxuIiwiaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcclxuaW1wb3J0IHsgUGlwZUxpbmUgfSBmcm9tIFwiLi9waXBlbGluZVwiO1xyXG5cclxuY2xhc3MgUGlwZUxpbmVNYW5hZ2VyIHtcclxuICByZWdpc3RlcmVkX3BpcGVsaW5lcyA9IG5ldyBNYXA8c3RyaW5nLCBQaXBlTGluZT4oKTsgLy8gcGlwZWxpbmUga2V5IChleDogc2hhZGVyX25hbWUgKyBwaXBlbGluZV9sYWJlbCkgLT4gcGlwZWxpbmVcclxuXHJcbiAgcmVnaXN0ZXJfcGlwZWxpbmUgPSAoXHJcbiAgICBwaXBlbGluZTogdHlwZW9mIFBpcGVMaW5lLFxyXG4gICAgc2hhZGVyX3BhdGg6IHN0cmluZyxcclxuICAgIHNjZW5lOiBTY2VuZVxyXG4gICkgPT4ge1xyXG4gICAgY29uc3QgcGlwZWxpbmVfa2V5ID0gcGlwZWxpbmUuZ2V0X3BpcGVsaW5lX2tleShzaGFkZXJfcGF0aCk7XHJcbiAgICBpZiAodGhpcy5yZWdpc3RlcmVkX3BpcGVsaW5lcy5oYXMocGlwZWxpbmVfa2V5KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgcGlwZWxpbmUuY29uc3RydWN0X3BpcGVsaW5lKHNoYWRlcl9wYXRoLCBzY2VuZSkudGhlbigocGlwZWxpbmUpID0+IHtcclxuICAgICAgdGhpcy5yZWdpc3RlcmVkX3BpcGVsaW5lcy5zZXQocGlwZWxpbmVfa2V5LCBwaXBlbGluZSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBnZXRfcmVnaXN0ZXJlZF9waXBlbGluZSA9IChwaXBlbGluZV9rZXk6IHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJlZF9waXBlbGluZXMuZ2V0KHBpcGVsaW5lX2tleSk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgUGlwZUxpbmVNYW5hZ2VyIH07XHJcbiIsImNsYXNzIFNoYWRlck1hbmFnZXIge1xyXG4gIHNoYWRlcnMgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpOyAvLyBzaGFkZXJfbmFtZSAtPiBzaGFkZXJcclxuXHJcbiAgZ2V0X3NoYWRlciA9IGFzeW5jIChzaGFkZXJfcGF0aDogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuc2hhZGVycy5oYXMoc2hhZGVyX3BhdGgpKSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc2hhZGVyX3BhdGgpO1xyXG4gICAgICB0aGlzLnNoYWRlcnMuc2V0KHNoYWRlcl9wYXRoLCBhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLnNoYWRlcnMuZ2V0KHNoYWRlcl9wYXRoKSE7XHJcbiAgfTtcclxuXHJcbiAgZ2V0X3JlZ2lzdGVyZWRfc2hhZGVyID0gKHNoYWRlcl9wYXRoOiBzdHJpbmcpID0+IHtcclxuICAgIHJldHVybiB0aGlzLnNoYWRlcnMuZ2V0KHNoYWRlcl9wYXRoKTtcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBTaGFkZXJNYW5hZ2VyIH07XHJcbiIsImV4cG9ydCBlbnVtIEV2ZW50RW51bSB7XHJcbiAgU0NFTkVfRlJBTUVfU1RBUlQsXHJcbiAgU0NFTkVfRlJBTUVfRU5ELFxyXG4gIFNDRU5FX1VQREFURV9TVEFSVCxcclxuICBTQ0VORV9VUERBVEVfRU5ELFxyXG4gIFNDRU5FX1JFTkRFUl9TVEFSVCxcclxuICBTQ0VORV9SRU5ERVJfRU5ELFxyXG59XHJcbiIsImltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL2V2ZW50X2VudW1zXCI7XHJcblxyXG50eXBlIEV2ZW50Q2FsbEJhY2sgPSAoZGF0YTogYW55KSA9PiBQcm9taXNlPHZvaWQ+O1xyXG5cclxuY2xhc3MgR2FtZUV2ZW50U3lzdGVtIHtcclxuICBwcml2YXRlIGV2ZW50czogTWFwPEV2ZW50RW51bSwgRXZlbnRDYWxsQmFja1tdPjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBNYXA8RXZlbnRFbnVtLCBFdmVudENhbGxCYWNrW10+KCk7XHJcbiAgfVxyXG5cclxuICBzdWJzY3JpYmUoZXZlbnRfbmFtZTogRXZlbnRFbnVtLCBjYWxsYmFjazogRXZlbnRDYWxsQmFjaykge1xyXG4gICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnRfbmFtZSkpIHtcclxuICAgICAgdGhpcy5ldmVudHMuc2V0KGV2ZW50X25hbWUsIFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5ldmVudHMuZ2V0KGV2ZW50X25hbWUpIS5pbmNsdWRlcyhjYWxsYmFjaykpIHtcclxuICAgICAgcmV0dXJuIGNhbGxiYWNrOyAvLyBBbHJlYWR5IHN1YnNjcmliZWRcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmV2ZW50cy5nZXQoZXZlbnRfbmFtZSkhLnB1c2goY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIGNhbGxiYWNrO1xyXG4gIH1cclxuXHJcbiAgdW5zdWJzY3JpYmUoZXZlbnRfbmFtZTogRXZlbnRFbnVtLCBjYWxsYmFjazogRXZlbnRDYWxsQmFjaykge1xyXG4gICAgY29uc3QgZXZlbnRfY2FsbGJhY2tzID0gdGhpcy5ldmVudHMuZ2V0KGV2ZW50X25hbWUpITtcclxuICAgIGNvbnN0IGluZGV4ID0gZXZlbnRfY2FsbGJhY2tzPy5pbmRleE9mKGNhbGxiYWNrKSA/PyAtMTtcclxuXHJcbiAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICBldmVudF9jYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHB1Ymxpc2goZXZlbnRfbmFtZTogRXZlbnRFbnVtLCBkYXRhOiBhbnkgPSB7fSkge1xyXG4gICAgaWYgKCF0aGlzLmV2ZW50cy5oYXMoZXZlbnRfbmFtZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGV2ZW50X2NhbGxiYWNrcyA9IHRoaXMuZXZlbnRzLmdldChldmVudF9uYW1lKSE7XHJcbiAgICBjb25zdCBwcm9taXNlcyA9IGV2ZW50X2NhbGxiYWNrcy5tYXAoKGNhbGxiYWNrKSA9PiBjYWxsYmFjayhkYXRhKSk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBHYW1lRXZlbnRTeXN0ZW0sIEV2ZW50Q2FsbEJhY2sgfTtcclxuIiwiaW1wb3J0IHsgU3lzdGVtQ29yZSB9IGZyb20gXCIuLi9zeXN0ZW0vc3lzdGVtX2NvcmVcIjtcclxuXHJcbmNsYXNzIFRleHR1cmVNYW5hZ2VyIHtcclxuICB0ZXh0dXJlczogeyBba2V5OiBzdHJpbmddOiBHUFVUZXh0dXJlIH07XHJcbiAgZW1wdHlfdGV4dHVyZTogR1BVVGV4dHVyZTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnRleHR1cmVzID0ge307XHJcbiAgICB0aGlzLmVtcHR5X3RleHR1cmUgPSB0aGlzLmdldF9kZWZhdWx0X3RleHR1cmUoKTtcclxuICB9XHJcblxyXG4gIGdldF9kZWZhdWx0X3RleHR1cmUoKSB7XHJcbiAgICByZXR1cm4gU3lzdGVtQ29yZS5kZXZpY2UuY3JlYXRlVGV4dHVyZSh7XHJcbiAgICAgIHNpemU6IFsxLCAxXSxcclxuICAgICAgZm9ybWF0OiBcInJnYmE4dW5vcm1cIixcclxuICAgICAgdXNhZ2U6IEdQVVRleHR1cmVVc2FnZS5URVhUVVJFX0JJTkRJTkcgfCBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1QsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRfdGV4dHVyZShcclxuICAgIHRleHR1cmVfcGF0aDogc3RyaW5nIHwgdW5kZWZpbmVkLFxyXG4gICAgZm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0ID0gXCJyZ2JhOHVub3JtXCJcclxuICApIHtcclxuICAgIGlmICh0ZXh0dXJlX3BhdGggPT09IHVuZGVmaW5lZCB8fCB0ZXh0dXJlX3BhdGggPT09IFwiXCIpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZW1wdHlfdGV4dHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy50ZXh0dXJlc1t0ZXh0dXJlX3BhdGhdKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRleHR1cmVzW3RleHR1cmVfcGF0aF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTG9hZCB0aGUgdGV4dHVyZVxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0ZXh0dXJlX3BhdGgpO1xyXG4gICAgY29uc3QgdGV4dHVyZV9ibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xyXG4gICAgY29uc3QgdGV4dHVyZV9kYXRhID0gYXdhaXQgY3JlYXRlSW1hZ2VCaXRtYXAodGV4dHVyZV9ibG9iLCB7XHJcbiAgICAgIGNvbG9yU3BhY2VDb252ZXJzaW9uOiBcIm5vbmVcIixcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENyZWF0ZSBncHUgdGV4dHVyZVxyXG4gICAgY29uc3QgdGV4dHVyZV9ncHUgPSBTeXN0ZW1Db3JlLmRldmljZS5jcmVhdGVUZXh0dXJlKHtcclxuICAgICAgbGFiZWw6IHRleHR1cmVfcGF0aCxcclxuICAgICAgZm9ybWF0OiBmb3JtYXQsXHJcbiAgICAgIHNpemU6IFt0ZXh0dXJlX2RhdGEud2lkdGgsIHRleHR1cmVfZGF0YS5oZWlnaHRdLFxyXG4gICAgICB1c2FnZTpcclxuICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuVEVYVFVSRV9CSU5ESU5HIHxcclxuICAgICAgICBHUFVUZXh0dXJlVXNhZ2UuQ09QWV9EU1QgfFxyXG4gICAgICAgIEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCxcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFVwbG9hZCBsb2NhbCB0ZXh0dXJlIGRhdGEgdG8gZ3B1IHRleHR1cmVcclxuICAgIFN5c3RlbUNvcmUuZGV2aWNlLnF1ZXVlLmNvcHlFeHRlcm5hbEltYWdlVG9UZXh0dXJlKFxyXG4gICAgICB7IHNvdXJjZTogdGV4dHVyZV9kYXRhIH0sXHJcbiAgICAgIHsgdGV4dHVyZTogdGV4dHVyZV9ncHUgfSxcclxuICAgICAgW3RleHR1cmVfZGF0YS53aWR0aCwgdGV4dHVyZV9kYXRhLmhlaWdodF1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy50ZXh0dXJlc1t0ZXh0dXJlX3BhdGhdID0gdGV4dHVyZV9ncHU7XHJcbiAgICByZXR1cm4gdGV4dHVyZV9ncHU7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBUZXh0dXJlTWFuYWdlciB9O1xyXG4iLCJpbXBvcnQge1xyXG4gIFNjZW5lT2JqZWN0LFxyXG4gIFNjZW5lT2JqZWN0Q29uc3RydWN0aW9uUGFyYW1zLFxyXG59IGZyb20gXCIuLi9zY2VuZV9vYmplY3Qvc2NlbmVfb2JqZWN0XCI7XHJcblxyXG50eXBlIENvbXB1dGVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMgPSBTY2VuZU9iamVjdENvbnN0cnVjdGlvblBhcmFtcyAmIHtcclxuICB3b3JrZ3JvdXBfc2l6ZTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG59O1xyXG5cclxuY2xhc3MgQ29tcHV0ZU9iamVjdCBleHRlbmRzIFNjZW5lT2JqZWN0IHtcclxuICB3b3JrZ3JvdXBfc2l6ZTogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihwYXJhbXM6IENvbXB1dGVPYmplY3RDb25zdHJ1Y3Rpb25QYXJhbXMpIHtcclxuICAgIHN1cGVyKHBhcmFtcyk7XHJcbiAgICBjb25zdCBzY2VuZV93aWR0aCA9IHBhcmFtcy5zY2VuZS5jYW52YXM/LndpZHRoIHx8IDE7XHJcbiAgICBjb25zdCBzY2VuZV9oZWlnaHQgPSBwYXJhbXMuc2NlbmUuY2FudmFzPy5oZWlnaHQgfHwgMTtcclxuICAgIHRoaXMud29ya2dyb3VwX3NpemUgPSBbXHJcbiAgICAgIHRoaXMucGFyc2Vfd29ya2dyb3VwX3NpemUoXHJcbiAgICAgICAgcGFyYW1zLndvcmtncm91cF9zaXplWzBdLFxyXG4gICAgICAgIHNjZW5lX3dpZHRoLFxyXG4gICAgICAgIHNjZW5lX2hlaWdodFxyXG4gICAgICApLFxyXG4gICAgICB0aGlzLnBhcnNlX3dvcmtncm91cF9zaXplKFxyXG4gICAgICAgIHBhcmFtcy53b3JrZ3JvdXBfc2l6ZVsxXSxcclxuICAgICAgICBzY2VuZV93aWR0aCxcclxuICAgICAgICBzY2VuZV9oZWlnaHRcclxuICAgICAgKSxcclxuICAgICAgdGhpcy5wYXJzZV93b3JrZ3JvdXBfc2l6ZShcclxuICAgICAgICBwYXJhbXMud29ya2dyb3VwX3NpemVbMl0sXHJcbiAgICAgICAgc2NlbmVfd2lkdGgsXHJcbiAgICAgICAgc2NlbmVfaGVpZ2h0XHJcbiAgICAgICksXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgcGFyc2Vfd29ya2dyb3VwX3NpemUgPSAoXHJcbiAgICBkaW1lbnNpb246IHN0cmluZyB8IG51bWJlcixcclxuICAgIGNhbnZhc193aWR0aDogbnVtYmVyLFxyXG4gICAgY2FudmFzX2hlaWdodDogbnVtYmVyXHJcbiAgKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIGRpbWVuc2lvbiA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBzd2l0Y2ggKGRpbWVuc2lvbikge1xyXG4gICAgICAgIGNhc2UgXCJjYW52YXNfd2lkdGhcIjpcclxuICAgICAgICAgIHJldHVybiBjYW52YXNfd2lkdGg7XHJcbiAgICAgICAgY2FzZSBcImNhbnZhc19oZWlnaHRcIjpcclxuICAgICAgICAgIHJldHVybiBjYW52YXNfaGVpZ2h0O1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGRpbWVuc2lvbjtcclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgeyBDb21wdXRlT2JqZWN0IH07XHJcbiIsImltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9jYW1lcmEvY2FtZXJhXCI7XHJcbmltcG9ydCB7IENvbXB1dGVPYmplY3QgfSBmcm9tIFwiLi4vY29tcHV0ZS9jb21wdXRlX29iamVjdFwiO1xyXG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuLi9saWdodHMvbGlnaHRcIjtcclxuaW1wb3J0IHsgU2NlbmVPYmplY3QgfSBmcm9tIFwiLi9zY2VuZV9vYmplY3RcIjtcclxuXHJcbmludGVyZmFjZSBSZWdpc3RlcmVkVHlwZXMge1xyXG4gIFtrZXk6IHN0cmluZ106IHR5cGVvZiBTY2VuZU9iamVjdDtcclxufVxyXG5cclxuY29uc3QgcmVnaXN0ZXJlZF9zY2VuZV9vYmplY3RfdHlwZXM6IFJlZ2lzdGVyZWRUeXBlcyA9IHtcclxuICBTY2VuZU9iamVjdCxcclxuICBMaWdodCxcclxuICBDYW1lcmEsXHJcbiAgQ29tcHV0ZU9iamVjdCxcclxufTtcclxuXHJcbmV4cG9ydCB7IHJlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzIH07XHJcbiIsImltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBQaXBlTGluZSB7XHJcbiAgc2hhZGVyX3BhdGg6IHN0cmluZztcclxuICBncHVfcGlwZWxpbmU6IEdQVVJlbmRlclBpcGVsaW5lIHwgR1BVQ29tcHV0ZVBpcGVsaW5lO1xyXG4gIG9yZGVyOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgc2hhZGVyX3BhdGg6IHN0cmluZyxcclxuICAgIGdwdV9waXBlbGluZTogR1BVUmVuZGVyUGlwZWxpbmUgfCBHUFVDb21wdXRlUGlwZWxpbmUsXHJcbiAgICBwcmlvcml0eTogbnVtYmVyID0gMFxyXG4gICkge1xyXG4gICAgdGhpcy5zaGFkZXJfcGF0aCA9IHNoYWRlcl9wYXRoO1xyXG4gICAgdGhpcy5vcmRlciA9IHByaW9yaXR5O1xyXG4gICAgdGhpcy5ncHVfcGlwZWxpbmUgPSBncHVfcGlwZWxpbmU7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0X3BpcGVsaW5lX2tleShzaGFkZXJfcGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHtzaGFkZXJfcGF0aH0rJHt0aGlzLmdldF9waXBlbGluZV9sYWJlbCgpfWA7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0X3BpcGVsaW5lX2xhYmVsKCk6IHN0cmluZyB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgIFwiUGxlYXNlIHJldHVybiBhIHVuaXF1ZSBsYWJlbCBmb3IgeW91ciBwaXBlbGluZSBmcm9tIGdldF9waXBlbGluZV9sYWJlbFwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gU28gdGhpcyBpcyBpbnRlcmVzdGluZyBiZWNhdXNlIGl0IGlzIGFic3RyYWN0ICh3b3JrYXJvdW5kIHZpYSBlcnJvcikgYW5kIHN0YXRpYy4gTm90IHNvbWV0aGluZyBwb3NzaWJsZSBpbiBqYXZhIGxvbC5cclxuICAvL1xyXG4gIC8vIFdoeSBzdGF0aWM/XHJcbiAgLy8gIFRoaXMgaXMgYSBidWlsZGVyIGZvciBhY3R1YWwgaW1wbGVtZW50YXRpb25zIGFuZCBnaXZlcyB5b3UgdGhlIGluc3RhbmNlLlxyXG4gIC8vXHJcbiAgLy8gV2h5IG5vdCBqdXN0IGEgY29uc3RydWN0b3IvaW5oZXJpdGFuY2U/XHJcbiAgLy8gQmVjYXVzZSBjb25zdHJ1Y3RvcnMgY2Fubm90IGJlIGFzeW5jLCBzbyBJIGhhdmUgdG8gdXNlIGEgc3RhdGljIGFzeW5jIGZ1bmN0aW9uIHRvIGJ1aWxkIHRoZSBwaXBlbGluZS5cclxuICAvLyAgVGhlIGFsdGVybmF0aXZlIGlzIHRvIGhhdmUgdGhlIGNvbnN0cnVjdG9yIG9mIGRlcml2ZWQgY2xhc3MgY2FsbCB0aGUgYXN5bmMgZnVuY3Rpb24gd2l0aCBhIGZsYWcgdGhhdCB0aGUgcGlwZWxpbmUgaXMgcmVhZHkuLi5idXQgSSBkb24ndCB3YW50IHRvIGNoZWNrIGZsYWdzLlxyXG4gIC8vXHJcbiAgLy8gV2h5IGFic3RyYWN0P1xyXG4gIC8vIEkgd2FudCB0aGlzIGFic3RyYWN0IGJlY2F1c2UgZXZlcnkgcGlwZWxpbmUgd2lsbCBoYXZlIGEgdW5pcXVlIGxheW91dCBhbmQgY29uc3RydWN0aW9uIHJlcXVpcmVtZW50cywgc28gSSBoYXZlIHRvIGRlZmVyIHRoZSBpbXBsZW1lbnRhdGlvbi5cclxuICAvLyBTdGlsbCB0aGlua2luZyBvZiBhIGJldHRlciB3YXkgdG8gZG8gdGhpcy4uLnRyaWNraWVzdCBwYXJ0IG9mIHRoZSBjb2RlIHJuXHJcbiAgLy9cclxuICBzdGF0aWMgYXN5bmMgY29uc3RydWN0X3BpcGVsaW5lKFxyXG4gICAgc2hhZGVyX3BhdGg6IHN0cmluZyxcclxuICAgIHNjZW5lOiBTY2VuZVxyXG4gICk6IFByb21pc2U8UGlwZUxpbmU+IHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgXCJQbGVhc2UgaW1wbGVtZW50IGxvZ2ljIGZvciBjcmVhdGluZyB5b3VyIHBpcGVsaW5lLCBtYWtlIHN1cmUgdG8gY2FsbCBzdXBlcigpIHNvIHRoZSBwaXBlbGluZSBpcyByZWdpc3RlcmVkLlwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gQSBwaXBlbGluZSBjYW4gdGFrZSB3aGF0ZXZlciBkYXRhIGl0IG5lZWRzIGZyb20gdGhlIHNjZW5lIGFuZCByZW5kZXIgaW50ZXJuYWxseS5cclxuICAvLyBUaGUgcmVhc29uIGl0IGlzbid0IHBlciBvYmplY3QgaXMgYmVjYXVzZSB0aGUgcGlwZWxpbmUgd2lsbCBhZGQgYWxsIG9iamVjdHMgdG8gYSB2Ym8gYW5kIHJlbmRlciB0aGVtIGFsbCBhdCBvbmNlLlxyXG4gIGFic3RyYWN0IHJlbmRlcihzY2VuZTogU2NlbmUpOiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5leHBvcnQgeyBQaXBlTGluZSB9O1xyXG4iLCJpbXBvcnQgeyBDb21wdXRlT2JqZWN0IH0gZnJvbSBcIi4uL2NvbXB1dGUvY29tcHV0ZV9vYmplY3RcIjtcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tIFwiLi4vc2NlbmUvc2NlbmVcIjtcclxuaW1wb3J0IHsgU3lzdGVtQ29yZSB9IGZyb20gXCIuLi9zeXN0ZW0vc3lzdGVtX2NvcmVcIjtcclxuaW1wb3J0IHsgUGlwZUxpbmUgfSBmcm9tIFwiLi9waXBlbGluZVwiO1xyXG5cclxuY2xhc3MgRGVmYXVsdDJEQ29tcHV0ZVBpcGVMaW5lIGV4dGVuZHMgUGlwZUxpbmUge1xyXG4gIHN0YXRpYyBnZXRfcGlwZWxpbmVfbGFiZWwoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBcImRlZmF1bHRfMmRfY29tcHV0ZVwiO1xyXG4gIH1cclxuXHJcbiAgLy8gTmVjZXNzYXJ5IHRvIGNvbnN0cnVjdCBhc3luY2hvbm91c2x5XHJcbiAgc3RhdGljIGFzeW5jIGNvbnN0cnVjdF9waXBlbGluZShzaGFkZXJfcGF0aDogc3RyaW5nLCBzY2VuZTogU2NlbmUpIHtcclxuICAgIGNvbnN0IHNoYWRlciA9IGF3YWl0IHNjZW5lLnNoYWRlcl9tYW5hZ2VyLmdldF9zaGFkZXIoc2hhZGVyX3BhdGgpO1xyXG4gICAgY29uc3QgeyBkZXZpY2UgfSA9IFN5c3RlbUNvcmU7XHJcblxyXG4gICAgY29uc3QgbW9kdWxlID0gZGV2aWNlLmNyZWF0ZVNoYWRlck1vZHVsZSh7XHJcbiAgICAgIGNvZGU6IHNoYWRlcixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHBpcGVsaW5lID0gZGV2aWNlLmNyZWF0ZUNvbXB1dGVQaXBlbGluZSh7XHJcbiAgICAgIGxheW91dDogXCJhdXRvXCIsXHJcbiAgICAgIGNvbXB1dGU6IHtcclxuICAgICAgICBtb2R1bGUsXHJcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IERlZmF1bHQyRENvbXB1dGVQaXBlTGluZShzaGFkZXJfcGF0aCwgcGlwZWxpbmUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVuZGVyKHNjZW5lOiBTY2VuZSk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgcGlwZWxpbmVfa2V5ID0gRGVmYXVsdDJEQ29tcHV0ZVBpcGVMaW5lLmdldF9waXBlbGluZV9rZXkoXHJcbiAgICAgIHRoaXMuc2hhZGVyX3BhdGhcclxuICAgICk7XHJcblxyXG4gICAgLy8gR2V0IHJlbGV2YW50IHNjZW5lIG9iamVjdHNcclxuICAgIGNvbnN0IHJlbGV2YW50X2NvbXB1dGVfb2JqZWN0cyA9IHNjZW5lLm9iamVjdHMuZmlsdGVyKFxyXG4gICAgICAob2JqZWN0KSA9PiBvYmplY3QucGlwZWxpbmVfa2V5ID09PSBwaXBlbGluZV9rZXlcclxuICAgICk7XHJcblxyXG4gICAgaWYgKHJlbGV2YW50X2NvbXB1dGVfb2JqZWN0cy5sZW5ndGggPT09IDAgfHwgIXNjZW5lLnRleHR1cmVfdmlldykge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29tcHV0ZV9wYXNzID0gU3lzdGVtQ29yZS5jb21tYW5kX2VuY29kZXIuYmVnaW5Db21wdXRlUGFzcygpO1xyXG4gICAgY29tcHV0ZV9wYXNzLnNldFBpcGVsaW5lKHRoaXMuZ3B1X3BpcGVsaW5lIGFzIEdQVUNvbXB1dGVQaXBlbGluZSk7XHJcblxyXG4gICAgY29uc3QgZGVmYXVsdF9iaW5kZ3JvdXBfZGVzY3JpcHRvcjogR1BVQmluZEdyb3VwRGVzY3JpcHRvciA9IHtcclxuICAgICAgbGF5b3V0OiB0aGlzLmdwdV9waXBlbGluZS5nZXRCaW5kR3JvdXBMYXlvdXQoMCksXHJcbiAgICAgIGVudHJpZXM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICBiaW5kaW5nOiAwLFxyXG4gICAgICAgICAgcmVzb3VyY2U6IHNjZW5lLnRleHR1cmVfdmlldyxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgfTtcclxuICAgIGNvbXB1dGVfcGFzcy5zZXRCaW5kR3JvdXAoXHJcbiAgICAgIDAsXHJcbiAgICAgIFN5c3RlbUNvcmUuZGV2aWNlLmNyZWF0ZUJpbmRHcm91cChkZWZhdWx0X2JpbmRncm91cF9kZXNjcmlwdG9yKVxyXG4gICAgKTtcclxuXHJcbiAgICByZWxldmFudF9jb21wdXRlX29iamVjdHMuZm9yRWFjaCgob2JqKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbXB1dGVfb2JqID0gb2JqIGFzIENvbXB1dGVPYmplY3Q7XHJcbiAgICAgIGNvbXB1dGVfcGFzcy5kaXNwYXRjaFdvcmtncm91cHMoXHJcbiAgICAgICAgY29tcHV0ZV9vYmoud29ya2dyb3VwX3NpemVbMF0sXHJcbiAgICAgICAgY29tcHV0ZV9vYmoud29ya2dyb3VwX3NpemVbMV0sXHJcbiAgICAgICAgY29tcHV0ZV9vYmoud29ya2dyb3VwX3NpemVbMl1cclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbXB1dGVfcGFzcy5lbmQoKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IERlZmF1bHQyRENvbXB1dGVQaXBlTGluZSB9O1xyXG4iLCJpbXBvcnQgeyBtYXQ0LCB2ZWM0IH0gZnJvbSBcImdsLW1hdHJpeFwiO1xyXG5pbXBvcnQgeyBjcmVhdGVfZ3B1X2J1ZmZlciB9IGZyb20gXCIuLi91dGlsL2dwdV91dGlsXCI7XHJcbmltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XHJcbmltcG9ydCB7IFN5c3RlbUNvcmUgfSBmcm9tIFwiLi4vc3lzdGVtL3N5c3RlbV9jb3JlXCI7XHJcbmltcG9ydCB7IFBpcGVMaW5lIH0gZnJvbSBcIi4vcGlwZWxpbmVcIjtcclxuXHJcbmNvbnN0IERFRkFVTFRfM0RfVU5JRk9STV9EQVRBX1NJWkVfRkxPQVQgPSA0ICsgNCAqIDQgKyA0ICogNCArIDEwICogNCAqIDI7XHJcbnR5cGUgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSA9IHtcclxuICBwb3NpdGlvbjogdmVjNDsgLy8gSW5jbHVkZXMgdHlwZSBpbiB0aGUgdyBjaGFubmVsICh1bnVzZWQpXHJcbiAgY29sb3I6IHZlYzQ7IC8vIEluY2x1ZGVzIGludGVuc2l0eSBpbiB0aGUgYWxwaGEgY2hhbm5lbFxyXG59O1xyXG50eXBlIERlZmF1bHQzRFVuaWZvcm1EYXRhID0ge1xyXG4gIGRpZmZ1c2VfcHJlc2VudDogR0xmbG9hdDtcclxuICBzcGVjdWxhcl9wcmVzZW50OiBHTGZsb2F0O1xyXG4gIG5vcm1hbF9wcmVzZW50OiBHTGZsb2F0O1xyXG4gIGxpZ2h0X2NvdW50OiBHTGZsb2F0O1xyXG4gIHZpZXdfbWF0cml4OiBtYXQ0O1xyXG4gIHByb2plY3Rpb25fbWF0cml4OiBtYXQ0O1xyXG4gIGxpZ2h0czogW1xyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSxcclxuICAgIERlZmF1bHQzRExpZ2h0VW5pZm9ybURhdGEsXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhLFxyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSxcclxuICAgIERlZmF1bHQzRExpZ2h0VW5pZm9ybURhdGEsXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhLFxyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YSxcclxuICAgIERlZmF1bHQzRExpZ2h0VW5pZm9ybURhdGEsXHJcbiAgICBEZWZhdWx0M0RMaWdodFVuaWZvcm1EYXRhLFxyXG4gICAgRGVmYXVsdDNETGlnaHRVbmlmb3JtRGF0YVxyXG4gIF07XHJcbn07XHJcblxyXG5jb25zdCBiaW5kX2dyb3VwX2xheW91dF9kZXNjcmlwdG9yOiBHUFVCaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yID0ge1xyXG4gIGVudHJpZXM6IFtcclxuICAgIHtcclxuICAgICAgYmluZGluZzogMCxcclxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYIHwgR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgIGJ1ZmZlcjoge1xyXG4gICAgICAgIHR5cGU6IFwidW5pZm9ybVwiLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgYmluZGluZzogMSxcclxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgIHNhbXBsZXI6IHt9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgLy8gRGlmZnVzZSB0ZXh0dXJlXHJcbiAgICAgIGJpbmRpbmc6IDIsXHJcbiAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxyXG4gICAgICB0ZXh0dXJlOiB7fSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIC8vIFNwZWN1bGFyIHRleHR1cmVcclxuICAgICAgYmluZGluZzogMyxcclxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgIHRleHR1cmU6IHt9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgLy8gTm9ybWFsIHRleHR1cmVcclxuICAgICAgYmluZGluZzogNCxcclxuICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXHJcbiAgICAgIHRleHR1cmU6IHt9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgLy8gTW9kZWwgdHJhbnNmb3Jtc1xyXG4gICAgICBiaW5kaW5nOiA1LFxyXG4gICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5WRVJURVgsXHJcbiAgICAgIGJ1ZmZlcjoge1xyXG4gICAgICAgIHR5cGU6IFwicmVhZC1vbmx5LXN0b3JhZ2VcIixcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgXSxcclxufTtcclxuXHJcbmNsYXNzIERlZmF1bHQzRFBpcGVMaW5lIGV4dGVuZHMgUGlwZUxpbmUge1xyXG4gIG1vZGVsX3RyYW5zZm9ybXM6IEdQVUJ1ZmZlciB8IHVuZGVmaW5lZDtcclxuICB1bmlmb3JtX2J1ZmZlcjogR1BVQnVmZmVyIHwgdW5kZWZpbmVkO1xyXG5cclxuICBzdGF0aWMgZ2V0X3BpcGVsaW5lX2xhYmVsKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gXCJkZWZhdWx0XzNkXCI7XHJcbiAgfVxyXG5cclxuICAvLyBOZWNlc3NhcnkgdG8gY29uc3RydWN0IGFzeW5jaG9ub3VzbHlcclxuICBzdGF0aWMgYXN5bmMgY29uc3RydWN0X3BpcGVsaW5lKHNoYWRlcl9wYXRoOiBzdHJpbmcsIHNjZW5lOiBTY2VuZSkge1xyXG4gICAgY29uc3QgeyBzaGFkZXJfbWFuYWdlciB9ID0gc2NlbmU7XHJcbiAgICBjb25zdCBzaGFkZXIgPSBhd2FpdCBzaGFkZXJfbWFuYWdlci5nZXRfc2hhZGVyKHNoYWRlcl9wYXRoKTtcclxuXHJcbiAgICAvLyBHZXQgZ2xvYmFsc1xyXG4gICAgY29uc3QgeyBkZXZpY2UgfSA9IFN5c3RlbUNvcmU7XHJcbiAgICBjb25zdCB7IHByZXNlbnRhdGlvbl9mb3JtYXQgfSA9IHNjZW5lO1xyXG5cclxuICAgIC8vIENvbXBpbGUgc2hhZGVycyB1c2VkIGluIHRoaXMgcGlwZWxpbmVcclxuICAgIGNvbnN0IG1vZHVsZSA9IGRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xyXG4gICAgICBjb2RlOiBzaGFkZXIsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCBiaW5kX2dyb3VwX2xheW91dCA9IGRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoXHJcbiAgICAgIGJpbmRfZ3JvdXBfbGF5b3V0X2Rlc2NyaXB0b3JcclxuICAgICk7XHJcbiAgICBjb25zdCBwaXBlbGluZSA9IGRldmljZS5jcmVhdGVSZW5kZXJQaXBlbGluZSh7XHJcbiAgICAgIGxhYmVsOiBcImRlZmF1bHRfM2RcIixcclxuICAgICAgbGF5b3V0OiBkZXZpY2UuY3JlYXRlUGlwZWxpbmVMYXlvdXQoe1xyXG4gICAgICAgIGJpbmRHcm91cExheW91dHM6IFtiaW5kX2dyb3VwX2xheW91dF0sIC8vIGdyb3VwIDAsIGJpbmRpbmcgMFxyXG4gICAgICB9KSxcclxuICAgICAgdmVydGV4OiB7XHJcbiAgICAgICAgbW9kdWxlOiBtb2R1bGUsXHJcbiAgICAgICAgYnVmZmVyczogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBhcnJheVN0cmlkZTogMTYgKiAzLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXHJcbiAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2hhZGVyTG9jYXRpb246IDAsIC8vIFBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMng0XCIsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzaGFkZXJMb2NhdGlvbjogMSwgLy8gVVZcclxuICAgICAgICAgICAgICAgIG9mZnNldDogMTYsXHJcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMng0XCIsXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzaGFkZXJMb2NhdGlvbjogMiwgLy8gTm9ybWFsXHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDMyLFxyXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImZsb2F0MzJ4NFwiLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICAgIGZyYWdtZW50OiB7XHJcbiAgICAgICAgbW9kdWxlOiBtb2R1bGUsXHJcbiAgICAgICAgdGFyZ2V0czogW1xyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBmb3JtYXQ6IHByZXNlbnRhdGlvbl9mb3JtYXQsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHByaW1pdGl2ZToge1xyXG4gICAgICAgIHRvcG9sb2d5OiBcInRyaWFuZ2xlLWxpc3RcIixcclxuICAgICAgfSxcclxuICAgICAgZGVwdGhTdGVuY2lsOiB7XHJcbiAgICAgICAgZm9ybWF0OiBcImRlcHRoMjRwbHVzXCIsXHJcbiAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgZGVwdGhDb21wYXJlOiBcImxlc3NcIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGRlZmF1bHRfM2RfcGlwZWxpbmUgPSBuZXcgRGVmYXVsdDNEUGlwZUxpbmUoc2hhZGVyX3BhdGgsIHBpcGVsaW5lKTtcclxuXHJcbiAgICBkZWZhdWx0XzNkX3BpcGVsaW5lLnVuaWZvcm1fYnVmZmVyID0gY3JlYXRlX2dwdV9idWZmZXIoXHJcbiAgICAgIG5ldyBGbG9hdDMyQXJyYXkoREVGQVVMVF8zRF9VTklGT1JNX0RBVEFfU0laRV9GTE9BVCksXHJcbiAgICAgIEdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVFxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gZGVmYXVsdF8zZF9waXBlbGluZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHJlbmRlcihzY2VuZTogU2NlbmUpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHsgZGV2aWNlLCBjb21tYW5kX2VuY29kZXIgfSA9IFN5c3RlbUNvcmU7XHJcbiAgICBjb25zdCB7IHRleHR1cmVfbWFuYWdlciwgdGV4dHVyZV92aWV3LCBkZXB0aF90ZXh0dXJlX3ZpZXcgfSA9IHNjZW5lO1xyXG5cclxuICAgIGNvbnN0IHBpcGVsaW5lX2tleSA9IERlZmF1bHQzRFBpcGVMaW5lLmdldF9waXBlbGluZV9rZXkodGhpcy5zaGFkZXJfcGF0aCk7XHJcblxyXG4gICAgLy8gR2V0IHJlbGV2YW50IHNjZW5lIG9iamVjdHNcclxuICAgIC8vIFBvdGVudGlhbGx5IHNsb3cgdG8gZmlsdGVyIG9iamVjdHMgdGhpcyB3YXlcclxuICAgIC8vIENoYW5nZSB0byBzdG9yZSBvYmplY3RzIGluIHNjZW5lIHN0cnVjdHVyZWQgYnkgcGlwZWxpbmUga2V5IChhbmQgbW9yZSBmaWx0ZXJzIGxpa2UgdGV4dHVyZSlcclxuICAgIGNvbnN0IHJlbGV2YW50X3NjZW5lX29iamVjdHMgPSBzY2VuZS5vYmplY3RzLmZpbHRlcihcclxuICAgICAgKG9iamVjdCkgPT4gb2JqZWN0LnBpcGVsaW5lX2tleSA9PT0gcGlwZWxpbmVfa2V5XHJcbiAgICApO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgcmVsZXZhbnRfc2NlbmVfb2JqZWN0cy5sZW5ndGggPT09IDAgfHxcclxuICAgICAgIXRleHR1cmVfdmlldyB8fFxyXG4gICAgICAhZGVwdGhfdGV4dHVyZV92aWV3XHJcbiAgICApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbmRlcl9wYXNzID0gY29tbWFuZF9lbmNvZGVyLmJlZ2luUmVuZGVyUGFzcyh7XHJcbiAgICAgIGNvbG9yQXR0YWNobWVudHM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICB2aWV3OiB0ZXh0dXJlX3ZpZXcsXHJcbiAgICAgICAgICBjbGVhclZhbHVlOiBbMC4wLCAwLjAsIDAuMCwgMV0sXHJcbiAgICAgICAgICBsb2FkT3A6IFwiY2xlYXJcIixcclxuICAgICAgICAgIHN0b3JlT3A6IFwic3RvcmVcIixcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgICBkZXB0aFN0ZW5jaWxBdHRhY2htZW50OiB7XHJcbiAgICAgICAgdmlldzogZGVwdGhfdGV4dHVyZV92aWV3LFxyXG4gICAgICAgIGRlcHRoQ2xlYXJWYWx1ZTogMS4wLFxyXG4gICAgICAgIHN0ZW5jaWxDbGVhclZhbHVlOiAwLFxyXG4gICAgICAgIGRlcHRoTG9hZE9wOiBcImNsZWFyXCIsXHJcbiAgICAgICAgZGVwdGhTdG9yZU9wOiBcInN0b3JlXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIHJlbmRlcl9wYXNzLnNldFBpcGVsaW5lKHRoaXMuZ3B1X3BpcGVsaW5lIGFzIEdQVVJlbmRlclBpcGVsaW5lKTtcclxuXHJcbiAgICAvLyBHZXQgdGV4dHVyZXNcclxuICAgIC8vIEZvciBub3cgSSB3aWxsIHJlbmRlciB3aXRoIHNhbWUgdGV4dHVyZVxyXG4gICAgLy8gSSB3aWxsIG5lZWQgdG8gc29sdmUgdGhpcyB3aXRoIGJpbmRsZXNzIHRleHR1cmVzLCAyZCBhcnJheSwgZHluYW1pY2FsbHkgY3JlYXRpbmcgYW4gYXRsYXMgZXRjLlxyXG4gICAgY29uc3Qgb2JqZWN0XzAgPSByZWxldmFudF9zY2VuZV9vYmplY3RzWzBdO1xyXG4gICAgY29uc3QgaGFzX3RleHR1cmVfZGlmZnVzZSA9IG9iamVjdF8wLmhhc190ZXh0dXJlX2RpZmZ1c2UoKSA/IDEuMCA6IDAuMDtcclxuICAgIGNvbnN0IGhhc190ZXh0dXJlX3NwZWN1bGFyID0gb2JqZWN0XzAuaGFzX3RleHR1cmVfc3BlY3VsYXIoKSA/IDEuMCA6IDAuMDtcclxuICAgIGNvbnN0IGhhc190ZXh0dXJlX25vcm1hbCA9IG9iamVjdF8wLmhhc190ZXh0dXJlX25vcm1hbCgpID8gMS4wIDogMC4wO1xyXG4gICAgY29uc3QgdGV4dHVyZV9kaWZmdXNlID0gYXdhaXQgdGV4dHVyZV9tYW5hZ2VyLmxvYWRfdGV4dHVyZShcclxuICAgICAgb2JqZWN0XzAudGV4dHVyZV9kaWZmdXNlXHJcbiAgICApO1xyXG4gICAgY29uc3QgdGV4dHVyZV9zcGVjdWxhciA9IGF3YWl0IHRleHR1cmVfbWFuYWdlci5sb2FkX3RleHR1cmUoXHJcbiAgICAgIG9iamVjdF8wLnRleHR1cmVfc3BlY3VsYXJcclxuICAgICk7XHJcbiAgICBjb25zdCB0ZXh0dXJlX25vcm1hbCA9IGF3YWl0IHRleHR1cmVfbWFuYWdlci5sb2FkX3RleHR1cmUoXHJcbiAgICAgIG9iamVjdF8wLnRleHR1cmVfbm9ybWFsXHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNldHVwIHRoZSBtb2RlbCB0cmFuc2Zvcm1zXHJcbiAgICBjb25zdCBtb2RlbF90cmFuc2Zvcm1zID0gbmV3IEZsb2F0MzJBcnJheShcclxuICAgICAgcmVsZXZhbnRfc2NlbmVfb2JqZWN0cy5mbGF0TWFwKChvYmopID0+IFsuLi5vYmouZ2V0X21vZGVsX21hdHJpeCgpXSlcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgbmVlZGVkX21vZGVsX3RyYW5zZm9ybV9zaXplID0gcmVsZXZhbnRfc2NlbmVfb2JqZWN0cy5sZW5ndGggKiAxNiAqIDQ7XHJcbiAgICBjb25zdCBjdXJyZW50X21vZGVsX3RyYW5zZm9ybXNfc2l6ZSA9IHRoaXMubW9kZWxfdHJhbnNmb3Jtcz8uc2l6ZSA/PyAwO1xyXG5cclxuICAgIC8vIEJlIGNhcmVmdWwsIGNvdWxkIGxlYWQgdG8gYSBtZW0gbGVhay4gTWF5YmUgYWRkIGEgMS8yIGJ1ZmZlciByZWR1Y3Rpb24uXHJcbiAgICBpZiAobmVlZGVkX21vZGVsX3RyYW5zZm9ybV9zaXplID4gY3VycmVudF9tb2RlbF90cmFuc2Zvcm1zX3NpemUpIHtcclxuICAgICAgdGhpcy5tb2RlbF90cmFuc2Zvcm1zPy5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMubW9kZWxfdHJhbnNmb3JtcyA9IGNyZWF0ZV9ncHVfYnVmZmVyKFxyXG4gICAgICAgIG1vZGVsX3RyYW5zZm9ybXMsXHJcbiAgICAgICAgR1BVQnVmZmVyVXNhZ2UuU1RPUkFHRSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBKdXN0IHdyaXRlIHRoZSBkYXRhXHJcbiAgICAgIGRldmljZS5xdWV1ZS53cml0ZUJ1ZmZlcih0aGlzLm1vZGVsX3RyYW5zZm9ybXMhLCAwLCBtb2RlbF90cmFuc2Zvcm1zKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZXR1cCB0aGUgdW5pZm9ybSBkYXRhXHJcbiAgICBjb25zdCB1bmlmb3JtX2RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgaGFzX3RleHR1cmVfZGlmZnVzZSxcclxuICAgICAgaGFzX3RleHR1cmVfc3BlY3VsYXIsXHJcbiAgICAgIGhhc190ZXh0dXJlX25vcm1hbCxcclxuICAgICAgc2NlbmUubGlnaHRzLmxlbmd0aCxcclxuICAgICAgLi4uc2NlbmUuY2FtZXJhLmdldF92aWV3X21hdHJpeCgpLFxyXG4gICAgICAuLi5zY2VuZS5jYW1lcmEuZ2V0X3Byb2plY3Rpb25fbWF0cml4KCksXHJcbiAgICAgIC4uLnNjZW5lLmxpZ2h0cy5yZWR1Y2UoXHJcbiAgICAgICAgKGFjYywgbGlnaHQpID0+IGFjYy5jb25jYXQoWy4uLmxpZ2h0LnBvc2l0aW9uLCAwLjAsIC4uLmxpZ2h0LmNvbG9yXSksXHJcbiAgICAgICAgW10gYXMgbnVtYmVyW11cclxuICAgICAgKSxcclxuICAgIF0pO1xyXG4gICAgZGV2aWNlLnF1ZXVlLndyaXRlQnVmZmVyKHRoaXMudW5pZm9ybV9idWZmZXIhLCAwLCB1bmlmb3JtX2RhdGEpO1xyXG5cclxuICAgIC8vIFNldHVwIGJpbmRncm91cFxyXG4gICAgY29uc3QgYmluZGdyb3VwX2Rlc2NyaXB0b3I6IEdQVUJpbmRHcm91cERlc2NyaXB0b3IgPSB7XHJcbiAgICAgIGxheW91dDogdGhpcy5ncHVfcGlwZWxpbmUuZ2V0QmluZEdyb3VwTGF5b3V0KDApLFxyXG4gICAgICBlbnRyaWVzOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgYmluZGluZzogMCxcclxuICAgICAgICAgIHJlc291cmNlOiB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcjogdGhpcy51bmlmb3JtX2J1ZmZlciEsXHJcbiAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgc2l6ZTogdGhpcy51bmlmb3JtX2J1ZmZlciEuc2l6ZSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICBiaW5kaW5nOiAxLFxyXG4gICAgICAgICAgcmVzb3VyY2U6IGRldmljZS5jcmVhdGVTYW1wbGVyKHt9KSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIC8vIERpZmZ1c2UgdGV4dHVyZVxyXG4gICAgICAgICAgYmluZGluZzogMixcclxuICAgICAgICAgIHJlc291cmNlOiB0ZXh0dXJlX2RpZmZ1c2UuY3JlYXRlVmlldygpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgLy8gU3BlY3VsYXIgdGV4dHVyZVxyXG4gICAgICAgICAgYmluZGluZzogMyxcclxuICAgICAgICAgIHJlc291cmNlOiB0ZXh0dXJlX3NwZWN1bGFyLmNyZWF0ZVZpZXcoKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIC8vIE5vcm1hbCB0ZXh0dXJlXHJcbiAgICAgICAgICBiaW5kaW5nOiA0LFxyXG4gICAgICAgICAgcmVzb3VyY2U6IHRleHR1cmVfbm9ybWFsLmNyZWF0ZVZpZXcoKSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIC8vIE1vZGVsIHRyYW5zZm9ybXNcclxuICAgICAgICAgIGJpbmRpbmc6IDUsXHJcbiAgICAgICAgICByZXNvdXJjZToge1xyXG4gICAgICAgICAgICBidWZmZXI6IHRoaXMubW9kZWxfdHJhbnNmb3JtcyEsXHJcbiAgICAgICAgICAgIG9mZnNldDogMCxcclxuICAgICAgICAgICAgc2l6ZTogdGhpcy5tb2RlbF90cmFuc2Zvcm1zIS5zaXplLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICBdLFxyXG4gICAgfTtcclxuICAgIHJlbmRlcl9wYXNzLnNldEJpbmRHcm91cCgwLCBkZXZpY2UuY3JlYXRlQmluZEdyb3VwKGJpbmRncm91cF9kZXNjcmlwdG9yKSk7IC8vIElzIHRoaXMgZXhwZW5zaXZlP1xyXG5cclxuICAgIC8vIFJlbmRlciBlYWNoIG9iamVjdFxyXG4gICAgY29uc3QgeyB2ZXJ0ZXhfZGF0YV9ncHUsIGluZGljZXNfZ3B1LCBpbmRleF9jb3VudCB9ID1cclxuICAgICAgYXdhaXQgb2JqZWN0XzAuZ2V0X21vZGVsX2RhdGEoKTtcclxuICAgIHJlbmRlcl9wYXNzLnNldFZlcnRleEJ1ZmZlcigwLCB2ZXJ0ZXhfZGF0YV9ncHUpO1xyXG4gICAgcmVuZGVyX3Bhc3Muc2V0SW5kZXhCdWZmZXIoaW5kaWNlc19ncHUsIFwidWludDMyXCIpO1xyXG4gICAgcmVuZGVyX3Bhc3MuZHJhd0luZGV4ZWQoXHJcbiAgICAgIGluZGV4X2NvdW50LFxyXG4gICAgICByZWxldmFudF9zY2VuZV9vYmplY3RzLmxlbmd0aCxcclxuICAgICAgMCxcclxuICAgICAgMCxcclxuICAgICAgMFxyXG4gICAgKTtcclxuXHJcbiAgICByZW5kZXJfcGFzcy5lbmQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IERlZmF1bHQzRFBpcGVMaW5lIH07XHJcbiIsImltcG9ydCB7IERlZmF1bHQyRENvbXB1dGVQaXBlTGluZSB9IGZyb20gXCIuL2RlZmF1bHRfMmRfY29tcHV0ZV9waXBlbGluZVwiO1xyXG5pbXBvcnQgeyBEZWZhdWx0M0RQaXBlTGluZSB9IGZyb20gXCIuL2RlZmF1bHRfM2RfcGlwZWxpbmVcIjtcclxuaW1wb3J0IHsgUGlwZUxpbmUgfSBmcm9tIFwiLi9waXBlbGluZVwiO1xyXG5cclxuaW50ZXJmYWNlIFJlZ2lzdGVyZWRQaXBlbGluZVR5cGVzIHtcclxuICBba2V5OiBzdHJpbmddOiB0eXBlb2YgUGlwZUxpbmU7XHJcbn1cclxuXHJcbmNvbnN0IHJlZ2lzdGVyZWRfcGlwZWxpbmVfdHlwZXM6IFJlZ2lzdGVyZWRQaXBlbGluZVR5cGVzID0ge1xyXG4gIERlZmF1bHQyRENvbXB1dGVQaXBlTGluZSxcclxuICBEZWZhdWx0M0RQaXBlTGluZSxcclxufTtcclxuXHJcbmV4cG9ydCB7IHJlZ2lzdGVyZWRfcGlwZWxpbmVfdHlwZXMgfTtcclxuIiwiaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2NhbWVyYS9jYW1lcmFcIjtcclxuaW1wb3J0IHsgTGlnaHQgfSBmcm9tIFwiLi4vbGlnaHRzL2xpZ2h0XCI7XHJcbmltcG9ydCB7IFBpcGVMaW5lIH0gZnJvbSBcIi4uL3BpcGVsaW5lcy9waXBlbGluZVwiO1xyXG5pbXBvcnQgeyBQaXBlTGluZU1hbmFnZXIgfSBmcm9tIFwiLi4vcGlwZWxpbmVzL3BpcGVsaW5lX21hbmFnZXJcIjtcclxuaW1wb3J0IHsgU2hhZGVyTWFuYWdlciB9IGZyb20gXCIuLi9waXBlbGluZXMvc2hhZGVyX21hbmFnZXJcIjtcclxuaW1wb3J0IHsgU2NlbmVPYmplY3QgfSBmcm9tIFwiLi4vc2NlbmVfb2JqZWN0L3NjZW5lX29iamVjdFwiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vc3lzdGVtL2V2ZW50X2VudW1zXCI7XHJcbmltcG9ydCB7IEdhbWVFdmVudFN5c3RlbSB9IGZyb20gXCIuLi9zeXN0ZW0vZXZlbnRfc3lzdGVtXCI7XHJcbmltcG9ydCB7IFN5c3RlbUNvcmUgfSBmcm9tIFwiLi4vc3lzdGVtL3N5c3RlbV9jb3JlXCI7XHJcbmltcG9ydCB7IFRleHR1cmVNYW5hZ2VyIH0gZnJvbSBcIi4uL3RleHR1cmUvdGV4dHVyZV9tYW5hZ2VyXCI7XHJcbmltcG9ydCB7IHJlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzIH0gZnJvbSBcIi4uL3NjZW5lX29iamVjdC9yZWdpc3RlcmVkX3NjZW5lX29iamVjdF90eXBlc1wiO1xyXG5pbXBvcnQgeyByZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzIH0gZnJvbSBcIi4uL3BpcGVsaW5lcy9yZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzXCI7XHJcblxyXG50eXBlIFNjZW5lRGF0YSA9IHtcclxuICBjYW52YXM6IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICBvYmplY3RzOiB7XHJcbiAgICB0eXBlOiBrZXlvZiB0eXBlb2YgcmVnaXN0ZXJlZF9zY2VuZV9vYmplY3RfdHlwZXM7XHJcbiAgICBwaXBlbGluZToga2V5b2YgdHlwZW9mIHJlZ2lzdGVyZWRfcGlwZWxpbmVfdHlwZXMgfCB1bmRlZmluZWQ7XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbiAgfVtdO1xyXG59O1xyXG5cclxuY2xhc3MgU2NlbmUge1xyXG4gIGFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgY3VycmVudF9mcmFtZTogbnVtYmVyID0gMDtcclxuXHJcbiAgZXZlbnRfc3lzdGVtOiBHYW1lRXZlbnRTeXN0ZW0gPSBuZXcgR2FtZUV2ZW50U3lzdGVtKCk7XHJcbiAgdGV4dHVyZV9tYW5hZ2VyOiBUZXh0dXJlTWFuYWdlciA9IG5ldyBUZXh0dXJlTWFuYWdlcigpO1xyXG4gIHBpcGVsaW5lX21hbmFnZXI6IFBpcGVMaW5lTWFuYWdlciA9IG5ldyBQaXBlTGluZU1hbmFnZXIoKTtcclxuICBzaGFkZXJfbWFuYWdlcjogU2hhZGVyTWFuYWdlciA9IG5ldyBTaGFkZXJNYW5hZ2VyKCk7XHJcblxyXG4gIGNhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIHRleHR1cmVfdmlldz86IEdQVVRleHR1cmVWaWV3O1xyXG4gIGRlcHRoX3RleHR1cmVfdmlldz86IEdQVVRleHR1cmVWaWV3O1xyXG5cclxuICBwcmVzZW50YXRpb25fZm9ybWF0OiBHUFVUZXh0dXJlRm9ybWF0ID0gXCJyZ2JhOHVub3JtXCI7IC8vIENoYW5nZSB0aGlzIGlmIHlvdSB3YW50IEhEUiBvciBzb21ldGhpbmcgZWxzZS4gSSBhbSBzdGlja2luZyB3aXRoIHRoaXMgYXMgaXRzIG1vc3Qgc3VwcG9ydGVkLlxyXG5cclxuICBsaWdodHM6IExpZ2h0W10gPSBbXTtcclxuICBjYW1lcmE6IENhbWVyYSA9IG5ldyBDYW1lcmEoe1xyXG4gICAgaWQ6IFwiLTFcIixcclxuICAgIG5hbWU6IFwiY2FtZXJhXCIsXHJcbiAgICBzY2VuZTogdGhpcyxcclxuICB9KTtcclxuICBvYmplY3RzOiBTY2VuZU9iamVjdFtdID0gW107XHJcblxyXG4gIC8vIFRPRE86IExvYWQgc2NlbmUgZnJvbSBmaWxlXHJcbiAgLy8gQSBzY2VuZSB3aWxsIGhhdmUgcmVzb3VyY2UgbWFuYWdlcnMgdGhhdCB3aWxsIGxvYWQvY2FjaGUgcmVzb3VyY2VzICh0ZXh0dXJlcywgcGlwZWxpbmVzLCBzaGFkZXJzLCBtb2RlbHMgZXRjKS4gVW5sb2FkaW5nIGEgc2NlbmUgd2lsbCB1bmxvYWQgYWxsIHJlc291cmNlcyBjbGVhbmx5LlxyXG4gIC8vIEluIG90aGVyIHdvcmRzLCByZXNvdXJjZSBtYW5hZ2VycyBzaG91bGQgbm90IGJlIHN0YXRpYywgcmF0aGVyIGNsYXNzZXMgdGhhdCBhcmUgaW5zdGFudGlhdGVkIHBlciBzY2VuZS5cclxuICBjb25zdHJ1Y3RvcihzY2VuZV9wYXRoOiBzdHJpbmcgPSBcIlwiLCBjYW52YXNfaWQ6IHN0cmluZyA9IFwiY2FudmFzXCIpIHtcclxuICAgIC8vIEluaXQgc2NlbmUgZnJvbSBmaWxlLi4uXHJcbiAgICB0aGlzLmxvYWRfc2NlbmUoc2NlbmVfcGF0aCwgdGhpcykudGhlbigoKSA9PiB7XHJcbiAgICAgIC8vIFJlZ2lzdGVyIGxpc3RlbmVyc1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZV9zY2VuZSk7XHJcbiAgICAgIHRoaXMuZXZlbnRfc3lzdGVtLnN1YnNjcmliZShFdmVudEVudW0uU0NFTkVfRlJBTUVfU1RBUlQsIHRoaXMudXBkYXRlKTtcclxuICAgICAgdGhpcy5ldmVudF9zeXN0ZW0uc3Vic2NyaWJlKEV2ZW50RW51bS5TQ0VORV9VUERBVEVfRU5ELCB0aGlzLnJlbmRlcik7XHJcbiAgICAgIHRoaXMuZXZlbnRfc3lzdGVtLnN1YnNjcmliZShFdmVudEVudW0uU0NFTkVfUkVOREVSX0VORCwgdGhpcy5mcmFtZV9lbmQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2FkX3NjZW5lID0gYXN5bmMgKHNjZW5lX3BhdGg6IHN0cmluZywgc2NlbmU6IFNjZW5lKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhgTG9hZGluZyBzY2VuZSBmcm9tOiAke3NjZW5lX3BhdGh9YCk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHNjZW5lX3BhdGgpO1xyXG4gICAgICBjb25zdCBzY2VuZV9kYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgU2NlbmVEYXRhO1xyXG5cclxuICAgICAgLy8gSW5pdCBDYW52YXNcclxuICAgICAgY29uc3QgY2FudmFzX2lkID0gc2NlbmVfZGF0YS5jYW52YXMgfHwgXCJjYW52YXNcIjtcclxuICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNfaWQpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgICB0aGlzLnJlc2l6ZV9zY2VuZSgpO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xyXG4gICAgICAgIGFsZXJ0KFwiQ2FudmFzIG5vdCBmb3VuZFwiKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW52YXMgbm90IGZvdW5kXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcclxuICAgICAgICBcIndlYmdwdVwiXHJcbiAgICAgICkgYXMgdW5rbm93biBhcyBHUFVDYW52YXNDb250ZXh0O1xyXG4gICAgICBpZiAoIWNvbnRleHQpIHtcclxuICAgICAgICBhbGVydChcIldlYkdQVSBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIldlYkdQVSBub3Qgc3VwcG9ydGVkXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb250ZXh0LmNvbmZpZ3VyZSh7XHJcbiAgICAgICAgZGV2aWNlOiBTeXN0ZW1Db3JlLmRldmljZSxcclxuICAgICAgICBmb3JtYXQ6IHRoaXMucHJlc2VudGF0aW9uX2Zvcm1hdCxcclxuICAgICAgICB1c2FnZTpcclxuICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5SRU5ERVJfQVRUQUNITUVOVCB8IEdQVVRleHR1cmVVc2FnZS5TVE9SQUdFX0JJTkRJTkcsIC8vIEFkZGVkIHN0b3JhZ2UgYmluZGluZyBmb3IgZGlyZWN0IG91dHB1dCBmb3IgY29tcHV0ZSBzaGFkZXJzXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gQ29uc3RydWN0IHRoZSBzY2VuZSBvYmplY3RzXHJcbiAgICAgIGNvbnN0IHNjZW5lX29iamVjdHNfcGF0aCA9IFwib2JqZWN0c1wiO1xyXG4gICAgICBzY2VuZV9kYXRhW3NjZW5lX29iamVjdHNfcGF0aF0uZm9yRWFjaCgob2JqZWN0X2RhdGEpID0+IHtcclxuICAgICAgICBjb25zdCB7IHR5cGUsIHBpcGVsaW5lLCAuLi5hcmdzIH0gPSBvYmplY3RfZGF0YTtcclxuICAgICAgICBjb25zdCBvYmplY3RfdHlwZSA9IHJlZ2lzdGVyZWRfc2NlbmVfb2JqZWN0X3R5cGVzW3R5cGVdO1xyXG4gICAgICAgIGlmIChvYmplY3RfdHlwZSkge1xyXG4gICAgICAgICAgLy8gRm9yIG5vdyB3ZSB0cmVhdCBsaWdodHMsIGNhbWVyYSBhbmQgb2JqZWN0IGRpZmZlcmVudGx5IGJlY2F1c2Ugb2YgdGhlIHdheSBVQk8gaXMgbG9hZGVkLlxyXG4gICAgICAgICAgLy8gQnV0IGluIGZ1dHVyZSBpdCBzaG91bGQgYmUgZ2VuZXJpYywgYW5kIHN1Y2ggZGlzdGluY3Rpb24gc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIHBpcGVsaW5lLlxyXG4gICAgICAgICAgY29uc3Qgb2JqZWN0ID0gbmV3IG9iamVjdF90eXBlKHtcclxuICAgICAgICAgICAgLi4uKGFyZ3MgYXMgYW55KSxcclxuICAgICAgICAgICAgc2NlbmU6IHRoaXMsXHJcbiAgICAgICAgICAgIHBpcGVsaW5lOiBwaXBlbGluZSAmJiByZWdpc3RlcmVkX3BpcGVsaW5lX3R5cGVzW3BpcGVsaW5lXSxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBDYW1lcmEpIHtcclxuICAgICAgICAgICAgc2NlbmUuY2FtZXJhID0gb2JqZWN0O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBMaWdodCkge1xyXG4gICAgICAgICAgICBzY2VuZS5hZGRfbGlnaHQob2JqZWN0KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjZW5lLmFkZF9vYmplY3Qob2JqZWN0KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYFVucmVjb2duaXplZCBvYmplY3QgdHlwZTogJHt0eXBlfSwgZGlkIHlvdSBhZGQgaXQgdG8gdGhlIHJlZ2lzdGVyZWQgdHlwZXMgZmlsZT9gXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBsb2FkaW5nIHNjZW5lOiAke2Vycm9yfWApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJlc2l6ZV9zY2VuZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmNhbnZhcz8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBpZiAodGhpcy5jYW52YXMgJiYgcmVjdCkge1xyXG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHJlY3Qud2lkdGg7XHJcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG5cclxuICAgICAgdGhpcy5kZXB0aF90ZXh0dXJlX3ZpZXcgPSBTeXN0ZW1Db3JlLmRldmljZVxyXG4gICAgICAgIC5jcmVhdGVUZXh0dXJlKHtcclxuICAgICAgICAgIGxhYmVsOiBcIkRlcHRoIFRleHR1cmVcIixcclxuICAgICAgICAgIHNpemU6IHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuY2FudmFzIS53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmNhbnZhcyEuaGVpZ2h0LFxyXG4gICAgICAgICAgICBkZXB0aE9yQXJyYXlMYXllcnM6IDEsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZm9ybWF0OiBcImRlcHRoMjRwbHVzXCIsXHJcbiAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLlJFTkRFUl9BVFRBQ0hNRU5ULFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNyZWF0ZVZpZXcoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBhZGRfbGlnaHQgPSAobGlnaHQ6IExpZ2h0KSA9PiB7XHJcbiAgICB0aGlzLmxpZ2h0cy5wdXNoKGxpZ2h0KTtcclxuICB9O1xyXG5cclxuICBhZGRfb2JqZWN0ID0gKG9iamVjdDogU2NlbmVPYmplY3QpID0+IHtcclxuICAgIHRoaXMub2JqZWN0cy5wdXNoKG9iamVjdCk7XHJcblxyXG4gICAgaWYgKG9iamVjdC5waXBlbGluZSkge1xyXG4gICAgICB0aGlzLnBpcGVsaW5lX21hbmFnZXIucmVnaXN0ZXJfcGlwZWxpbmUoXHJcbiAgICAgICAgb2JqZWN0LnBpcGVsaW5lLFxyXG4gICAgICAgIG9iamVjdC5zaGFkZXJfcGF0aCxcclxuICAgICAgICB0aGlzXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnJhbWVfc3RhcnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuYWN0aXZlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jYW52YXM/LmdldENvbnRleHQoXHJcbiAgICAgIFwid2ViZ3B1XCJcclxuICAgICkgYXMgdW5rbm93biBhcyBHUFVDYW52YXNDb250ZXh0O1xyXG4gICAgaWYgKCFjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHJlbmRlciB0ZXh0dXJlcyBmb3IgdGhpcyBmcmFtZVxyXG4gICAgdGhpcy50ZXh0dXJlX3ZpZXcgPSBjb250ZXh0LmdldEN1cnJlbnRUZXh0dXJlKCkuY3JlYXRlVmlldygpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goRXZlbnRFbnVtLlNDRU5FX0ZSQU1FX1NUQVJUKTtcclxuICB9O1xyXG5cclxuICBmcmFtZV9lbmQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0aGlzLmN1cnJlbnRfZnJhbWUrKztcclxuXHJcbiAgICBhd2FpdCB0aGlzLmV2ZW50X3N5c3RlbS5wdWJsaXNoKEV2ZW50RW51bS5TQ0VORV9GUkFNRV9FTkQpO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmIChTeXN0ZW1Db3JlLnN5c3RlbV9pbnB1dC5rZXlfcHJlc3MuZ2V0KFwicVwiKSB8fCAhdGhpcy5hY3RpdmUpIHtcclxuICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coXCJFbmRpbmcgc2NlbmUuLi5cIik7XHJcbiAgICAgIC8vIFRPRE86IFNob3VsZCBwcm9iYWJseSBwdWJsaXNoIHNvbWV0aGluZyBhYm91dCBzY2VuZSBlbmRcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goRXZlbnRFbnVtLlNDRU5FX1VQREFURV9TVEFSVCk7XHJcblxyXG4gICAgY29uc3QgdXBkYXRlX3Byb21pc2VzID0gWy4uLnRoaXMub2JqZWN0cywgLi4udGhpcy5saWdodHMsIHRoaXMuY2FtZXJhXS5tYXAoXHJcbiAgICAgIChvYmplY3QpID0+IG9iamVjdC51cGRhdGUodGhpcylcclxuICAgICk7XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh1cGRhdGVfcHJvbWlzZXMpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goRXZlbnRFbnVtLlNDRU5FX1VQREFURV9FTkQpO1xyXG4gIH07XHJcblxyXG4gIHJlbmRlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IHRoaXMuZXZlbnRfc3lzdGVtLnB1Ymxpc2goRXZlbnRFbnVtLlNDRU5FX1JFTkRFUl9TVEFSVCk7XHJcblxyXG4gICAgY29uc3QgdW5pcXVlX3BpcGVsaW5lcyA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMucGlwZWxpbmVfbWFuYWdlci5yZWdpc3RlcmVkX3BpcGVsaW5lcy52YWx1ZXMoKVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBvcmRlcmVkX3BpcGVsaW5lcyA9IHVuaXF1ZV9waXBlbGluZXMucmVkdWNlKChhY2MsIHBpcGVsaW5lKSA9PiB7XHJcbiAgICAgIGNvbnN0IG9yZGVyID0gcGlwZWxpbmUub3JkZXI7XHJcbiAgICAgIGlmICghYWNjLmhhcyhvcmRlcikpIHtcclxuICAgICAgICBhY2Muc2V0KG9yZGVyLCBbXSk7XHJcbiAgICAgIH1cclxuICAgICAgYWNjLmdldChvcmRlcikhLnB1c2gocGlwZWxpbmUpO1xyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwgbmV3IE1hcCgpIGFzIE1hcDxudW1iZXIsIFBpcGVMaW5lW10+KTtcclxuXHJcbiAgICBjb25zdCBvcmRlcmVkX2tleXMgPSBBcnJheS5mcm9tKG9yZGVyZWRfcGlwZWxpbmVzLmtleXMoKSkuc29ydCgpO1xyXG4gICAgZm9yIChjb25zdCBrZXkgb2Ygb3JkZXJlZF9rZXlzKSB7XHJcbiAgICAgIGNvbnN0IHBpcGVsaW5lcyA9IG9yZGVyZWRfcGlwZWxpbmVzLmdldChrZXkpITtcclxuICAgICAgY29uc3QgcmVuZGVyX3Byb21pc2VzID0gcGlwZWxpbmVzLm1hcCgocGlwZWxpbmUpID0+XHJcbiAgICAgICAgcGlwZWxpbmUucmVuZGVyKHRoaXMpXHJcbiAgICAgICk7XHJcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHJlbmRlcl9wcm9taXNlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgdGhpcy5ldmVudF9zeXN0ZW0ucHVibGlzaChFdmVudEVudW0uU0NFTkVfUkVOREVSX0VORCk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgU2NlbmUgfTtcclxuIiwidHlwZSBNb3VzZVN0YXRlID0ge1xyXG4gIHg6IG51bWJlcjtcclxuICB5OiBudW1iZXI7XHJcbiAgZHg6IG51bWJlcjtcclxuICBkeTogbnVtYmVyO1xyXG4gIGxlZnQ6IGJvb2xlYW47XHJcbiAgcmlnaHQ6IGJvb2xlYW47XHJcbiAgbWlkZGxlOiBib29sZWFuO1xyXG4gIGxlZnRfY2xpY2s6IGJvb2xlYW47XHJcbiAgcmlnaHRfY2xpY2s6IGJvb2xlYW47XHJcbiAgbWlkZGxlX2NsaWNrOiBib29sZWFuO1xyXG59O1xyXG5cclxuY2xhc3MgU3lzdGVtSW5wdXRIYW5kbGVyIHtcclxuICBrZXlfc3RhdGU6IE1hcDxzdHJpbmcsIGJvb2xlYW4+O1xyXG4gIGtleV9wcmVzczogTWFwPHN0cmluZywgYm9vbGVhbj47XHJcbiAgbW91c2Vfc3RhdGU6IE1vdXNlU3RhdGU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5rZXlfc3RhdGUgPSBuZXcgTWFwPHN0cmluZywgYm9vbGVhbj4oKTtcclxuICAgIHRoaXMua2V5X3ByZXNzID0gbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCk7XHJcbiAgICB0aGlzLm1vdXNlX3N0YXRlID0ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICBkeDogMCxcclxuICAgICAgZHk6IDAsXHJcbiAgICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgICByaWdodDogZmFsc2UsXHJcbiAgICAgIG1pZGRsZTogZmFsc2UsXHJcbiAgICAgIGxlZnRfY2xpY2s6IGZhbHNlLFxyXG4gICAgICByaWdodF9jbGljazogZmFsc2UsXHJcbiAgICAgIG1pZGRsZV9jbGljazogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaXQgZXh0ZXJuYWwgbGlzdGVuZXJzXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHtcclxuICAgICAgdGhpcy5rZXlfc3RhdGUuc2V0KGUua2V5LCB0cnVlKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLmtleV9zdGF0ZS5zZXQoZS5rZXksIGZhbHNlKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLmtleV9wcmVzcy5zZXQoZS5rZXksIHRydWUpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLm1vdXNlX3N0YXRlLmR4ID0gZS5tb3ZlbWVudFg7XHJcbiAgICAgIHRoaXMubW91c2Vfc3RhdGUuZHkgPSBlLm1vdmVtZW50WTtcclxuICAgICAgdGhpcy5tb3VzZV9zdGF0ZS54ID0gZS54O1xyXG4gICAgICB0aGlzLm1vdXNlX3N0YXRlLnkgPSBlLnk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMubW91c2Vfc3RhdGUubGVmdCA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24gPT09IDEpIHtcclxuICAgICAgICB0aGlzLm1vdXNlX3N0YXRlLm1pZGRsZSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24gPT09IDIpIHtcclxuICAgICAgICB0aGlzLm1vdXNlX3N0YXRlLnJpZ2h0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKGUuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZV9zdGF0ZS5sZWZ0ID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5idXR0b24gPT09IDEpIHtcclxuICAgICAgICB0aGlzLm1vdXNlX3N0YXRlLm1pZGRsZSA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGUuYnV0dG9uID09PSAyKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZV9zdGF0ZS5yaWdodCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuICAgICAgaWYgKGUuYnV0dG9uID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tb3VzZV9zdGF0ZS5sZWZ0X2NsaWNrID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChlLmJ1dHRvbiA9PT0gMSkge1xyXG4gICAgICAgIHRoaXMubW91c2Vfc3RhdGUubWlkZGxlX2NsaWNrID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChlLmJ1dHRvbiA9PT0gMikge1xyXG4gICAgICAgIHRoaXMubW91c2Vfc3RhdGUucmlnaHRfY2xpY2sgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5rZXlfc3RhdGUuY2xlYXIoKTtcclxuICAgIHRoaXMua2V5X3ByZXNzLmNsZWFyKCk7XHJcbiAgICB0aGlzLm1vdXNlX3N0YXRlID0ge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICBkeDogMCxcclxuICAgICAgZHk6IDAsXHJcbiAgICAgIGxlZnQ6IGZhbHNlLFxyXG4gICAgICByaWdodDogZmFsc2UsXHJcbiAgICAgIG1pZGRsZTogZmFsc2UsXHJcbiAgICAgIGxlZnRfY2xpY2s6IGZhbHNlLFxyXG4gICAgICByaWdodF9jbGljazogZmFsc2UsXHJcbiAgICAgIG1pZGRsZV9jbGljazogZmFsc2UsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgU3lzdGVtSW5wdXRIYW5kbGVyIH07XHJcbiIsImltcG9ydCB7IFNjZW5lIH0gZnJvbSBcIi4uL3NjZW5lL3NjZW5lXCI7XHJcbmltcG9ydCB7IFN5c3RlbUNvbmZpZ1R5cGUgfSBmcm9tIFwiLi9zeXN0ZW1fY29uZmlnXCI7XHJcbmltcG9ydCB7IFN5c3RlbUlucHV0SGFuZGxlciB9IGZyb20gXCIuL3N5c3RlbV9pbnB1dFwiO1xyXG5cclxuLy8gSSBvbmx5IGludGVuZCBvbiBoYXZpbmcgb25lIHN5c3RlbSwgc28gdGhpcyBjbGFzcyB3aWxsIGJlIHN0YXRpYy5cclxuLy8gU2ltcGxpZmllcyBhY2Nlc3MsIGFuZCBtYXkgaGF2ZSBwZXJmb3JtYW5jZSBiZW5lZml0cy5cclxuY2xhc3MgU3lzdGVtQ29yZSB7XHJcbiAgc3RhdGljIHNjZW5lczogU2NlbmVbXSA9IFtdO1xyXG4gIHN0YXRpYyBjb25maWc6IFN5c3RlbUNvbmZpZ1R5cGU7XHJcblxyXG4gIHN0YXRpYyBhZGFwdGVyOiBHUFVBZGFwdGVyO1xyXG4gIHN0YXRpYyBkZXZpY2U6IEdQVURldmljZTtcclxuICBzdGF0aWMgY29tbWFuZF9lbmNvZGVyOiBHUFVDb21tYW5kRW5jb2RlcjtcclxuXHJcbiAgc3RhdGljIHN5c3RlbV9pbnB1dDogU3lzdGVtSW5wdXRIYW5kbGVyO1xyXG5cclxuICBzdGF0aWMgYXN5bmMgc3RhcnQoKSB7XHJcbiAgICAvLyBJbml0IFdlYkdQVVxyXG4gICAgYXdhaXQgU3lzdGVtQ29yZS5pbml0X3dlYmdwdSgpO1xyXG5cclxuICAgIC8vIFNldHVwIGNvcmUgc3lzdGVtc1xyXG4gICAgY29uc3QgY29uZmlnX3BhdGggPSBcIi4vc3lzdGVtX2NvcmVfY29uZmlnLmpzb25cIjtcclxuICAgIFN5c3RlbUNvcmUuY29uZmlnID0gYXdhaXQgKGF3YWl0IGZldGNoKGNvbmZpZ19wYXRoKSkuanNvbigpO1xyXG4gICAgU3lzdGVtQ29yZS5zeXN0ZW1faW5wdXQgPSBuZXcgU3lzdGVtSW5wdXRIYW5kbGVyKCk7XHJcblxyXG4gICAgLy8gRm9yIG5vdyB3ZSBoYXZlIG9uZSBzY2VuZVxyXG4gICAgU3lzdGVtQ29yZS5zY2VuZXMucHVzaChuZXcgU2NlbmUoU3lzdGVtQ29yZS5jb25maWcuc3RhcnRfc2NlbmUpKTtcclxuXHJcbiAgICAvLyBLaWNrIG9mZiBldmVudCBsb29wXHJcbiAgICBjb25zb2xlLmxvZyhcIlN5c3RlbUNvcmUgaW5pdGlhbGl6ZWQsIHN0YXJ0aW5nIGV2ZW50IGxvb3AuLi5cIik7XHJcbiAgICBTeXN0ZW1Db3JlLmV2ZW50X2xvb3AoKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBpbml0X3dlYmdwdSgpIHtcclxuICAgIC8vIEdldCBkZXZpY2VcclxuICAgIGNvbnN0IGFkYXB0ZXIgPSBhd2FpdCBuYXZpZ2F0b3IuZ3B1Py5yZXF1ZXN0QWRhcHRlcigpO1xyXG4gICAgY29uc3QgZGV2aWNlID0gYXdhaXQgYWRhcHRlcj8ucmVxdWVzdERldmljZSgpO1xyXG4gICAgaWYgKCFhZGFwdGVyIHx8ICFkZXZpY2UpIHtcclxuICAgICAgYWxlcnQoXCJXZWJHUFUgbm90IHN1cHBvcnRlZFwiKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiV2ViR1BVIG5vdCBzdXBwb3J0ZWRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHN5c3RlbSB2YXJpYWJsZXNcclxuICAgIFN5c3RlbUNvcmUuYWRhcHRlciA9IGFkYXB0ZXI7XHJcbiAgICBTeXN0ZW1Db3JlLmRldmljZSA9IGRldmljZTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBldmVudF9sb29wKCkge1xyXG4gICAgU3lzdGVtQ29yZS5jb21tYW5kX2VuY29kZXIgPSBTeXN0ZW1Db3JlLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpOyAvLyBSZXNldCBjb21tYW5kIGVuY29kZXJcclxuXHJcbiAgICAvLyBVcGRhdGUgc2NlbmVzXHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLnNjZW5lcy5tYXAoKHNjZW5lKSA9PiBzY2VuZS5mcmFtZV9zdGFydCgpKSk7XHJcblxyXG4gICAgU3lzdGVtQ29yZS5kZXZpY2UucXVldWUuc3VibWl0KFtTeXN0ZW1Db3JlLmNvbW1hbmRfZW5jb2Rlci5maW5pc2goKV0pOyAvLyBTdWJtaXQgcmVuZGVyIGNvbW1hbmRzIHRvIEdQVVxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IFN5c3RlbUNvcmUuZXZlbnRfbG9vcCgpKTtcclxuICAgIHRoaXMuc3lzdGVtX2lucHV0LnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBTeXN0ZW1Db3JlIH07XHJcbiJdLCJuYW1lcyI6WyJFUFNJTE9OIiwiQVJSQVlfVFlQRSIsInkiLCJpIiwiY3JlYXRlIiwib3V0IiwiZ2xNYXRyaXguQVJSQVlfVFlQRSIsImlkZW50aXR5IiwidHJhbnNsYXRlIiwiYSIsInYiLCJ4IiwieiIsImEwMCIsImEwMSIsImEwMiIsImEwMyIsImExMCIsImExMSIsImExMiIsImExMyIsImEyMCIsImEyMSIsImEyMiIsImEyMyIsInNjYWxlIiwicm90YXRlIiwicmFkIiwiYXhpcyIsImxlbiIsInMiLCJjIiwidCIsImIwMCIsImIwMSIsImIwMiIsImIxMCIsImIxMSIsImIxMiIsImIyMCIsImIyMSIsImIyMiIsImdsTWF0cml4LkVQU0lMT04iLCJyb3RhdGVYIiwicm90YXRlWSIsInJvdGF0ZVoiLCJwZXJzcGVjdGl2ZU5PIiwiZm92eSIsImFzcGVjdCIsIm5lYXIiLCJmYXIiLCJmIiwibmYiLCJwZXJzcGVjdGl2ZSIsImxvb2tBdCIsImV5ZSIsImNlbnRlciIsInVwIiwieDAiLCJ4MSIsIngyIiwieTAiLCJ5MSIsInkyIiwiejAiLCJ6MSIsInoyIiwiZXlleCIsImV5ZXkiLCJleWV6IiwidXB4IiwidXB5IiwidXB6IiwiY2VudGVyeCIsImNlbnRlcnkiLCJjZW50ZXJ6IiwiZnJvbVZhbHVlcyIsImFkZCIsImIiLCJzdWJ0cmFjdCIsIm5lZ2F0ZSIsIm5vcm1hbGl6ZSIsImNyb3NzIiwiYXgiLCJheSIsImF6IiwiYngiLCJieSIsImJ6IiwidHJhbnNmb3JtTWF0NCIsIm0iLCJ3IiwidmVjIiwic3RyaWRlIiwib2Zmc2V0IiwiY291bnQiLCJmbiIsImFyZyIsImwiLCJjcmVhdGVfZ3B1X2J1ZmZlciIsImRhdGEiLCJ1c2FnZSIsImRldmljZSIsIlN5c3RlbUNvcmUiLCJidWZmZXIiLCJtYXBwZWRSYW5nZSIsIm1vZGVscyIsImxvYWRfbW9kZWwiLCJtb2RlbF9wYXRoIiwibW9kZWwiLCJwb3NpdGlvbnMiLCJub3JtYWxzIiwidXZzIiwidmVydGljZXNfYmVmb3JlX2luZGV4ZWQiLCJtYXhfcG9zaXRpb24iLCJ2ZWM0LmNyZWF0ZSIsIm1pbl9wb3NpdGlvbiIsImxpbmUiLCJzcGxpdF9saW5lIiwidHlwZSIsInBvc2l0aW9uIiwidmVjNC5mcm9tVmFsdWVzIiwibm9ybWFsIiwidXYiLCJpbmRpY2VzIiwidmVydGV4X21hcCIsInZlcnRleF9kYXRhIiwidmVydGV4IiwiYXR0cmlidXRlcyIsInBvc2l0aW9uX2luZGV4IiwidXZfaW5kZXgiLCJub3JtYWxfaW5kZXgiLCJpbmRleCIsInZlcnRleF9kYXRhX2FycmF5IiwidmVydGV4X2RhdGFfZ3B1IiwiaW5kaWNlc19ncHUiLCJpbmRleF9jb3VudCIsInJlc3VsdCIsIlNjZW5lT2JqZWN0IiwiaWQiLCJuYW1lIiwic2NlbmUiLCJzaGFkZXJfcGF0aCIsInBpcGVsaW5lIiwidmVjMy5jcmVhdGUiLCJ2ZWxvY2l0eSIsInJvdGF0aW9uIiwidmVjMy5mcm9tVmFsdWVzIiwidGV4dHVyZV9kaWZmdXNlIiwidGV4dHVyZV9zcGVjdWxhciIsInRleHR1cmVfbm9ybWFsIiwidGV4dHVyZV9lbWlzc2l2ZSIsIm1vZGVsX21hdHJpeCIsIm1hdDQuY3JlYXRlIiwibWF0NC50cmFuc2xhdGUiLCJtYXQ0LnJvdGF0ZVgiLCJtYXQ0LnJvdGF0ZVkiLCJtYXQ0LnJvdGF0ZVoiLCJtYXQ0LnNjYWxlIiwib2JqZWN0IiwiQ2FtZXJhIiwibG9va19hdF90YXJnZXQiLCJzdXBlcl9hcmdzIiwidGFyZ2V0IiwidmVjMy5ub3JtYWxpemUiLCJ2ZWMzLnN1YnRyYWN0IiwidmVjMy5jcm9zcyIsInZpZXciLCJtYXQ0Lmxvb2tBdCIsIndpZHRoIiwiaGVpZ2h0IiwicHJvamVjdGlvbiIsIm1hdDQucGVyc3BlY3RpdmUiLCJrZXlfcHJlc3MiLCJrZXlfc3RhdGUiLCJtb3VzZV9zdGF0ZSIsImNhbnZhcyIsImZyYW1lX3JvdGF0aW9uX3NwZWVkIiwicm90YXRpb25fbWF0cml4IiwidmVjMy5uZWdhdGUiLCJ2ZWMzLnRyYW5zZm9ybU1hdDQiLCJjYW1lcmFfcmlnaHQiLCJkeCIsImR5IiwibWF0NC5yb3RhdGUiLCJuZXdfY2FtZXJhX2ZvcndhcmQiLCJ2ZWMzLmFkZCIsImZyYW1lX3RyYW5zbGF0aW9uX3NwZWVkIiwiZm9yd2FyZCIsInZlYzMuc2NhbGUiLCJyaWdodCIsIkxpZ2h0IiwiY29sb3IiLCJpbnRlbnNpdHkiLCJQaXBlTGluZU1hbmFnZXIiLCJwaXBlbGluZV9rZXkiLCJTaGFkZXJNYW5hZ2VyIiwicmVzcG9uc2UiLCJFdmVudEVudW0iLCJFdmVudEVudW0yIiwiR2FtZUV2ZW50U3lzdGVtIiwiZXZlbnRfbmFtZSIsImNhbGxiYWNrIiwiZXZlbnRfY2FsbGJhY2tzIiwicHJvbWlzZXMiLCJUZXh0dXJlTWFuYWdlciIsInRleHR1cmVfcGF0aCIsImZvcm1hdCIsInRleHR1cmVfYmxvYiIsInRleHR1cmVfZGF0YSIsInRleHR1cmVfZ3B1IiwiQ29tcHV0ZU9iamVjdCIsInBhcmFtcyIsIl9hIiwiX2IiLCJkaW1lbnNpb24iLCJjYW52YXNfd2lkdGgiLCJjYW52YXNfaGVpZ2h0Iiwic2NlbmVfd2lkdGgiLCJzY2VuZV9oZWlnaHQiLCJyZWdpc3RlcmVkX3NjZW5lX29iamVjdF90eXBlcyIsIlBpcGVMaW5lIiwiZ3B1X3BpcGVsaW5lIiwicHJpb3JpdHkiLCJEZWZhdWx0MkRDb21wdXRlUGlwZUxpbmUiLCJzaGFkZXIiLCJtb2R1bGUiLCJyZWxldmFudF9jb21wdXRlX29iamVjdHMiLCJjb21wdXRlX3Bhc3MiLCJkZWZhdWx0X2JpbmRncm91cF9kZXNjcmlwdG9yIiwib2JqIiwiY29tcHV0ZV9vYmoiLCJERUZBVUxUXzNEX1VOSUZPUk1fREFUQV9TSVpFX0ZMT0FUIiwiYmluZF9ncm91cF9sYXlvdXRfZGVzY3JpcHRvciIsIkRlZmF1bHQzRFBpcGVMaW5lIiwic2hhZGVyX21hbmFnZXIiLCJwcmVzZW50YXRpb25fZm9ybWF0IiwiYmluZF9ncm91cF9sYXlvdXQiLCJkZWZhdWx0XzNkX3BpcGVsaW5lIiwiY29tbWFuZF9lbmNvZGVyIiwidGV4dHVyZV9tYW5hZ2VyIiwidGV4dHVyZV92aWV3IiwiZGVwdGhfdGV4dHVyZV92aWV3IiwicmVsZXZhbnRfc2NlbmVfb2JqZWN0cyIsInJlbmRlcl9wYXNzIiwib2JqZWN0XzAiLCJoYXNfdGV4dHVyZV9kaWZmdXNlIiwiaGFzX3RleHR1cmVfc3BlY3VsYXIiLCJoYXNfdGV4dHVyZV9ub3JtYWwiLCJtb2RlbF90cmFuc2Zvcm1zIiwibmVlZGVkX21vZGVsX3RyYW5zZm9ybV9zaXplIiwiY3VycmVudF9tb2RlbF90cmFuc2Zvcm1zX3NpemUiLCJ1bmlmb3JtX2RhdGEiLCJhY2MiLCJsaWdodCIsImJpbmRncm91cF9kZXNjcmlwdG9yIiwicmVnaXN0ZXJlZF9waXBlbGluZV90eXBlcyIsIlNjZW5lIiwic2NlbmVfcGF0aCIsImNhbnZhc19pZCIsInNjZW5lX2RhdGEiLCJjb250ZXh0Iiwib2JqZWN0X2RhdGEiLCJhcmdzIiwib2JqZWN0X3R5cGUiLCJlcnJvciIsInJlY3QiLCJ1cGRhdGVfcHJvbWlzZXMiLCJvcmRlcmVkX3BpcGVsaW5lcyIsIm9yZGVyIiwib3JkZXJlZF9rZXlzIiwia2V5IiwicmVuZGVyX3Byb21pc2VzIiwiU3lzdGVtSW5wdXRIYW5kbGVyIiwiZSIsIl9TeXN0ZW1Db3JlIiwiY29uZmlnX3BhdGgiLCJhZGFwdGVyIl0sIm1hcHBpbmdzIjoiQUFLTyxJQUFJQSxJQUFVLE1BQ1ZDLElBQWEsT0FBTyxlQUFpQixNQUFjLGVBQWU7QUFrQ3hFLEtBQUssVUFBTyxLQUFLLFFBQVEsV0FBWTtBQUl4QyxXQUhJQyxJQUFJLEdBQ0pDLElBQUksVUFBVSxRQUVYQTtBQUNMLElBQUFELEtBQUssVUFBVUMsQ0FBQyxJQUFJLFVBQVVBLENBQUM7QUFHakMsU0FBTyxLQUFLLEtBQUtELENBQUM7QUFDcEI7QUNyQ08sU0FBU0UsSUFBUztBQUN2QixNQUFJQyxJQUFNLElBQUlDLEVBQW9CLEVBQUU7QUFFcEMsU0FBSUEsS0FBdUIsaUJBQ3pCRCxFQUFJLENBQUMsSUFBSSxHQUNUQSxFQUFJLENBQUMsSUFBSSxHQUNUQSxFQUFJLENB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
